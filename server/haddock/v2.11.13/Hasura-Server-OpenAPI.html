<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Hasura.Server.OpenAPI</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">graphql-engine-1.0.0: GraphQL API over Postgres</span><ul class="links" id="page-menu"><li><a href="src/Hasura.Server.OpenAPI.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Hasura.Server.OpenAPI</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:buildOpenAPI">buildOpenAPI</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> m) =&gt; <a href="Hasura-RQL-Types-SchemaCache.html#t:SchemaCache" title="Hasura.RQL.Types.SchemaCache">SchemaCache</a> -&gt; m OpenApi</li><li class="src short"><a href="#v:buildAllEndpoints">buildAllEndpoints</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> m) =&gt; <a href="Hasura-RQL-Types-SchemaCache.html#t:SchemaCache" title="Hasura.RQL.Types.SchemaCache">SchemaCache</a> -&gt; SchemaIntrospection -&gt; <a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m (InsOrdHashMap <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> (PathItem, Text))</li><li class="src short"><a href="#v:buildEndpoint">buildEndpoint</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> m) =&gt; SchemaIntrospection -&gt; <a href="Hasura-RQL-Types-Endpoint.html#t:EndpointMethod" title="Hasura.RQL.Types.Endpoint">EndpointMethod</a> -&gt; <a href="Hasura-RQL-Types-Endpoint.html#t:EndpointMetadata" title="Hasura.RQL.Types.Endpoint">EndpointMetadata</a> <a href="Hasura-RQL-Types-QueryCollection.html#t:GQLQueryWithText" title="Hasura.RQL.Types.QueryCollection">GQLQueryWithText</a> -&gt; <a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m (InsOrdHashMap <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> (PathItem, Text))</li><li class="src short"><a href="#v:collectParams">collectParams</a> :: <a href="Hasura-GraphQL-Analyse.html#t:Structure" title="Hasura.GraphQL.Analyse">Structure</a> -&gt; <a href="Hasura-RQL-Types-Endpoint.html#t:EndpointUrl" title="Hasura.RQL.Types.Endpoint">EndpointUrl</a> -&gt; [Referenced Param]</li><li class="src short"><a href="#v:buildRequestBody">buildRequestBody</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> m) =&gt; <a href="Hasura-GraphQL-Analyse.html#t:Structure" title="Hasura.GraphQL.Analyse">Structure</a> -&gt; <a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (Referenced RequestBody))</li><li class="src short"><a href="#v:buildVariableSchema">buildVariableSchema</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> m) =&gt; <a href="Hasura-GraphQL-Analyse.html#t:VariableInfo" title="Hasura.GraphQL.Analyse">VariableInfo</a> -&gt; <a href="Control-Monad-Circular.html#t:CircularT" title="Control.Monad.Circular">CircularT</a> (Name, Nullability) (Referenced Schema) (<a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m) (Referenced Schema, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</li><li class="src short"><a href="#v:buildInputFieldSchema">buildInputFieldSchema</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> m =&gt; GType -&gt; <a href="Hasura-GraphQL-Analyse.html#t:InputFieldInfo" title="Hasura.GraphQL.Analyse">InputFieldInfo</a> -&gt; <a href="Control-Monad-Circular.html#t:CircularT" title="Control.Monad.Circular">CircularT</a> (Name, Nullability) (Referenced Schema) (<a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m) (Referenced Schema)</li><li class="src short"><a href="#v:buildResponse">buildResponse</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Hasura-GraphQL-Analyse.html#t:Structure" title="Hasura.GraphQL.Analyse">Structure</a> -&gt; <a href="Hasura-RQL-Types-Endpoint.html#t:EndpointMethod" title="Hasura.RQL.Types.Endpoint">EndpointMethod</a> -&gt; Text -&gt; <a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m Response</li><li class="src short"><a href="#v:buildSelectionSchema">buildSelectionSchema</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; [(Name, <a href="Hasura-GraphQL-Analyse.html#t:FieldInfo" title="Hasura.GraphQL.Analyse">FieldInfo</a>)] -&gt; <a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m Schema</li><li class="src short"><a href="#v:buildFieldSchema">buildFieldSchema</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Hasura-GraphQL-Analyse.html#t:FieldInfo" title="Hasura.GraphQL.Analyse">FieldInfo</a> -&gt; <a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m (Referenced Schema)</li><li class="src short"><a href="#v:buildScalarSchema">buildScalarSchema</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Hasura-GraphQL-Analyse.html#t:ScalarInfo" title="Hasura.GraphQL.Analyse">ScalarInfo</a> -&gt; Name -&gt; Nullability -&gt; <a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m (Referenced Schema)</li><li class="src short"><a href="#v:getReferenceScalarInfo">getReferenceScalarInfo</a> :: Name -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (OpenApiType, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Pattern, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</li><li class="src short"><a href="#v:buildEnumSchema">buildEnumSchema</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Hasura-GraphQL-Analyse.html#t:EnumInfo" title="Hasura.GraphQL.Analyse">EnumInfo</a> -&gt; Name -&gt; Nullability -&gt; <a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m (Referenced Schema)</li><li class="src short"><a href="#v:applyModifiers">applyModifiers</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; GType -&gt; (Name -&gt; Nullability -&gt; m (Referenced Schema)) -&gt; m (Referenced Schema)</li><li class="src short"><a href="#v:declareType">declareType</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; Name -&gt; Nullability -&gt; Schema -&gt; <a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m (Referenced Schema)</li><li class="src short"><a href="#v:mkReferenceName">mkReferenceName</a> :: Name -&gt; Nullability -&gt; Text</li><li class="src short"><span class="keyword">type</span> <a href="#t:DeclareM">DeclareM</a> = DeclareT (Definitions Schema)</li><li class="src short"><a href="#v:xHasuraAdminSecret">xHasuraAdminSecret</a> :: Param</li><li class="src short"><a href="#v:gqlToJsonValue">gqlToJsonValue</a> :: Value <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Void.html#t:Void" title="Data.Void">Void</a> -&gt; Value</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:buildOpenAPI" class="def">buildOpenAPI</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> m) =&gt; <a href="Hasura-RQL-Types-SchemaCache.html#t:SchemaCache" title="Hasura.RQL.Types.SchemaCache">SchemaCache</a> -&gt; m OpenApi <a href="src/Hasura.Server.OpenAPI.html#buildOpenAPI" class="link">Source</a> <a href="#v:buildOpenAPI" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:buildAllEndpoints" class="def">buildAllEndpoints</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> m) =&gt; <a href="Hasura-RQL-Types-SchemaCache.html#t:SchemaCache" title="Hasura.RQL.Types.SchemaCache">SchemaCache</a> -&gt; SchemaIntrospection -&gt; <a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m (InsOrdHashMap <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> (PathItem, Text)) <a href="src/Hasura.Server.OpenAPI.html#buildAllEndpoints" class="link">Source</a> <a href="#v:buildAllEndpoints" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:buildEndpoint" class="def">buildEndpoint</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> m) =&gt; SchemaIntrospection -&gt; <a href="Hasura-RQL-Types-Endpoint.html#t:EndpointMethod" title="Hasura.RQL.Types.Endpoint">EndpointMethod</a> -&gt; <a href="Hasura-RQL-Types-Endpoint.html#t:EndpointMetadata" title="Hasura.RQL.Types.Endpoint">EndpointMetadata</a> <a href="Hasura-RQL-Types-QueryCollection.html#t:GQLQueryWithText" title="Hasura.RQL.Types.QueryCollection">GQLQueryWithText</a> -&gt; <a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m (InsOrdHashMap <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> (PathItem, Text)) <a href="src/Hasura.Server.OpenAPI.html#buildEndpoint" class="link">Source</a> <a href="#v:buildEndpoint" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:collectParams" class="def">collectParams</a> :: <a href="Hasura-GraphQL-Analyse.html#t:Structure" title="Hasura.GraphQL.Analyse">Structure</a> -&gt; <a href="Hasura-RQL-Types-Endpoint.html#t:EndpointUrl" title="Hasura.RQL.Types.Endpoint">EndpointUrl</a> -&gt; [Referenced Param] <a href="src/Hasura.Server.OpenAPI.html#collectParams" class="link">Source</a> <a href="#v:collectParams" class="selflink">#</a></p><div class="doc"><p>Given the <code><a href="Hasura-GraphQL-Analyse.html#t:Structure" title="Hasura.GraphQL.Analyse">Structure</a></code> of a query, generate the corresponding parameters.</p><p>We expect one optional parameter per known scalar variable.</p></div></div><div class="top"><p class="src"><a id="v:buildRequestBody" class="def">buildRequestBody</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> m) =&gt; <a href="Hasura-GraphQL-Analyse.html#t:Structure" title="Hasura.GraphQL.Analyse">Structure</a> -&gt; <a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (Referenced RequestBody)) <a href="src/Hasura.Server.OpenAPI.html#buildRequestBody" class="link">Source</a> <a href="#v:buildRequestBody" class="selflink">#</a></p><div class="doc"><p>Given the <code><a href="Hasura-GraphQL-Analyse.html#t:Structure" title="Hasura.GraphQL.Analyse">Structure</a></code> of a query, generate the corresponding <code>RequestBody</code>.</p><p>We always expect an object that has a field per variable of the query if
 there is at least one variable in the query; otherwise we don't expect a
 request body.</p></div></div><div class="top"><p class="src"><a id="v:buildVariableSchema" class="def">buildVariableSchema</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> m) =&gt; <a href="Hasura-GraphQL-Analyse.html#t:VariableInfo" title="Hasura.GraphQL.Analyse">VariableInfo</a> -&gt; <a href="Control-Monad-Circular.html#t:CircularT" title="Control.Monad.Circular">CircularT</a> (Name, Nullability) (Referenced Schema) (<a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m) (Referenced Schema, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) <a href="src/Hasura.Server.OpenAPI.html#buildVariableSchema" class="link">Source</a> <a href="#v:buildVariableSchema" class="selflink">#</a></p><div class="doc"><p>Given the information about a variable, build the corresponding schema.</p><p>Returns the generated schema, and a boolean indicating whether the variable
 is required.</p></div></div><div class="top"><p class="src"><a id="v:buildInputFieldSchema" class="def">buildInputFieldSchema</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> m =&gt; GType -&gt; <a href="Hasura-GraphQL-Analyse.html#t:InputFieldInfo" title="Hasura.GraphQL.Analyse">InputFieldInfo</a> -&gt; <a href="Control-Monad-Circular.html#t:CircularT" title="Control.Monad.Circular">CircularT</a> (Name, Nullability) (Referenced Schema) (<a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m) (Referenced Schema) <a href="src/Hasura.Server.OpenAPI.html#buildInputFieldSchema" class="link">Source</a> <a href="#v:buildInputFieldSchema" class="selflink">#</a></p><div class="doc"><p>Given the information about an input type, build the corresponding schema.</p></div></div><div class="top"><p class="src"><a id="v:buildResponse" class="def">buildResponse</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Hasura-GraphQL-Analyse.html#t:Structure" title="Hasura.GraphQL.Analyse">Structure</a> -&gt; <a href="Hasura-RQL-Types-Endpoint.html#t:EndpointMethod" title="Hasura.RQL.Types.Endpoint">EndpointMethod</a> -&gt; Text -&gt; <a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m Response <a href="src/Hasura.Server.OpenAPI.html#buildResponse" class="link">Source</a> <a href="#v:buildResponse" class="selflink">#</a></p><div class="doc"><p>Given the <code><a href="Hasura-GraphQL-Analyse.html#t:Structure" title="Hasura.GraphQL.Analyse">Structure</a></code> of a query, generate the corresponding <code>Response</code>.</p></div></div><div class="top"><p class="src"><a id="v:buildSelectionSchema" class="def">buildSelectionSchema</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; [(Name, <a href="Hasura-GraphQL-Analyse.html#t:FieldInfo" title="Hasura.GraphQL.Analyse">FieldInfo</a>)] -&gt; <a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m Schema <a href="src/Hasura.Server.OpenAPI.html#buildSelectionSchema" class="link">Source</a> <a href="#v:buildSelectionSchema" class="selflink">#</a></p><div class="doc"><p>Given a list of fields and their types, build a corresponding schema.</p></div></div><div class="top"><p class="src"><a id="v:buildFieldSchema" class="def">buildFieldSchema</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Hasura-GraphQL-Analyse.html#t:FieldInfo" title="Hasura.GraphQL.Analyse">FieldInfo</a> -&gt; <a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m (Referenced Schema) <a href="src/Hasura.Server.OpenAPI.html#buildFieldSchema" class="link">Source</a> <a href="#v:buildFieldSchema" class="selflink">#</a></p><div class="doc"><p>Build the schema for a given output type.</p></div></div><div class="top"><p class="src"><a id="v:buildScalarSchema" class="def">buildScalarSchema</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Hasura-GraphQL-Analyse.html#t:ScalarInfo" title="Hasura.GraphQL.Analyse">ScalarInfo</a> -&gt; Name -&gt; Nullability -&gt; <a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m (Referenced Schema) <a href="src/Hasura.Server.OpenAPI.html#buildScalarSchema" class="link">Source</a> <a href="#v:buildScalarSchema" class="selflink">#</a></p><div class="doc"><p>Craft the OpenAPI <code>Schema</code> for a given scalar. Any non-standard scalar will
 instead be declared, and returned by reference.</p></div></div><div class="top"><p class="src"><a id="v:getReferenceScalarInfo" class="def">getReferenceScalarInfo</a> :: Name -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (OpenApiType, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Pattern, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) <a href="src/Hasura.Server.OpenAPI.html#getReferenceScalarInfo" class="link">Source</a> <a href="#v:getReferenceScalarInfo" class="selflink">#</a></p><div class="doc"><p>Retrieve info associated with a given scalar, if it can be mapped to a
 built-in OpenAPI scalar. On a match, we return a tuple indiciating which
 scalar should be used, a pattern, and a boolean indicating whether this type
 should be inlined.</p></div></div><div class="top"><p class="src"><a id="v:buildEnumSchema" class="def">buildEnumSchema</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Hasura-GraphQL-Analyse.html#t:EnumInfo" title="Hasura.GraphQL.Analyse">EnumInfo</a> -&gt; Name -&gt; Nullability -&gt; <a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m (Referenced Schema) <a href="src/Hasura.Server.OpenAPI.html#buildEnumSchema" class="link">Source</a> <a href="#v:buildEnumSchema" class="selflink">#</a></p><div class="doc"><p>Craft the OpenAPI <code>Schema</code> for a given enum.</p></div></div><div class="top"><p class="src"><a id="v:applyModifiers" class="def">applyModifiers</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; GType -&gt; (Name -&gt; Nullability -&gt; m (Referenced Schema)) -&gt; m (Referenced Schema) <a href="src/Hasura.Server.OpenAPI.html#applyModifiers" class="link">Source</a> <a href="#v:applyModifiers" class="selflink">#</a></p><div class="doc"><p>Given an annotated GraphQL type (such as <code>[[Foo!]]!</code> and a callback
 function to be used on the actual underlying type, construct a <code>Schema</code> by
 recursively applying modifiers.</p></div></div><div class="top"><p class="src"><a id="v:declareType" class="def">declareType</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; Name -&gt; Nullability -&gt; Schema -&gt; <a href="Hasura-Server-OpenAPI.html#t:DeclareM" title="Hasura.Server.OpenAPI">DeclareM</a> m (Referenced Schema) <a href="src/Hasura.Server.OpenAPI.html#declareType" class="link">Source</a> <a href="#v:declareType" class="selflink">#</a></p><div class="doc"><p>Adds a declaration for the given type, returns a schema that references it.</p></div></div><div class="top"><p class="src"><a id="v:mkReferenceName" class="def">mkReferenceName</a> :: Name -&gt; Nullability -&gt; Text <a href="src/Hasura.Server.OpenAPI.html#mkReferenceName" class="link">Source</a> <a href="#v:mkReferenceName" class="selflink">#</a></p><div class="doc"><p>Crafts a reference name for a given type.</p><p>We use the fact that JSON references allow characters that GraphQL types
 don't: we make a different reference for non-nullable type by using the
 GraphQL convention of suffixing the name by <code>!</code>.</p><p>See Note [Nullable types in OpenAPI].</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:DeclareM" class="def">DeclareM</a> = DeclareT (Definitions Schema) <a href="src/Hasura.Server.OpenAPI.html#DeclareM" class="link">Source</a> <a href="#t:DeclareM" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:xHasuraAdminSecret" class="def">xHasuraAdminSecret</a> :: Param <a href="src/Hasura.Server.OpenAPI.html#xHasuraAdminSecret" class="link">Source</a> <a href="#v:xHasuraAdminSecret" class="selflink">#</a></p><div class="doc"><p>Variable definition for x-hasura-admin-secret</p></div></div><div class="top"><p class="src"><a id="v:gqlToJsonValue" class="def">gqlToJsonValue</a> :: Value <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Void.html#t:Void" title="Data.Void">Void</a> -&gt; Value <a href="src/Hasura.Server.OpenAPI.html#gqlToJsonValue" class="link">Source</a> <a href="#v:gqlToJsonValue" class="selflink">#</a></p><div class="doc"><p>Convert a GraphQL value to an equivalent JSON representation.</p><p>TODO: can we deduplicate this?</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>