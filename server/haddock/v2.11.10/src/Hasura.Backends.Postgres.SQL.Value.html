<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- | Postgres SQL Value</span><span>
</span><span id="line-2"></span><span class="hs-comment">--</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- Deals with Postgres scalar values, converting them to and from 'Text', and to</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- JSON 'Value'.</span><span>
</span><span id="line-5"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Hasura.Backends.Postgres.SQL.Value</span><span>
</span><span id="line-6"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGScalarValue"><span class="hs-identifier">PGScalarValue</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>    </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#pgScalarValueToJson"><span class="hs-identifier">pgScalarValueToJson</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>    </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#withConstructorFn"><span class="hs-identifier">withConstructorFn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>    </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#parsePGValue"><span class="hs-identifier">parsePGValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>    </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#scientificToInteger"><span class="hs-identifier">scientificToInteger</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#scientificToFloat"><span class="hs-identifier">scientificToFloat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#textToScalarValue"><span class="hs-identifier">textToScalarValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="Hasura.SQL.Value.html#TxtEncodedVal"><span class="hs-identifier">TxtEncodedVal</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#txtEncodedVal"><span class="hs-identifier">txtEncodedVal</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#binEncoder"><span class="hs-identifier">binEncoder</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#txtEncoder"><span class="hs-identifier">txtEncoder</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#toPrepParam"><span class="hs-identifier">toPrepParam</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#withScalarTypeAnn"><span class="hs-identifier">withScalarTypeAnn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#withTypeAnn"><span class="hs-identifier">withTypeAnn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">where</span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.Text</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">AE</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.Types</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">AT</span></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B</span></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Int</span></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Scientific</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.Conversions</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TC</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.Encoding</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TE</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.Lazy</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TL</span></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Time</span></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.UUID</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">UUID</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Database.PG.Query</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Q</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Database.PG.Query.PTI</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PTI</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Database.PostgreSQL.LibPQ</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PQ</span></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.DML.html"><span class="hs-identifier">Hasura.Backends.Postgres.SQL.DML</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html"><span class="hs-identifier">Hasura.Backends.Postgres.SQL.Types</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Prelude.html"><span class="hs-identifier">Hasura.Prelude</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.SQL.GeoJSON.html"><span class="hs-identifier">Hasura.SQL.GeoJSON</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.SQL.Time.html"><span class="hs-identifier">Hasura.SQL.Time</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.SQL.Types.html"><span class="hs-identifier">Hasura.SQL.Types</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.SQL.Value.html"><span class="hs-identifier">Hasura.SQL.Value</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.SQL.Value.html#TxtEncodedVal"><span class="hs-identifier">TxtEncodedVal</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PostgreSQL.Binary.Encoding</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PE</span></span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="hs-keyword">newtype</span><span> </span><span id="RasterWKB"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#RasterWKB"><span class="hs-identifier hs-var">RasterWKB</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RasterWKB"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#RasterWKB"><span class="hs-identifier hs-var">RasterWKB</span></a></span></span><span> </span><span class="hs-special">{</span><span id="getRasterWKB"><span class="annot"><span class="annottext">RasterWKB -&gt; Base16 ByteString
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#getRasterWKB"><span class="hs-identifier hs-var hs-var">getRasterWKB</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TC.Base16</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.ByteString</span></span><span class="hs-special">}</span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621689310374"><span id="local-6989586621689310376"><span id="local-6989586621689310378"><span class="annot"><span class="annottext">Int -&gt; RasterWKB -&gt; ShowS
[RasterWKB] -&gt; ShowS
RasterWKB -&gt; String
(Int -&gt; RasterWKB -&gt; ShowS)
-&gt; (RasterWKB -&gt; String)
-&gt; ([RasterWKB] -&gt; ShowS)
-&gt; Show RasterWKB
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [RasterWKB] -&gt; ShowS
$cshowList :: [RasterWKB] -&gt; ShowS
show :: RasterWKB -&gt; String
$cshow :: RasterWKB -&gt; String
showsPrec :: Int -&gt; RasterWKB -&gt; ShowS
$cshowsPrec :: Int -&gt; RasterWKB -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689310369"><span id="local-6989586621689310371"><span class="annot"><span class="annottext">RasterWKB -&gt; RasterWKB -&gt; Bool
(RasterWKB -&gt; RasterWKB -&gt; Bool)
-&gt; (RasterWKB -&gt; RasterWKB -&gt; Bool) -&gt; Eq RasterWKB
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: RasterWKB -&gt; RasterWKB -&gt; Bool
$c/= :: RasterWKB -&gt; RasterWKB -&gt; Bool
== :: RasterWKB -&gt; RasterWKB -&gt; Bool
$c== :: RasterWKB -&gt; RasterWKB -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689310365"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#RasterWKB"><span class="hs-identifier hs-type">RasterWKB</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-51"></span><span>  </span><span id="local-6989586621689310363"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser RasterWKB
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-52"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span id="local-6989586621689310360"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310360"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Maybe (Base16 ByteString)
forall a. FromText a =&gt; Text -&gt; a
</span><span class="hs-identifier hs-var">TC.fromText</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310360"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-53"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621689310358"><span class="annot"><span class="annottext">Base16 ByteString
</span><a href="#local-6989586621689310358"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RasterWKB -&gt; Parser RasterWKB
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(RasterWKB -&gt; Parser RasterWKB) -&gt; RasterWKB -&gt; Parser RasterWKB
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Base16 ByteString -&gt; RasterWKB
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#RasterWKB"><span class="hs-identifier hs-var">RasterWKB</span></a></span><span> </span><span class="annot"><span class="annottext">Base16 ByteString
</span><a href="#local-6989586621689310358"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-54"></span><span>      </span><span class="annot"><span class="annottext">Maybe (Base16 ByteString)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-55"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; Parser RasterWKB
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span>
</span><span id="line-56"></span><span>          </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;invalid hexadecimal representation of raster well known binary format&quot;</span></span><span>
</span><span id="line-57"></span><span>    </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser RasterWKB
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;expecting String for raster&quot;</span></span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689310351"><span id="local-6989586621689310353"><span id="local-6989586621689310355"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#RasterWKB"><span class="hs-identifier hs-type">RasterWKB</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-60"></span><span>  </span><span id="local-6989586621689310349"><span class="annot"><span class="annottext">toJSON :: RasterWKB -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; (RasterWKB -&gt; Text) -&gt; RasterWKB -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Base16 ByteString -&gt; Text
forall a. ToText a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">TC.toText</span></span><span> </span><span class="annot"><span class="annottext">(Base16 ByteString -&gt; Text)
-&gt; (RasterWKB -&gt; Base16 ByteString) -&gt; RasterWKB -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">RasterWKB -&gt; Base16 ByteString
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#getRasterWKB"><span class="hs-identifier hs-var hs-var">getRasterWKB</span></a></span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="hs-keyword">newtype</span><span> </span><span id="Ltree"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#Ltree"><span class="hs-identifier hs-var">Ltree</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Ltree"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#Ltree"><span class="hs-identifier hs-var">Ltree</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621689310339"><span id="local-6989586621689310341"><span id="local-6989586621689310343"><span class="annot"><span class="annottext">Int -&gt; Ltree -&gt; ShowS
[Ltree] -&gt; ShowS
Ltree -&gt; String
(Int -&gt; Ltree -&gt; ShowS)
-&gt; (Ltree -&gt; String) -&gt; ([Ltree] -&gt; ShowS) -&gt; Show Ltree
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Ltree] -&gt; ShowS
$cshowList :: [Ltree] -&gt; ShowS
show :: Ltree -&gt; String
$cshow :: Ltree -&gt; String
showsPrec :: Int -&gt; Ltree -&gt; ShowS
$cshowsPrec :: Int -&gt; Ltree -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689310335"><span id="local-6989586621689310337"><span class="annot"><span class="annottext">Ltree -&gt; Ltree -&gt; Bool
(Ltree -&gt; Ltree -&gt; Bool) -&gt; (Ltree -&gt; Ltree -&gt; Bool) -&gt; Eq Ltree
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Ltree -&gt; Ltree -&gt; Bool
$c/= :: Ltree -&gt; Ltree -&gt; Bool
== :: Ltree -&gt; Ltree -&gt; Bool
$c== :: Ltree -&gt; Ltree -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689310328"><span id="local-6989586621689310330"><span id="local-6989586621689310332"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#Ltree"><span class="hs-identifier hs-type">Ltree</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-66"></span><span>  </span><span id="local-6989586621689310327"><span class="annot"><span class="annottext">toJSON :: Ltree -&gt; Value
</span><a href="#local-6989586621689310327"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#Ltree"><span class="hs-identifier hs-type">Ltree</span></a></span><span> </span><span id="local-6989586621689310326"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310326"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310326"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689310323"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#Ltree"><span class="hs-identifier hs-type">Ltree</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-69"></span><span>  </span><span id="local-6989586621689310322"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser Ltree
</span><a href="#local-6989586621689310322"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-70"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span id="local-6989586621689310321"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310321"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-71"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Bool) -&gt; [Text] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><span class="hs-identifier hs-var">T.null</span></span><span> </span><span class="annot"><span class="annottext">([Text] -&gt; Bool) -&gt; [Text] -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; [Text]
</span><span class="hs-identifier hs-var">T.splitOn</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310321"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-72"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser Ltree
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621689310316"><span class="hs-identifier hs-var">message</span></a></span><span>
</span><span id="line-73"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Ltree -&gt; Parser Ltree
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Ltree -&gt; Parser Ltree) -&gt; Ltree -&gt; Parser Ltree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Ltree
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#Ltree"><span class="hs-identifier hs-var">Ltree</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310321"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-74"></span><span>    </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser Ltree
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621689310316"><span class="hs-identifier hs-var">message</span></a></span><span>
</span><span id="line-75"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-76"></span><span>      </span><span id="local-6989586621689310316"><span class="annot"><span class="annottext">message :: String
</span><a href="#local-6989586621689310316"><span class="hs-identifier hs-var hs-var">message</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Expecting label path: a sequence of zero or more labels separated by dots, for example L1.L2.L3&quot;</span></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="hs-comment">-- @PGScalarValue@ represents any value that can be a column in a Postgres table</span><span>
</span><span id="line-79"></span><span class="hs-keyword">data</span><span> </span><span id="PGScalarValue"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGScalarValue"><span class="hs-identifier hs-var">PGScalarValue</span></a></span></span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PGValInteger"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValInteger"><span class="hs-identifier hs-var">PGValInteger</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int32</span></span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValSmallInt"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValSmallInt"><span class="hs-identifier hs-var">PGValSmallInt</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int16</span></span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValBigInt"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValBigInt"><span class="hs-identifier hs-var">PGValBigInt</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int64</span></span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValFloat"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValFloat"><span class="hs-identifier hs-var">PGValFloat</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValDouble"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValDouble"><span class="hs-identifier hs-var">PGValDouble</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValNumeric"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValNumeric"><span class="hs-identifier hs-var">PGValNumeric</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Scientific</span></span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValMoney"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValMoney"><span class="hs-identifier hs-var">PGValMoney</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Scientific</span></span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValBoolean"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValBoolean"><span class="hs-identifier hs-var">PGValBoolean</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValChar"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValChar"><span class="hs-identifier hs-var">PGValChar</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValVarchar"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValVarchar"><span class="hs-identifier hs-var">PGValVarchar</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValText"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValText"><span class="hs-identifier hs-var">PGValText</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValCitext"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValCitext"><span class="hs-identifier hs-var">PGValCitext</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValDate"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValDate"><span class="hs-identifier hs-var">PGValDate</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Day</span></span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValTimeStamp"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValTimeStamp"><span class="hs-identifier hs-var">PGValTimeStamp</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">LocalTime</span></span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValTimeStampTZ"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValTimeStampTZ"><span class="hs-identifier hs-var">PGValTimeStampTZ</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UTCTime</span></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValTimeTZ"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValTimeTZ"><span class="hs-identifier hs-var">PGValTimeTZ</span></a></span></span><span> </span><span class="annot"><a href="Hasura.SQL.Time.html#ZonedTimeOfDay"><span class="hs-identifier hs-type">ZonedTimeOfDay</span></a></span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGNull"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGNull"><span class="hs-identifier hs-var">PGNull</span></a></span></span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html#PGScalarType"><span class="hs-identifier hs-type">PGScalarType</span></a></span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValJSON"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValJSON"><span class="hs-identifier hs-var">PGValJSON</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q.JSON</span></span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValJSONB"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValJSONB"><span class="hs-identifier hs-var">PGValJSONB</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q.JSONB</span></span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValGeo"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValGeo"><span class="hs-identifier hs-var">PGValGeo</span></a></span></span><span> </span><span class="annot"><a href="Hasura.SQL.GeoJSON.html#GeometryWithCRS"><span class="hs-identifier hs-type">GeometryWithCRS</span></a></span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValRaster"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValRaster"><span class="hs-identifier hs-var">PGValRaster</span></a></span></span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#RasterWKB"><span class="hs-identifier hs-type">RasterWKB</span></a></span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValUUID"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValUUID"><span class="hs-identifier hs-var">PGValUUID</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UUID.UUID</span></span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValLtree"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValLtree"><span class="hs-identifier hs-var">PGValLtree</span></a></span></span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#Ltree"><span class="hs-identifier hs-type">Ltree</span></a></span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValLquery"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValLquery"><span class="hs-identifier hs-var">PGValLquery</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValLtxtquery"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValLtxtquery"><span class="hs-identifier hs-var">PGValLtxtquery</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValUnknown"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValUnknown"><span class="hs-identifier hs-var">PGValUnknown</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PGValArray"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValArray"><span class="hs-identifier hs-var">PGValArray</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGScalarValue"><span class="hs-identifier hs-type">PGScalarValue</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621689310283"><span id="local-6989586621689310285"><span id="local-6989586621689310287"><span class="annot"><span class="annottext">Int -&gt; PGScalarValue -&gt; ShowS
[PGScalarValue] -&gt; ShowS
PGScalarValue -&gt; String
(Int -&gt; PGScalarValue -&gt; ShowS)
-&gt; (PGScalarValue -&gt; String)
-&gt; ([PGScalarValue] -&gt; ShowS)
-&gt; Show PGScalarValue
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [PGScalarValue] -&gt; ShowS
$cshowList :: [PGScalarValue] -&gt; ShowS
show :: PGScalarValue -&gt; String
$cshow :: PGScalarValue -&gt; String
showsPrec :: Int -&gt; PGScalarValue -&gt; ShowS
$cshowsPrec :: Int -&gt; PGScalarValue -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689310279"><span id="local-6989586621689310281"><span class="annot"><span class="annottext">PGScalarValue -&gt; PGScalarValue -&gt; Bool
(PGScalarValue -&gt; PGScalarValue -&gt; Bool)
-&gt; (PGScalarValue -&gt; PGScalarValue -&gt; Bool) -&gt; Eq PGScalarValue
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: PGScalarValue -&gt; PGScalarValue -&gt; Bool
$c/= :: PGScalarValue -&gt; PGScalarValue -&gt; Bool
== :: PGScalarValue -&gt; PGScalarValue -&gt; Bool
$c== :: PGScalarValue -&gt; PGScalarValue -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#pgScalarValueToJson"><span class="hs-identifier hs-type">pgScalarValueToJson</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGScalarValue"><span class="hs-identifier hs-type">PGScalarValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value</span></span><span>
</span><span id="line-110"></span><span id="pgScalarValueToJson"><span class="annot"><span class="annottext">pgScalarValueToJson :: PGScalarValue -&gt; Value
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#pgScalarValueToJson"><span class="hs-identifier hs-var hs-var">pgScalarValueToJson</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-111"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValInteger"><span class="hs-identifier hs-type">PGValInteger</span></a></span><span> </span><span id="local-6989586621689310278"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621689310278"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621689310278"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-112"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValSmallInt"><span class="hs-identifier hs-type">PGValSmallInt</span></a></span><span> </span><span id="local-6989586621689310277"><span class="annot"><span class="annottext">Int16
</span><a href="#local-6989586621689310277"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int16 -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Int16
</span><a href="#local-6989586621689310277"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-113"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValBigInt"><span class="hs-identifier hs-type">PGValBigInt</span></a></span><span> </span><span id="local-6989586621689310276"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621689310276"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621689310276"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-114"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValFloat"><span class="hs-identifier hs-type">PGValFloat</span></a></span><span> </span><span id="local-6989586621689310275"><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621689310275"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Float -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621689310275"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-115"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValDouble"><span class="hs-identifier hs-type">PGValDouble</span></a></span><span> </span><span id="local-6989586621689310274"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621689310274"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621689310274"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-116"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValNumeric"><span class="hs-identifier hs-type">PGValNumeric</span></a></span><span> </span><span id="local-6989586621689310273"><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621689310273"><span class="hs-identifier hs-var">sc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621689310273"><span class="hs-identifier hs-var">sc</span></a></span><span>
</span><span id="line-117"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValMoney"><span class="hs-identifier hs-type">PGValMoney</span></a></span><span> </span><span id="local-6989586621689310272"><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621689310272"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621689310272"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-118"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValBoolean"><span class="hs-identifier hs-type">PGValBoolean</span></a></span><span> </span><span id="local-6989586621689310271"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689310271"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689310271"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-119"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValChar"><span class="hs-identifier hs-type">PGValChar</span></a></span><span> </span><span id="local-6989586621689310270"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621689310270"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621689310270"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-120"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValVarchar"><span class="hs-identifier hs-type">PGValVarchar</span></a></span><span> </span><span id="local-6989586621689310269"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310269"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310269"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-121"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValText"><span class="hs-identifier hs-type">PGValText</span></a></span><span> </span><span id="local-6989586621689310268"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310268"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310268"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-122"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValCitext"><span class="hs-identifier hs-type">PGValCitext</span></a></span><span> </span><span id="local-6989586621689310267"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310267"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310267"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-123"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValDate"><span class="hs-identifier hs-type">PGValDate</span></a></span><span> </span><span id="local-6989586621689310266"><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621689310266"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Day -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621689310266"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-124"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValTimeStamp"><span class="hs-identifier hs-type">PGValTimeStamp</span></a></span><span> </span><span id="local-6989586621689310265"><span class="annot"><span class="annottext">LocalTime
</span><a href="#local-6989586621689310265"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; Text -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LocalTime -&gt; Text
forall t. FormatTime t =&gt; t -&gt; Text
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#formatTimestamp"><span class="hs-identifier hs-var">formatTimestamp</span></a></span><span> </span><span class="annot"><span class="annottext">LocalTime
</span><a href="#local-6989586621689310265"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-125"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValTimeStampTZ"><span class="hs-identifier hs-type">PGValTimeStampTZ</span></a></span><span> </span><span id="local-6989586621689310263"><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621689310263"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">String</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; Text -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; Text
forall t. FormatTime t =&gt; t -&gt; Text
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#formatTimestamp"><span class="hs-identifier hs-var">formatTimestamp</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621689310263"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-126"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValTimeTZ"><span class="hs-identifier hs-type">PGValTimeTZ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.SQL.Time.html#ZonedTimeOfDay"><span class="hs-identifier hs-type">ZonedTimeOfDay</span></a></span><span> </span><span id="local-6989586621689310261"><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621689310261"><span class="hs-identifier hs-var">tod</span></a></span></span><span> </span><span id="local-6989586621689310260"><span class="annot"><span class="annottext">TimeZone
</span><a href="#local-6989586621689310260"><span class="hs-identifier hs-var">tz</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-127"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TimeOfDay -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621689310261"><span class="hs-identifier hs-var">tod</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">TimeZone -&gt; String
</span><span class="hs-identifier hs-var">timeZoneOffsetString</span></span><span> </span><span class="annot"><span class="annottext">TimeZone
</span><a href="#local-6989586621689310260"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGNull"><span class="hs-identifier hs-type">PGNull</span></a></span><span> </span><span class="annot"><span class="annottext">PGScalarType
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier hs-var">Null</span></span><span>
</span><span id="line-129"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValJSON"><span class="hs-identifier hs-type">PGValJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Q.JSON</span></span><span> </span><span id="local-6989586621689310255"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310255"><span class="hs-identifier hs-var">j</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310255"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-130"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValJSONB"><span class="hs-identifier hs-type">PGValJSONB</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Q.JSONB</span></span><span> </span><span id="local-6989586621689310253"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310253"><span class="hs-identifier hs-var">j</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310253"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-131"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValGeo"><span class="hs-identifier hs-type">PGValGeo</span></a></span><span> </span><span id="local-6989586621689310252"><span class="annot"><span class="annottext">GeometryWithCRS
</span><a href="#local-6989586621689310252"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GeometryWithCRS -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">GeometryWithCRS
</span><a href="#local-6989586621689310252"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-132"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValRaster"><span class="hs-identifier hs-type">PGValRaster</span></a></span><span> </span><span id="local-6989586621689310251"><span class="annot"><span class="annottext">RasterWKB
</span><a href="#local-6989586621689310251"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RasterWKB -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">RasterWKB
</span><a href="#local-6989586621689310251"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-133"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValUUID"><span class="hs-identifier hs-type">PGValUUID</span></a></span><span> </span><span id="local-6989586621689310250"><span class="annot"><span class="annottext">UUID
</span><a href="#local-6989586621689310250"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UUID -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">UUID
</span><a href="#local-6989586621689310250"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-134"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValLtree"><span class="hs-identifier hs-type">PGValLtree</span></a></span><span> </span><span id="local-6989586621689310249"><span class="annot"><span class="annottext">Ltree
</span><a href="#local-6989586621689310249"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ltree -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Ltree
</span><a href="#local-6989586621689310249"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-135"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValLquery"><span class="hs-identifier hs-type">PGValLquery</span></a></span><span> </span><span id="local-6989586621689310248"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310248"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310248"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-136"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValLtxtquery"><span class="hs-identifier hs-type">PGValLtxtquery</span></a></span><span> </span><span id="local-6989586621689310247"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310247"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310247"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-137"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValUnknown"><span class="hs-identifier hs-type">PGValUnknown</span></a></span><span> </span><span id="local-6989586621689310246"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310246"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310246"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-138"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValArray"><span class="hs-identifier hs-type">PGValArray</span></a></span><span> </span><span id="local-6989586621689310245"><span class="annot"><span class="annottext">[PGScalarValue]
</span><a href="#local-6989586621689310245"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Value] -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PGScalarValue -&gt; Value) -&gt; [PGScalarValue] -&gt; [Value]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">PGScalarValue -&gt; Value
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#pgScalarValueToJson"><span class="hs-identifier hs-var">pgScalarValueToJson</span></a></span><span> </span><span class="annot"><span class="annottext">[PGScalarValue]
</span><a href="#local-6989586621689310245"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#textToScalarValue"><span class="hs-identifier hs-type">textToScalarValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGScalarValue"><span class="hs-identifier hs-type">PGScalarValue</span></a></span><span>
</span><span id="line-141"></span><span id="textToScalarValue"><span class="annot"><span class="annottext">textToScalarValue :: Maybe Text -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#textToScalarValue"><span class="hs-identifier hs-var hs-var">textToScalarValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PGScalarValue
-&gt; (Text -&gt; PGScalarValue) -&gt; Maybe Text -&gt; PGScalarValue
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PGScalarType -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGNull"><span class="hs-identifier hs-var">PGNull</span></a></span><span> </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGText"><span class="hs-identifier hs-var">PGText</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValText"><span class="hs-identifier hs-var">PGValText</span></a></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#withConstructorFn"><span class="hs-identifier hs-type">withConstructorFn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html#PGScalarType"><span class="hs-identifier hs-type">PGScalarType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.DML.html#SQLExp"><span class="hs-identifier hs-type">S.SQLExp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.DML.html#SQLExp"><span class="hs-identifier hs-type">S.SQLExp</span></a></span><span>
</span><span id="line-144"></span><span id="withConstructorFn"><span class="annot"><span class="annottext">withConstructorFn :: PGScalarType -&gt; SQLExp -&gt; SQLExp
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#withConstructorFn"><span class="hs-identifier hs-var hs-var">withConstructorFn</span></a></span></span><span> </span><span id="local-6989586621689310242"><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310242"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621689310241"><span class="annot"><span class="annottext">SQLExp
</span><a href="#local-6989586621689310241"><span class="hs-identifier hs-var">v</span></a></span></span><span>
</span><span id="line-145"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">PGScalarType -&gt; Bool
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#isGeoType"><span class="hs-identifier hs-var">isGeoType</span></a></span><span> </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310242"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; [SQLExp] -&gt; Maybe OrderByExp -&gt; SQLExp
</span><a href="Hasura.Backends.Postgres.SQL.DML.html#SEFnApp"><span class="hs-identifier hs-var">S.SEFnApp</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ST_GeomFromGeoJSON&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SQLExp
</span><a href="#local-6989586621689310241"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Maybe OrderByExp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310242"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">PGScalarType -&gt; PGScalarType -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGRaster"><span class="hs-identifier hs-var">PGRaster</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; [SQLExp] -&gt; Maybe OrderByExp -&gt; SQLExp
</span><a href="Hasura.Backends.Postgres.SQL.DML.html#SEFnApp"><span class="hs-identifier hs-var">S.SEFnApp</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ST_RastFromHexWKB&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SQLExp
</span><a href="#local-6989586621689310241"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Maybe OrderByExp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQLExp
</span><a href="#local-6989586621689310241"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="hs-comment">-- FIXME: shouldn't this also use 'withConstructorFn'?</span><span>
</span><span id="line-150"></span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#withScalarTypeAnn"><span class="hs-identifier hs-type">withScalarTypeAnn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html#PGScalarType"><span class="hs-identifier hs-type">PGScalarType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.DML.html#SQLExp"><span class="hs-identifier hs-type">S.SQLExp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.DML.html#SQLExp"><span class="hs-identifier hs-type">S.SQLExp</span></a></span><span>
</span><span id="line-151"></span><span id="withScalarTypeAnn"><span class="annot"><span class="annottext">withScalarTypeAnn :: PGScalarType -&gt; SQLExp -&gt; SQLExp
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#withScalarTypeAnn"><span class="hs-identifier hs-var hs-var">withScalarTypeAnn</span></a></span></span><span> </span><span id="local-6989586621689310237"><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310237"><span class="hs-identifier hs-var">colTy</span></a></span></span><span> </span><span id="local-6989586621689310236"><span class="annot"><span class="annottext">SQLExp
</span><a href="#local-6989586621689310236"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SQLExp -&gt; TypeAnn -&gt; SQLExp
</span><a href="Hasura.Backends.Postgres.SQL.DML.html#SETyAnn"><span class="hs-identifier hs-var">S.SETyAnn</span></a></span><span> </span><span class="annot"><span class="annottext">SQLExp
</span><a href="#local-6989586621689310236"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeAnn -&gt; SQLExp)
-&gt; (CollectableType PGScalarType -&gt; TypeAnn)
-&gt; CollectableType PGScalarType
-&gt; SQLExp
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CollectableType PGScalarType -&gt; TypeAnn
</span><a href="Hasura.Backends.Postgres.SQL.DML.html#mkTypeAnn"><span class="hs-identifier hs-var">S.mkTypeAnn</span></a></span><span> </span><span class="annot"><span class="annottext">(CollectableType PGScalarType -&gt; SQLExp)
-&gt; CollectableType PGScalarType -&gt; SQLExp
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PGScalarType -&gt; CollectableType PGScalarType
forall a. a -&gt; CollectableType a
</span><a href="Hasura.SQL.Types.html#CollectableTypeScalar"><span class="hs-identifier hs-var">CollectableTypeScalar</span></a></span><span> </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310237"><span class="hs-identifier hs-var">colTy</span></a></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#withTypeAnn"><span class="hs-identifier hs-type">withTypeAnn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.SQL.Types.html#CollectableType"><span class="hs-identifier hs-type">CollectableType</span></a></span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html#PGScalarType"><span class="hs-identifier hs-type">PGScalarType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.DML.html#SQLExp"><span class="hs-identifier hs-type">S.SQLExp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.DML.html#SQLExp"><span class="hs-identifier hs-type">S.SQLExp</span></a></span><span>
</span><span id="line-154"></span><span id="withTypeAnn"><span class="annot"><span class="annottext">withTypeAnn :: CollectableType PGScalarType -&gt; SQLExp -&gt; SQLExp
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#withTypeAnn"><span class="hs-identifier hs-var hs-var">withTypeAnn</span></a></span></span><span> </span><span id="local-6989586621689310232"><span class="annot"><span class="annottext">CollectableType PGScalarType
</span><a href="#local-6989586621689310232"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621689310231"><span class="annot"><span class="annottext">SQLExp
</span><a href="#local-6989586621689310231"><span class="hs-identifier hs-var">expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SQLExp -&gt; TypeAnn -&gt; SQLExp) -&gt; TypeAnn -&gt; SQLExp -&gt; SQLExp
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">SQLExp -&gt; TypeAnn -&gt; SQLExp
</span><a href="Hasura.Backends.Postgres.SQL.DML.html#SETyAnn"><span class="hs-identifier hs-var">S.SETyAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CollectableType PGScalarType -&gt; TypeAnn
</span><a href="Hasura.Backends.Postgres.SQL.DML.html#mkTypeAnn"><span class="hs-identifier hs-var">S.mkTypeAnn</span></a></span><span> </span><span class="annot"><span class="annottext">CollectableType PGScalarType
</span><a href="#local-6989586621689310232"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SQLExp -&gt; SQLExp) -&gt; SQLExp -&gt; SQLExp
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CollectableType PGScalarType
</span><a href="#local-6989586621689310232"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-156"></span><span>    </span><span class="annot"><a href="Hasura.SQL.Types.html#CollectableTypeScalar"><span class="hs-identifier hs-type">CollectableTypeScalar</span></a></span><span> </span><span id="local-6989586621689310229"><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310229"><span class="hs-identifier hs-var">baseTy</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PGScalarType -&gt; SQLExp -&gt; SQLExp
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#withConstructorFn"><span class="hs-identifier hs-var">withConstructorFn</span></a></span><span> </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310229"><span class="hs-identifier hs-var">baseTy</span></a></span><span> </span><span class="annot"><span class="annottext">SQLExp
</span><a href="#local-6989586621689310231"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-157"></span><span>    </span><span class="annot"><a href="Hasura.SQL.Types.html#CollectableTypeArray"><span class="hs-identifier hs-type">CollectableTypeArray</span></a></span><span> </span><span class="annot"><span class="annottext">PGScalarType
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SQLExp
</span><a href="#local-6989586621689310231"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="hs-comment">-- TODO: those two functions are useful outside of Postgres, and</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- should be moved to a common place of the code. Perhaps the Prelude?</span><span>
</span><span id="line-161"></span><span id="local-6989586621689310426"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#scientificToInteger"><span class="hs-identifier hs-type">scientificToInteger</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621689310426"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bounded</span></span><span> </span><span class="annot"><a href="#local-6989586621689310426"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Scientific</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AT.Parser</span></span><span> </span><span class="annot"><a href="#local-6989586621689310426"><span class="hs-identifier hs-type">i</span></a></span></span><span>
</span><span id="line-162"></span><span id="scientificToInteger"><span class="annot"><span class="annottext">scientificToInteger :: Scientific -&gt; Parser i
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#scientificToInteger"><span class="hs-identifier hs-var hs-var">scientificToInteger</span></a></span></span><span> </span><span id="local-6989586621689310227"><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621689310227"><span class="hs-identifier hs-var">num</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-163"></span><span>  </span><span class="annot"><span class="annottext">Scientific -&gt; Maybe i
forall i. (Integral i, Bounded i) =&gt; Scientific -&gt; Maybe i
</span><span class="hs-identifier hs-var">toBoundedInteger</span></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621689310227"><span class="hs-identifier hs-var">num</span></a></span><span>
</span><span id="line-164"></span><span>    </span><span class="annot"><span class="annottext">Maybe i -&gt; Parser i -&gt; Parser i
forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="Hasura.Prelude.html#onNothing"><span class="hs-operator hs-var">`onNothing`</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser i
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span>
</span><span id="line-165"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The value &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621689310227"><span class="hs-identifier hs-var">num</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; lies outside the &quot;</span></span><span>
</span><span id="line-166"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;bounds or is not an integer. Maybe it is a &quot;</span></span><span>
</span><span id="line-167"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;float, or is there integer overflow?&quot;</span></span><span>
</span><span id="line-168"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span id="local-6989586621689310424"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#scientificToFloat"><span class="hs-identifier hs-type">scientificToFloat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RealFloat</span></span><span> </span><span class="annot"><a href="#local-6989586621689310424"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Scientific</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AT.Parser</span></span><span> </span><span class="annot"><a href="#local-6989586621689310424"><span class="hs-identifier hs-type">f</span></a></span></span><span>
</span><span id="line-171"></span><span id="scientificToFloat"><span class="annot"><span class="annottext">scientificToFloat :: Scientific -&gt; Parser f
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#scientificToFloat"><span class="hs-identifier hs-var hs-var">scientificToFloat</span></a></span></span><span> </span><span id="local-6989586621689310224"><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621689310224"><span class="hs-identifier hs-var">num</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-172"></span><span>  </span><span class="annot"><span class="annottext">Scientific -&gt; Either f f
forall a. RealFloat a =&gt; Scientific -&gt; Either a a
</span><span class="hs-identifier hs-var">toBoundedRealFloat</span></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621689310224"><span class="hs-identifier hs-var">num</span></a></span><span>
</span><span id="line-173"></span><span>    </span><span class="annot"><span class="annottext">Either f f -&gt; (f -&gt; Parser f) -&gt; Parser f
forall (m :: * -&gt; *) e a.
Applicative m =&gt;
Either e a -&gt; (e -&gt; m a) -&gt; m a
</span><a href="Hasura.Prelude.html#onLeft"><span class="hs-operator hs-var">`onLeft`</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">f
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-174"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; Parser f
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span>
</span><span id="line-175"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The value &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621689310224"><span class="hs-identifier hs-var">num</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; lies outside the &quot;</span></span><span>
</span><span id="line-176"></span><span>            </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;bounds. Is it overflowing the float bounds?&quot;</span></span><span>
</span><span id="line-177"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#parsePGValue"><span class="hs-identifier hs-type">parsePGValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html#PGScalarType"><span class="hs-identifier hs-type">PGScalarType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AT.Parser</span></span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGScalarValue"><span class="hs-identifier hs-type">PGScalarValue</span></a></span><span>
</span><span id="line-180"></span><span id="parsePGValue"><span class="annot"><span class="annottext">parsePGValue :: PGScalarType -&gt; Value -&gt; Parser PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#parsePGValue"><span class="hs-identifier hs-var hs-var">parsePGValue</span></a></span></span><span> </span><span id="local-6989586621689310221"><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310221"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621689310220"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310221"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-181"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PGScalarType
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier hs-var">Null</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PGScalarValue -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(PGScalarValue -&gt; Parser PGScalarValue)
-&gt; PGScalarValue -&gt; Parser PGScalarValue
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PGScalarType -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGNull"><span class="hs-identifier hs-var">PGNull</span></a></span><span> </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310221"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html#PGUnknown"><span class="hs-identifier hs-type">PGUnknown</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span id="local-6989586621689310218"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310218"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PGScalarValue -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(PGScalarValue -&gt; Parser PGScalarValue)
-&gt; PGScalarValue -&gt; Parser PGScalarValue
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValUnknown"><span class="hs-identifier hs-var">PGValUnknown</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310218"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-183"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGRaster"><span class="hs-identifier hs-var">PGRaster</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Parser PGScalarValue
</span><a href="#local-6989586621689310217"><span class="hs-identifier hs-var">parseTyped</span></a></span><span> </span><span class="hs-comment">-- strictly parse raster value</span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGLtree"><span class="hs-identifier hs-var">PGLtree</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Parser PGScalarValue
</span><a href="#local-6989586621689310217"><span class="hs-identifier hs-var">parseTyped</span></a></span><span>
</span><span id="line-185"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PGScalarType
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span id="local-6989586621689310215"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310215"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Parser PGScalarValue
</span><a href="#local-6989586621689310217"><span class="hs-identifier hs-var">parseTyped</span></a></span><span> </span><span class="annot"><span class="annottext">Parser PGScalarValue
-&gt; Parser PGScalarValue -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">PGScalarValue -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValUnknown"><span class="hs-identifier hs-var">PGValUnknown</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310215"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PGScalarType
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Parser PGScalarValue
</span><a href="#local-6989586621689310217"><span class="hs-identifier hs-var">parseTyped</span></a></span><span>
</span><span id="line-187"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-188"></span><span>    </span><span class="annot"><a href="#local-6989586621689310213"><span class="hs-identifier hs-type">parseBoundedInt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689310420"><span class="annot"><a href="#local-6989586621689310420"><span class="hs-identifier hs-type">i</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621689310420"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bounded</span></span><span> </span><span class="annot"><a href="#local-6989586621689310420"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AT.Parser</span></span><span> </span><span class="annot"><a href="#local-6989586621689310420"><span class="hs-identifier hs-type">i</span></a></span><span>
</span><span id="line-189"></span><span>    </span><span id="local-6989586621689310213"><span class="annot"><span class="annottext">parseBoundedInt :: Value -&gt; Parser i
</span><a href="#local-6989586621689310213"><span class="hs-identifier hs-var hs-var">parseBoundedInt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (Scientific -&gt; Parser i) -&gt; Value -&gt; Parser i
forall a. String -&gt; (Scientific -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">withScientific</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Integer expected for input type: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">PGScalarType -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310221"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Parser i
forall i. (Integral i, Bounded i) =&gt; Scientific -&gt; Parser i
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#scientificToInteger"><span class="hs-identifier hs-var">scientificToInteger</span></a></span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span>    </span><span class="annot"><a href="#local-6989586621689310211"><span class="hs-identifier hs-type">parseBoundedFloat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689310419"><span class="annot"><a href="#local-6989586621689310419"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">RealFloat</span></span><span> </span><span class="annot"><a href="#local-6989586621689310419"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AT.Parser</span></span><span> </span><span class="annot"><a href="#local-6989586621689310419"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-192"></span><span>    </span><span id="local-6989586621689310211"><span class="annot"><span class="annottext">parseBoundedFloat :: Value -&gt; Parser a
</span><a href="#local-6989586621689310211"><span class="hs-identifier hs-var hs-var">parseBoundedFloat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (Scientific -&gt; Parser a) -&gt; Value -&gt; Parser a
forall a. String -&gt; (Scientific -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">withScientific</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Float expected for input type: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">PGScalarType -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310221"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Parser a
forall f. RealFloat f =&gt; Scientific -&gt; Parser f
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#scientificToFloat"><span class="hs-identifier hs-var">scientificToFloat</span></a></span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span>    </span><span id="local-6989586621689310217"><span class="annot"><span class="annottext">parseTyped :: Parser PGScalarValue
</span><a href="#local-6989586621689310217"><span class="hs-identifier hs-var hs-var">parseTyped</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310221"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-195"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGSmallInt"><span class="hs-identifier hs-var">PGSmallInt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int16 -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValSmallInt"><span class="hs-identifier hs-var">PGValSmallInt</span></a></span><span> </span><span class="annot"><span class="annottext">(Int16 -&gt; PGScalarValue) -&gt; Parser Int16 -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Int16
forall i. (Integral i, Bounded i) =&gt; Value -&gt; Parser i
</span><a href="#local-6989586621689310213"><span class="hs-identifier hs-var">parseBoundedInt</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-196"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGInteger"><span class="hs-identifier hs-var">PGInteger</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValInteger"><span class="hs-identifier hs-var">PGValInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Int32 -&gt; PGScalarValue) -&gt; Parser Int32 -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Int32
forall i. (Integral i, Bounded i) =&gt; Value -&gt; Parser i
</span><a href="#local-6989586621689310213"><span class="hs-identifier hs-var">parseBoundedInt</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-197"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGBigInt"><span class="hs-identifier hs-var">PGBigInt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValBigInt"><span class="hs-identifier hs-var">PGValBigInt</span></a></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; PGScalarValue) -&gt; Parser Int64 -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Int64
forall i. (Integral i, Bounded i) =&gt; Value -&gt; Parser i
</span><a href="#local-6989586621689310213"><span class="hs-identifier hs-var">parseBoundedInt</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-198"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGSerial"><span class="hs-identifier hs-var">PGSerial</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValInteger"><span class="hs-identifier hs-var">PGValInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Int32 -&gt; PGScalarValue) -&gt; Parser Int32 -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Int32
forall i. (Integral i, Bounded i) =&gt; Value -&gt; Parser i
</span><a href="#local-6989586621689310213"><span class="hs-identifier hs-var">parseBoundedInt</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-199"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGBigSerial"><span class="hs-identifier hs-var">PGBigSerial</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValBigInt"><span class="hs-identifier hs-var">PGValBigInt</span></a></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; PGScalarValue) -&gt; Parser Int64 -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Int64
forall i. (Integral i, Bounded i) =&gt; Value -&gt; Parser i
</span><a href="#local-6989586621689310213"><span class="hs-identifier hs-var">parseBoundedInt</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-200"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGFloat"><span class="hs-identifier hs-var">PGFloat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Float -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValFloat"><span class="hs-identifier hs-var">PGValFloat</span></a></span><span> </span><span class="annot"><span class="annottext">(Float -&gt; PGScalarValue) -&gt; Parser Float -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Float
forall a. RealFloat a =&gt; Value -&gt; Parser a
</span><a href="#local-6989586621689310211"><span class="hs-identifier hs-var">parseBoundedFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-201"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGDouble"><span class="hs-identifier hs-var">PGDouble</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Double -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValDouble"><span class="hs-identifier hs-var">PGValDouble</span></a></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; PGScalarValue) -&gt; Parser Double -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Double
forall a. RealFloat a =&gt; Value -&gt; Parser a
</span><a href="#local-6989586621689310211"><span class="hs-identifier hs-var">parseBoundedFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-202"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGNumeric"><span class="hs-identifier hs-var">PGNumeric</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValNumeric"><span class="hs-identifier hs-var">PGValNumeric</span></a></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; PGScalarValue)
-&gt; Parser Scientific -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Scientific
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-203"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGMoney"><span class="hs-identifier hs-var">PGMoney</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValMoney"><span class="hs-identifier hs-var">PGValMoney</span></a></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; PGScalarValue)
-&gt; Parser Scientific -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Scientific
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-204"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGBoolean"><span class="hs-identifier hs-var">PGBoolean</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValBoolean"><span class="hs-identifier hs-var">PGValBoolean</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; PGScalarValue) -&gt; Parser Bool -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Bool
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-205"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGChar"><span class="hs-identifier hs-var">PGChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValChar"><span class="hs-identifier hs-var">PGValChar</span></a></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; PGScalarValue) -&gt; Parser Char -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Char
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-206"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGVarchar"><span class="hs-identifier hs-var">PGVarchar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValVarchar"><span class="hs-identifier hs-var">PGValVarchar</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; PGScalarValue) -&gt; Parser Text -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Text
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-207"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGText"><span class="hs-identifier hs-var">PGText</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValText"><span class="hs-identifier hs-var">PGValText</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; PGScalarValue) -&gt; Parser Text -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Text
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-208"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGCitext"><span class="hs-identifier hs-var">PGCitext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValCitext"><span class="hs-identifier hs-var">PGValCitext</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; PGScalarValue) -&gt; Parser Text -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Text
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-209"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGDate"><span class="hs-identifier hs-var">PGDate</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Day -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValDate"><span class="hs-identifier hs-var">PGValDate</span></a></span><span> </span><span class="annot"><span class="annottext">(Day -&gt; PGScalarValue) -&gt; Parser Day -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Day
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-210"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGTimeStamp"><span class="hs-identifier hs-var">PGTimeStamp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LocalTime -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValTimeStamp"><span class="hs-identifier hs-var">PGValTimeStamp</span></a></span><span> </span><span class="annot"><span class="annottext">(LocalTime -&gt; PGScalarValue)
-&gt; Parser LocalTime -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser LocalTime
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-211"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGTimeStampTZ"><span class="hs-identifier hs-var">PGTimeStampTZ</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValTimeStampTZ"><span class="hs-identifier hs-var">PGValTimeStampTZ</span></a></span><span> </span><span class="annot"><span class="annottext">(UTCTime -&gt; PGScalarValue)
-&gt; Parser UTCTime -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser UTCTime
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-212"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGTimeTZ"><span class="hs-identifier hs-var">PGTimeTZ</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ZonedTimeOfDay -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValTimeTZ"><span class="hs-identifier hs-var">PGValTimeTZ</span></a></span><span> </span><span class="annot"><span class="annottext">(ZonedTimeOfDay -&gt; PGScalarValue)
-&gt; Parser ZonedTimeOfDay -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser ZonedTimeOfDay
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-213"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGJSON"><span class="hs-identifier hs-var">PGJSON</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">JSON -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValJSON"><span class="hs-identifier hs-var">PGValJSON</span></a></span><span> </span><span class="annot"><span class="annottext">(JSON -&gt; PGScalarValue)
-&gt; (Value -&gt; JSON) -&gt; Value -&gt; PGScalarValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; JSON
</span><span class="hs-identifier hs-var">Q.JSON</span></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; PGScalarValue) -&gt; Parser Value -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Value
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-214"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGJSONB"><span class="hs-identifier hs-var">PGJSONB</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">JSONB -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValJSONB"><span class="hs-identifier hs-var">PGValJSONB</span></a></span><span> </span><span class="annot"><span class="annottext">(JSONB -&gt; PGScalarValue)
-&gt; (Value -&gt; JSONB) -&gt; Value -&gt; PGScalarValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; JSONB
</span><span class="hs-identifier hs-var">Q.JSONB</span></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; PGScalarValue) -&gt; Parser Value -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Value
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-215"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGGeometry"><span class="hs-identifier hs-var">PGGeometry</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GeometryWithCRS -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValGeo"><span class="hs-identifier hs-var">PGValGeo</span></a></span><span> </span><span class="annot"><span class="annottext">(GeometryWithCRS -&gt; PGScalarValue)
-&gt; Parser GeometryWithCRS -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser GeometryWithCRS
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-216"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGGeography"><span class="hs-identifier hs-var">PGGeography</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GeometryWithCRS -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValGeo"><span class="hs-identifier hs-var">PGValGeo</span></a></span><span> </span><span class="annot"><span class="annottext">(GeometryWithCRS -&gt; PGScalarValue)
-&gt; Parser GeometryWithCRS -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser GeometryWithCRS
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-217"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGRaster"><span class="hs-identifier hs-var">PGRaster</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RasterWKB -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValRaster"><span class="hs-identifier hs-var">PGValRaster</span></a></span><span> </span><span class="annot"><span class="annottext">(RasterWKB -&gt; PGScalarValue)
-&gt; Parser RasterWKB -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser RasterWKB
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-218"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGUUID"><span class="hs-identifier hs-var">PGUUID</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UUID -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValUUID"><span class="hs-identifier hs-var">PGValUUID</span></a></span><span> </span><span class="annot"><span class="annottext">(UUID -&gt; PGScalarValue) -&gt; Parser UUID -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser UUID
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-219"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGLtree"><span class="hs-identifier hs-var">PGLtree</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ltree -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValLtree"><span class="hs-identifier hs-var">PGValLtree</span></a></span><span> </span><span class="annot"><span class="annottext">(Ltree -&gt; PGScalarValue) -&gt; Parser Ltree -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Ltree
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-220"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGLquery"><span class="hs-identifier hs-var">PGLquery</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValLquery"><span class="hs-identifier hs-var">PGValLquery</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; PGScalarValue) -&gt; Parser Text -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Text
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-221"></span><span>      </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGLtxtquery"><span class="hs-identifier hs-var">PGLtxtquery</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValLtxtquery"><span class="hs-identifier hs-var">PGValLtxtquery</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; PGScalarValue) -&gt; Parser Text -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Text
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-222"></span><span>      </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html#PGUnknown"><span class="hs-identifier hs-type">PGUnknown</span></a></span><span> </span><span id="local-6989586621689310185"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310185"><span class="hs-identifier hs-var">tyName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-223"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; Parser PGScalarValue
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Parser PGScalarValue) -&gt; String -&gt; Parser PGScalarValue
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;A string is expected for type: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><span class="hs-identifier hs-var">T.unpack</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310185"><span class="hs-identifier hs-var">tyName</span></a></span><span>
</span><span id="line-224"></span><span>      </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html#PGCompositeScalar"><span class="hs-identifier hs-type">PGCompositeScalar</span></a></span><span> </span><span id="local-6989586621689310182"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310182"><span class="hs-identifier hs-var">tyName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-225"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; Parser PGScalarValue
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Parser PGScalarValue) -&gt; String -&gt; Parser PGScalarValue
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;A string is expected for type: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><span class="hs-identifier hs-var">T.unpack</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310182"><span class="hs-identifier hs-var">tyName</span></a></span><span>
</span><span id="line-226"></span><span>      </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html#PGEnumScalar"><span class="hs-identifier hs-type">PGEnumScalar</span></a></span><span> </span><span id="local-6989586621689310180"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310180"><span class="hs-identifier hs-var">tyName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-227"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; Parser PGScalarValue
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Parser PGScalarValue) -&gt; String -&gt; Parser PGScalarValue
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;A string is expected for type: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><span class="hs-identifier hs-var">T.unpack</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310180"><span class="hs-identifier hs-var">tyName</span></a></span><span>
</span><span id="line-228"></span><span>      </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html#PGArray"><span class="hs-identifier hs-type">PGArray</span></a></span><span> </span><span id="local-6989586621689310178"><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310178"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser [Value]
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310220"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">Parser [Value]
-&gt; ([Value] -&gt; Parser PGScalarValue) -&gt; Parser PGScalarValue
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">([PGScalarValue] -&gt; PGScalarValue)
-&gt; Parser [PGScalarValue] -&gt; Parser PGScalarValue
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">[PGScalarValue] -&gt; PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValArray"><span class="hs-identifier hs-var">PGValArray</span></a></span><span> </span><span class="annot"><span class="annottext">(Parser [PGScalarValue] -&gt; Parser PGScalarValue)
-&gt; ([Value] -&gt; Parser [PGScalarValue])
-&gt; [Value]
-&gt; Parser PGScalarValue
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; Parser PGScalarValue)
-&gt; [Value] -&gt; Parser [PGScalarValue]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PGScalarType -&gt; Value -&gt; Parser PGScalarValue
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#parsePGValue"><span class="hs-identifier hs-var">parsePGValue</span></a></span><span> </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310178"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#txtEncodedVal"><span class="hs-identifier hs-type">txtEncodedVal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGScalarValue"><span class="hs-identifier hs-type">PGScalarValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.SQL.Value.html#TxtEncodedVal"><span class="hs-identifier hs-type">TxtEncodedVal</span></a></span><span>
</span><span id="line-231"></span><span id="txtEncodedVal"><span class="annot"><span class="annottext">txtEncodedVal :: PGScalarValue -&gt; TxtEncodedVal
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#txtEncodedVal"><span class="hs-identifier hs-var hs-var">txtEncodedVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-232"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValInteger"><span class="hs-identifier hs-type">PGValInteger</span></a></span><span> </span><span id="local-6989586621689310176"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621689310176"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Hasura.Prelude.html#tshow"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621689310176"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-233"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValSmallInt"><span class="hs-identifier hs-type">PGValSmallInt</span></a></span><span> </span><span id="local-6989586621689310173"><span class="annot"><span class="annottext">Int16
</span><a href="#local-6989586621689310173"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int16 -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Hasura.Prelude.html#tshow"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="annot"><span class="annottext">Int16
</span><a href="#local-6989586621689310173"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-234"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValBigInt"><span class="hs-identifier hs-type">PGValBigInt</span></a></span><span> </span><span id="local-6989586621689310172"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621689310172"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Hasura.Prelude.html#tshow"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621689310172"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-235"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValFloat"><span class="hs-identifier hs-type">PGValFloat</span></a></span><span> </span><span id="local-6989586621689310171"><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621689310171"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Hasura.Prelude.html#tshow"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621689310171"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-236"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValDouble"><span class="hs-identifier hs-type">PGValDouble</span></a></span><span> </span><span id="local-6989586621689310170"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621689310170"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Hasura.Prelude.html#tshow"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621689310170"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-237"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValNumeric"><span class="hs-identifier hs-type">PGValNumeric</span></a></span><span> </span><span id="local-6989586621689310169"><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621689310169"><span class="hs-identifier hs-var">sc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Hasura.Prelude.html#tshow"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621689310169"><span class="hs-identifier hs-var">sc</span></a></span><span>
</span><span id="line-238"></span><span>  </span><span class="hs-comment">-- PostgreSQL doesn't like scientific notation for money, so pass it</span><span>
</span><span id="line-239"></span><span>  </span><span class="hs-comment">-- with 2 decimal places.</span><span>
</span><span id="line-240"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValMoney"><span class="hs-identifier hs-type">PGValMoney</span></a></span><span> </span><span id="local-6989586621689310168"><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621689310168"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FPFormat -&gt; Maybe Int -&gt; Scientific -&gt; String
</span><span class="hs-identifier hs-var">formatScientific</span></span><span> </span><span class="annot"><span class="annottext">FPFormat
</span><span class="hs-identifier hs-var">Fixed</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Maybe Int
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621689310168"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-241"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValBoolean"><span class="hs-identifier hs-type">PGValBoolean</span></a></span><span> </span><span id="local-6989586621689310165"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689310165"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool -&gt; Text
forall a. a -&gt; a -&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">bool</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;false&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;true&quot;</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689310165"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-242"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValChar"><span class="hs-identifier hs-type">PGValChar</span></a></span><span> </span><span id="local-6989586621689310163"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621689310163"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Text
</span><span class="hs-identifier hs-var">T.singleton</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621689310163"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-243"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValVarchar"><span class="hs-identifier hs-type">PGValVarchar</span></a></span><span> </span><span id="local-6989586621689310161"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310161"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310161"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-244"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValText"><span class="hs-identifier hs-type">PGValText</span></a></span><span> </span><span id="local-6989586621689310160"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310160"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310160"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-245"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValCitext"><span class="hs-identifier hs-type">PGValCitext</span></a></span><span> </span><span id="local-6989586621689310159"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310159"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310159"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-246"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValDate"><span class="hs-identifier hs-type">PGValDate</span></a></span><span> </span><span id="local-6989586621689310158"><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621689310158"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Day -&gt; String
</span><span class="hs-identifier hs-var">showGregorian</span></span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621689310158"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-247"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValTimeStamp"><span class="hs-identifier hs-type">PGValTimeStamp</span></a></span><span> </span><span id="local-6989586621689310156"><span class="annot"><span class="annottext">LocalTime
</span><a href="#local-6989586621689310156"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LocalTime -&gt; Text
forall t. FormatTime t =&gt; t -&gt; Text
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#formatTimestamp"><span class="hs-identifier hs-var">formatTimestamp</span></a></span><span> </span><span class="annot"><span class="annottext">LocalTime
</span><a href="#local-6989586621689310156"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-248"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValTimeStampTZ"><span class="hs-identifier hs-type">PGValTimeStampTZ</span></a></span><span> </span><span id="local-6989586621689310155"><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621689310155"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; Text
forall t. FormatTime t =&gt; t -&gt; Text
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#formatTimestamp"><span class="hs-identifier hs-var">formatTimestamp</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621689310155"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-249"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValTimeTZ"><span class="hs-identifier hs-type">PGValTimeTZ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.SQL.Time.html#ZonedTimeOfDay"><span class="hs-identifier hs-type">ZonedTimeOfDay</span></a></span><span> </span><span id="local-6989586621689310154"><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621689310154"><span class="hs-identifier hs-var">tod</span></a></span></span><span> </span><span id="local-6989586621689310153"><span class="annot"><span class="annottext">TimeZone
</span><a href="#local-6989586621689310153"><span class="hs-identifier hs-var">tz</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-250"></span><span>    </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TimeOfDay -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621689310154"><span class="hs-identifier hs-var">tod</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">TimeZone -&gt; String
</span><span class="hs-identifier hs-var">timeZoneOffsetString</span></span><span> </span><span class="annot"><span class="annottext">TimeZone
</span><a href="#local-6989586621689310153"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGNull"><span class="hs-identifier hs-type">PGNull</span></a></span><span> </span><span class="annot"><span class="annottext">PGScalarType
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-252"></span><span>    </span><span class="annot"><span class="annottext">TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TENull"><span class="hs-identifier hs-var">TENull</span></a></span><span>
</span><span id="line-253"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValJSON"><span class="hs-identifier hs-type">PGValJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Q.JSON</span></span><span> </span><span id="local-6989586621689310151"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310151"><span class="hs-identifier hs-var">j</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-254"></span><span>    </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-255"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text
</span><span class="hs-identifier hs-var">TL.toStrict</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text) -&gt; Text -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-256"></span><span>        </span><span class="annot"><span class="annottext">Value -&gt; Text
forall a. ToJSON a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">AE.encodeToLazyText</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310151"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-257"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValJSONB"><span class="hs-identifier hs-type">PGValJSONB</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Q.JSONB</span></span><span> </span><span id="local-6989586621689310148"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310148"><span class="hs-identifier hs-var">j</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-258"></span><span>    </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-259"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text
</span><span class="hs-identifier hs-var">TL.toStrict</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text) -&gt; Text -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-260"></span><span>        </span><span class="annot"><span class="annottext">Value -&gt; Text
forall a. ToJSON a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">AE.encodeToLazyText</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689310148"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-261"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValGeo"><span class="hs-identifier hs-type">PGValGeo</span></a></span><span> </span><span id="local-6989586621689310147"><span class="annot"><span class="annottext">GeometryWithCRS
</span><a href="#local-6989586621689310147"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-262"></span><span>    </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-263"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text
</span><span class="hs-identifier hs-var">TL.toStrict</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text) -&gt; Text -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-264"></span><span>        </span><span class="annot"><span class="annottext">GeometryWithCRS -&gt; Text
forall a. ToJSON a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">AE.encodeToLazyText</span></span><span> </span><span class="annot"><span class="annottext">GeometryWithCRS
</span><a href="#local-6989586621689310147"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-265"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValRaster"><span class="hs-identifier hs-type">PGValRaster</span></a></span><span> </span><span id="local-6989586621689310146"><span class="annot"><span class="annottext">RasterWKB
</span><a href="#local-6989586621689310146"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Base16 ByteString -&gt; Text
forall a. ToText a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">TC.toText</span></span><span> </span><span class="annot"><span class="annottext">(Base16 ByteString -&gt; Text) -&gt; Base16 ByteString -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RasterWKB -&gt; Base16 ByteString
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#getRasterWKB"><span class="hs-identifier hs-var hs-var">getRasterWKB</span></a></span><span> </span><span class="annot"><span class="annottext">RasterWKB
</span><a href="#local-6989586621689310146"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-266"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValUUID"><span class="hs-identifier hs-type">PGValUUID</span></a></span><span> </span><span id="local-6989586621689310145"><span class="annot"><span class="annottext">UUID
</span><a href="#local-6989586621689310145"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UUID -&gt; Text
</span><span class="hs-identifier hs-var">UUID.toText</span></span><span> </span><span class="annot"><span class="annottext">UUID
</span><a href="#local-6989586621689310145"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-267"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValLtree"><span class="hs-identifier hs-type">PGValLtree</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#Ltree"><span class="hs-identifier hs-type">Ltree</span></a></span><span> </span><span id="local-6989586621689310143"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310143"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310143"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-268"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValLquery"><span class="hs-identifier hs-type">PGValLquery</span></a></span><span> </span><span id="local-6989586621689310142"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310142"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310142"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-269"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValLtxtquery"><span class="hs-identifier hs-type">PGValLtxtquery</span></a></span><span> </span><span id="local-6989586621689310141"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310141"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310141"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-270"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValUnknown"><span class="hs-identifier hs-type">PGValUnknown</span></a></span><span> </span><span id="local-6989586621689310140"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310140"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310140"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-271"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValArray"><span class="hs-identifier hs-type">PGValArray</span></a></span><span> </span><span id="local-6989586621689310139"><span class="annot"><span class="annottext">[PGScalarValue]
</span><a href="#local-6989586621689310139"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[PGScalarValue] -&gt; Text
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#buildArrayLiteral"><span class="hs-identifier hs-var">buildArrayLiteral</span></a></span><span> </span><span class="annot"><span class="annottext">[PGScalarValue]
</span><a href="#local-6989586621689310139"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#binEncoder"><span class="hs-identifier hs-type">binEncoder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGScalarValue"><span class="hs-identifier hs-type">PGScalarValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q.PrepArg</span></span><span>
</span><span id="line-274"></span><span id="binEncoder"><span class="annot"><span class="annottext">binEncoder :: PGScalarValue -&gt; PrepArg
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#binEncoder"><span class="hs-identifier hs-var hs-var">binEncoder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-275"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValInteger"><span class="hs-identifier hs-type">PGValInteger</span></a></span><span> </span><span id="local-6989586621689310137"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621689310137"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621689310137"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-276"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValSmallInt"><span class="hs-identifier hs-type">PGValSmallInt</span></a></span><span> </span><span id="local-6989586621689310135"><span class="annot"><span class="annottext">Int16
</span><a href="#local-6989586621689310135"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int16 -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">Int16
</span><a href="#local-6989586621689310135"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-277"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValBigInt"><span class="hs-identifier hs-type">PGValBigInt</span></a></span><span> </span><span id="local-6989586621689310134"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621689310134"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621689310134"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-278"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValFloat"><span class="hs-identifier hs-type">PGValFloat</span></a></span><span> </span><span id="local-6989586621689310133"><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621689310133"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Float -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621689310133"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-279"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValDouble"><span class="hs-identifier hs-type">PGValDouble</span></a></span><span> </span><span id="local-6989586621689310132"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621689310132"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Double -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621689310132"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-280"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValNumeric"><span class="hs-identifier hs-type">PGValNumeric</span></a></span><span> </span><span id="local-6989586621689310131"><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621689310131"><span class="hs-identifier hs-var">sc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621689310131"><span class="hs-identifier hs-var">sc</span></a></span><span>
</span><span id="line-281"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValMoney"><span class="hs-identifier hs-type">PGValMoney</span></a></span><span> </span><span id="local-6989586621689310130"><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621689310130"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621689310130"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-282"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValBoolean"><span class="hs-identifier hs-type">PGValBoolean</span></a></span><span> </span><span id="local-6989586621689310129"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689310129"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689310129"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-283"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValChar"><span class="hs-identifier hs-type">PGValChar</span></a></span><span> </span><span id="local-6989586621689310128"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621689310128"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621689310128"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-284"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValVarchar"><span class="hs-identifier hs-type">PGValVarchar</span></a></span><span> </span><span id="local-6989586621689310127"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310127"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310127"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-285"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValText"><span class="hs-identifier hs-type">PGValText</span></a></span><span> </span><span id="local-6989586621689310126"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310126"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310126"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-286"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValCitext"><span class="hs-identifier hs-type">PGValCitext</span></a></span><span> </span><span id="local-6989586621689310125"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310125"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310125"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-287"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValDate"><span class="hs-identifier hs-type">PGValDate</span></a></span><span> </span><span id="local-6989586621689310124"><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621689310124"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Day -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621689310124"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-288"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValTimeStamp"><span class="hs-identifier hs-type">PGValTimeStamp</span></a></span><span> </span><span id="local-6989586621689310123"><span class="annot"><span class="annottext">LocalTime
</span><a href="#local-6989586621689310123"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LocalTime -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">LocalTime
</span><a href="#local-6989586621689310123"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-289"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValTimeStampTZ"><span class="hs-identifier hs-type">PGValTimeStampTZ</span></a></span><span> </span><span id="local-6989586621689310122"><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621689310122"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621689310122"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-290"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValTimeTZ"><span class="hs-identifier hs-type">PGValTimeTZ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.SQL.Time.html#ZonedTimeOfDay"><span class="hs-identifier hs-type">ZonedTimeOfDay</span></a></span><span> </span><span id="local-6989586621689310121"><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621689310121"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621689310120"><span class="annot"><span class="annottext">TimeZone
</span><a href="#local-6989586621689310120"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Oid
-&gt; ((TimeOfDay, TimeZone) -&gt; Encoding)
-&gt; (TimeOfDay, TimeZone)
-&gt; PrepArg
forall a. Oid -&gt; (a -&gt; Encoding) -&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepValHelper</span></span><span> </span><span class="annot"><span class="annottext">Oid
</span><span class="hs-identifier hs-var">PTI.timetz</span></span><span> </span><span class="annot"><span class="annottext">(TimeOfDay, TimeZone) -&gt; Encoding
</span><span class="hs-identifier hs-var">PE.timetz_int</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621689310121"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TimeZone
</span><a href="#local-6989586621689310120"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-291"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGNull"><span class="hs-identifier hs-type">PGNull</span></a></span><span> </span><span id="local-6989586621689310116"><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310116"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PGScalarType -&gt; Oid
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#pgTypeOid"><span class="hs-identifier hs-var">pgTypeOid</span></a></span><span> </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310116"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (ByteString, Format)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValJSON"><span class="hs-identifier hs-type">PGValJSON</span></a></span><span> </span><span id="local-6989586621689310114"><span class="annot"><span class="annottext">JSON
</span><a href="#local-6989586621689310114"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">JSON -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">JSON
</span><a href="#local-6989586621689310114"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-293"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValJSONB"><span class="hs-identifier hs-type">PGValJSONB</span></a></span><span> </span><span id="local-6989586621689310113"><span class="annot"><span class="annottext">JSONB
</span><a href="#local-6989586621689310113"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">JSONB -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">JSONB
</span><a href="#local-6989586621689310113"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-294"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValGeo"><span class="hs-identifier hs-type">PGValGeo</span></a></span><span> </span><span id="local-6989586621689310112"><span class="annot"><span class="annottext">GeometryWithCRS
</span><a href="#local-6989586621689310112"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; PrepArg) -&gt; Text -&gt; PrepArg
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
</span><span class="hs-identifier hs-var">TL.toStrict</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text) -&gt; Text -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GeometryWithCRS -&gt; Text
forall a. ToJSON a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">AE.encodeToLazyText</span></span><span> </span><span class="annot"><span class="annottext">GeometryWithCRS
</span><a href="#local-6989586621689310112"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-295"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValRaster"><span class="hs-identifier hs-type">PGValRaster</span></a></span><span> </span><span id="local-6989586621689310111"><span class="annot"><span class="annottext">RasterWKB
</span><a href="#local-6989586621689310111"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; PrepArg) -&gt; Text -&gt; PrepArg
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Base16 ByteString -&gt; Text
forall a. ToText a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">TC.toText</span></span><span> </span><span class="annot"><span class="annottext">(Base16 ByteString -&gt; Text) -&gt; Base16 ByteString -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RasterWKB -&gt; Base16 ByteString
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#getRasterWKB"><span class="hs-identifier hs-var hs-var">getRasterWKB</span></a></span><span> </span><span class="annot"><span class="annottext">RasterWKB
</span><a href="#local-6989586621689310111"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-296"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValUUID"><span class="hs-identifier hs-type">PGValUUID</span></a></span><span> </span><span id="local-6989586621689310110"><span class="annot"><span class="annottext">UUID
</span><a href="#local-6989586621689310110"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UUID -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">UUID
</span><a href="#local-6989586621689310110"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-297"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValLtree"><span class="hs-identifier hs-type">PGValLtree</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#Ltree"><span class="hs-identifier hs-type">Ltree</span></a></span><span> </span><span id="local-6989586621689310109"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310109"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310109"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-298"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValLquery"><span class="hs-identifier hs-type">PGValLquery</span></a></span><span> </span><span id="local-6989586621689310108"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310108"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310108"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-299"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValLtxtquery"><span class="hs-identifier hs-type">PGValLtxtquery</span></a></span><span> </span><span id="local-6989586621689310107"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310107"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; PrepArg
forall a. ToPrepArg a =&gt; a -&gt; PrepArg
</span><span class="hs-identifier hs-var">Q.toPrepVal</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310107"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-300"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValUnknown"><span class="hs-identifier hs-type">PGValUnknown</span></a></span><span> </span><span id="local-6989586621689310106"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310106"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Oid
</span><span class="hs-identifier hs-var">PTI.auto</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(ByteString, Format) -&gt; Maybe (ByteString, Format)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><span class="hs-identifier hs-var">TE.encodeUtf8</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310106"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Format
</span><span class="hs-identifier hs-var">PQ.Text</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>  </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValArray"><span class="hs-identifier hs-type">PGValArray</span></a></span><span> </span><span id="local-6989586621689310102"><span class="annot"><span class="annottext">[PGScalarValue]
</span><a href="#local-6989586621689310102"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Oid
</span><span class="hs-identifier hs-var">PTI.auto</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(ByteString, Format) -&gt; Maybe (ByteString, Format)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><span class="hs-identifier hs-var">TE.encodeUtf8</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; ByteString) -&gt; Text -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[PGScalarValue] -&gt; Text
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#buildArrayLiteral"><span class="hs-identifier hs-var">buildArrayLiteral</span></a></span><span> </span><span class="annot"><span class="annottext">[PGScalarValue]
</span><a href="#local-6989586621689310102"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Format
</span><span class="hs-identifier hs-var">PQ.Text</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-302"></span><span>
</span><span id="line-303"></span><span id="local-6989586621689310465"><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#formatTimestamp"><span class="hs-identifier hs-type">formatTimestamp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FormatTime</span></span><span> </span><span class="annot"><a href="#local-6989586621689310465"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621689310465"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span></span><span>
</span><span id="line-304"></span><span id="formatTimestamp"><span class="annot"><span class="annottext">formatTimestamp :: t -&gt; Text
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#formatTimestamp"><span class="hs-identifier hs-var hs-var">formatTimestamp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; (t -&gt; String) -&gt; t -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TimeLocale -&gt; String -&gt; t -&gt; String
forall t. FormatTime t =&gt; TimeLocale -&gt; String -&gt; t -&gt; String
</span><span class="hs-identifier hs-var">formatTime</span></span><span> </span><span class="annot"><span class="annottext">TimeLocale
</span><span class="hs-identifier hs-var">defaultTimeLocale</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;%0Y-%m-%dT%T%QZ&quot;</span></span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#txtEncoder"><span class="hs-identifier hs-type">txtEncoder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGScalarValue"><span class="hs-identifier hs-type">PGScalarValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.DML.html#SQLExp"><span class="hs-identifier hs-type">S.SQLExp</span></a></span><span>
</span><span id="line-307"></span><span id="txtEncoder"><span class="annot"><span class="annottext">txtEncoder :: PGScalarValue -&gt; SQLExp
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#txtEncoder"><span class="hs-identifier hs-var hs-var">txtEncoder</span></a></span></span><span> </span><span id="local-6989586621689310099"><span class="annot"><span class="annottext">PGScalarValue
</span><a href="#local-6989586621689310099"><span class="hs-identifier hs-var">colVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PGScalarValue -&gt; TxtEncodedVal
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#txtEncodedVal"><span class="hs-identifier hs-var">txtEncodedVal</span></a></span><span> </span><span class="annot"><span class="annottext">PGScalarValue
</span><a href="#local-6989586621689310099"><span class="hs-identifier hs-var">colVal</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-308"></span><span>  </span><span class="annot"><span class="annottext">TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TENull"><span class="hs-identifier hs-var">TENull</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SQLExp
</span><a href="Hasura.Backends.Postgres.SQL.DML.html#SENull"><span class="hs-identifier hs-var">S.SENull</span></a></span><span>
</span><span id="line-309"></span><span>  </span><span class="annot"><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-type">TELit</span></a></span><span> </span><span id="local-6989586621689310097"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310097"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; SQLExp
</span><a href="Hasura.Backends.Postgres.SQL.DML.html#SELit"><span class="hs-identifier hs-var">S.SELit</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310097"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-310"></span><span>
</span><span id="line-311"></span><span class="hs-comment">-- arrays are sufficiently complicated, e.g. in the case of empty and unknown element arrays,</span><span>
</span><span id="line-312"></span><span class="hs-comment">-- for us to default to text encoding in all cases, and defer to Postgres' handling of them</span><span>
</span><span id="line-313"></span><span class="hs-comment">--</span><span>
</span><span id="line-314"></span><span class="hs-comment">-- FIXME: this will fail if we ever introduce the box type as a @PGScalarValue@,</span><span>
</span><span id="line-315"></span><span class="hs-comment">-- which uses a different seperator https://www.postgresql.org/docs/current/arrays.html#ARRAYS-INPUT</span><span>
</span><span id="line-316"></span><span class="hs-comment">-- https://github.com/hasura/graphql-engine-mono/issues/4892</span><span>
</span><span id="line-317"></span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#buildArrayLiteral"><span class="hs-identifier hs-type">buildArrayLiteral</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGScalarValue"><span class="hs-identifier hs-type">PGScalarValue</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-318"></span><span id="buildArrayLiteral"><span class="annot"><span class="annottext">buildArrayLiteral :: [PGScalarValue] -&gt; Text
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#buildArrayLiteral"><span class="hs-identifier hs-var hs-var">buildArrayLiteral</span></a></span></span><span> </span><span id="local-6989586621689310095"><span class="annot"><span class="annottext">[PGScalarValue]
</span><a href="#local-6989586621689310095"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-319"></span><span>  </span><span class="annot"><span class="annottext">[Text] -&gt; Text
</span><span class="hs-identifier hs-var">T.concat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;{&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Text] -&gt; Text
</span><span class="hs-identifier hs-var">T.intercalate</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;,&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PGScalarValue -&gt; Text) -&gt; [PGScalarValue] -&gt; [Text]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxtEncodedVal -&gt; Text
</span><a href="#local-6989586621689310092"><span class="hs-identifier hs-var">inner</span></a></span><span> </span><span class="annot"><span class="annottext">(TxtEncodedVal -&gt; Text)
-&gt; (PGScalarValue -&gt; TxtEncodedVal) -&gt; PGScalarValue -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PGScalarValue -&gt; TxtEncodedVal
</span><a href="#local-6989586621689310091"><span class="hs-identifier hs-var">encodeElement</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[PGScalarValue]
</span><a href="#local-6989586621689310095"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;}&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-320"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-321"></span><span>    </span><span class="hs-comment">-- Make sure to wrap text values in quotes, and escape unique characters</span><span>
</span><span id="line-322"></span><span>    </span><span id="local-6989586621689310091"><span class="annot"><span class="annottext">encodeElement :: PGScalarValue -&gt; TxtEncodedVal
</span><a href="#local-6989586621689310091"><span class="hs-identifier hs-var hs-var">encodeElement</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-323"></span><span>      </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValChar"><span class="hs-identifier hs-type">PGValChar</span></a></span><span> </span><span id="local-6989586621689310090"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621689310090"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Hasura.Prelude.html#tshow"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text) -&gt; Text -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Text
</span><span class="hs-identifier hs-var">T.singleton</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621689310090"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-324"></span><span>      </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValVarchar"><span class="hs-identifier hs-type">PGValVarchar</span></a></span><span> </span><span id="local-6989586621689310089"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310089"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Hasura.Prelude.html#tshow"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310089"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-325"></span><span>      </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValText"><span class="hs-identifier hs-type">PGValText</span></a></span><span> </span><span id="local-6989586621689310088"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310088"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Hasura.Prelude.html#tshow"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310088"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-326"></span><span>      </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValCitext"><span class="hs-identifier hs-type">PGValCitext</span></a></span><span> </span><span id="local-6989586621689310087"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310087"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Hasura.Prelude.html#tshow"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310087"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-327"></span><span>      </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValLquery"><span class="hs-identifier hs-type">PGValLquery</span></a></span><span> </span><span id="local-6989586621689310086"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310086"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Hasura.Prelude.html#tshow"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310086"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-328"></span><span>      </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValLtxtquery"><span class="hs-identifier hs-type">PGValLtxtquery</span></a></span><span> </span><span id="local-6989586621689310085"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310085"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Hasura.Prelude.html#tshow"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310085"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-329"></span><span>      </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#PGValUnknown"><span class="hs-identifier hs-type">PGValUnknown</span></a></span><span> </span><span id="local-6989586621689310084"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310084"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-var">TELit</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TxtEncodedVal) -&gt; Text -&gt; TxtEncodedVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Hasura.Prelude.html#tshow"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310084"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-330"></span><span>      </span><span id="local-6989586621689310083"><span class="annot"><span class="annottext">PGScalarValue
</span><a href="#local-6989586621689310083"><span class="hs-identifier hs-var">other</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PGScalarValue -&gt; TxtEncodedVal
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#txtEncodedVal"><span class="hs-identifier hs-var">txtEncodedVal</span></a></span><span> </span><span class="annot"><span class="annottext">PGScalarValue
</span><a href="#local-6989586621689310083"><span class="hs-identifier hs-var">other</span></a></span><span>
</span><span id="line-331"></span><span>    </span><span id="local-6989586621689310092"><span class="annot"><span class="annottext">inner :: TxtEncodedVal -&gt; Text
</span><a href="#local-6989586621689310092"><span class="hs-identifier hs-var hs-var">inner</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-332"></span><span>      </span><span class="annot"><span class="annottext">TxtEncodedVal
</span><a href="Hasura.SQL.Value.html#TENull"><span class="hs-identifier hs-var">TENull</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;null&quot;</span></span><span>
</span><span id="line-333"></span><span>      </span><span class="annot"><a href="Hasura.SQL.Value.html#TELit"><span class="hs-identifier hs-type">TELit</span></a></span><span> </span><span id="local-6989586621689310082"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310082"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689310082"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-334"></span><span>
</span><span id="line-335"></span><span class="hs-comment">{- Note [Type casting prepared params]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Prepared values are passed to Postgres via text encoding. Explicit type cast for prepared params
is needed to distinguish the column types. For example, the parameter for citext column type is
generated as ($i)::citext where 'i' is parameter position (integer).

Also see https://github.com/hasura/graphql-engine/issues/2818
-}</span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Value.html#toPrepParam"><span class="hs-identifier hs-type">toPrepParam</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html#PGScalarType"><span class="hs-identifier hs-type">PGScalarType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.DML.html#SQLExp"><span class="hs-identifier hs-type">S.SQLExp</span></a></span><span>
</span><span id="line-345"></span><span id="toPrepParam"><span class="annot"><span class="annottext">toPrepParam :: Int -&gt; PGScalarType -&gt; SQLExp
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#toPrepParam"><span class="hs-identifier hs-var hs-var">toPrepParam</span></a></span></span><span> </span><span id="local-6989586621689310081"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621689310081"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621689310080"><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310080"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-346"></span><span>  </span><span class="hs-comment">-- See Note [Type casting prepared params] above</span><span>
</span><span id="line-347"></span><span>  </span><span class="annot"><span class="annottext">PGScalarType -&gt; SQLExp -&gt; SQLExp
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#withScalarTypeAnn"><span class="hs-identifier hs-var">withScalarTypeAnn</span></a></span><span> </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310080"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">(SQLExp -&gt; SQLExp) -&gt; (SQLExp -&gt; SQLExp) -&gt; SQLExp -&gt; SQLExp
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PGScalarType -&gt; SQLExp -&gt; SQLExp
</span><a href="Hasura.Backends.Postgres.SQL.Value.html#withConstructorFn"><span class="hs-identifier hs-var">withConstructorFn</span></a></span><span> </span><span class="annot"><span class="annottext">PGScalarType
</span><a href="#local-6989586621689310080"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">(SQLExp -&gt; SQLExp) -&gt; SQLExp -&gt; SQLExp
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; SQLExp
</span><a href="Hasura.Backends.Postgres.SQL.DML.html#SEPrep"><span class="hs-identifier hs-var">S.SEPrep</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621689310081"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-348"></span></pre></body></html>