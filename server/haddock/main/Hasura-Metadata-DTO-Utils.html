<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Hasura.Metadata.DTO.Utils</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">graphql-engine-1.0.0: GraphQL API over Postgres</span><ul class="links" id="page-menu"><li><a href="src/Hasura.Metadata.DTO.Utils.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Hasura.Metadata.DTO.Utils</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Utility functions for use defining autodocodec codecs.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:boolConstCodec">boolConstCodec</a> :: <a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a =&gt; a -&gt; a -&gt; JSONCodec a</li><li class="src short"><a href="#v:boundedEnumCodec">boundedEnumCodec</a> :: <span class="keyword">forall</span> enum. (<a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> enum, <a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Prelude.html#t:Enum" title="Prelude">Enum</a> enum, <a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Prelude.html#t:Bounded" title="Prelude">Bounded</a> enum) =&gt; (enum -&gt; <a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; JSONCodec enum</li><li class="src short"><a href="#v:versionField">versionField</a> :: <a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Prelude.html#t:Integer" title="Prelude">Integer</a> -&gt; ObjectCodec a Scientific</li><li class="src short"><a href="#v:optionalVersionField">optionalVersionField</a> :: <a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Prelude.html#t:Integer" title="Prelude">Integer</a> -&gt; ObjectCodec a (<a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Scientific)</li><li class="src short"><a href="#v:discriminatorField">discriminatorField</a> :: Text -&gt; Text -&gt; ObjectCodec a ()</li><li class="src short"><a href="#v:codecNamePrefix">codecNamePrefix</a> :: <span class="keyword">forall</span> b. <a href="Hasura-SQL-Tag.html#t:HasTag" title="Hasura.SQL.Tag">HasTag</a> b =&gt; Text</li><li class="src short"><a href="#v:typeableName">typeableName</a> :: <span class="keyword">forall</span> a. <a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Data-Typeable.html#t:Typeable" title="Data.Typeable">Typeable</a> a =&gt; Text</li><li class="src short"><a href="#v:fromEnvCodec">fromEnvCodec</a> :: JSONCodec Text</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:boolConstCodec" class="def">boolConstCodec</a> :: <a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a =&gt; a -&gt; a -&gt; JSONCodec a <a href="src/Hasura.Metadata.DTO.Utils.html#boolConstCodec" class="link">Source</a> <a href="#v:boolConstCodec" class="selflink">#</a></p><div class="doc"><p>Map a fixed set of two values to boolean values when serializing. The first
 argument is the value to map to <code>True</code>, the second is the value to map to
 <code>False</code>.</p></div></div><div class="top"><p class="src"><a id="v:boundedEnumCodec" class="def">boundedEnumCodec</a> :: <span class="keyword">forall</span> enum. (<a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> enum, <a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Prelude.html#t:Enum" title="Prelude">Enum</a> enum, <a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Prelude.html#t:Bounded" title="Prelude">Bounded</a> enum) =&gt; (enum -&gt; <a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; JSONCodec enum <a href="src/Hasura.Metadata.DTO.Utils.html#boundedEnumCodec" class="link">Source</a> <a href="#v:boundedEnumCodec" class="selflink">#</a></p><div class="doc"><p>A codec for a <code><a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Prelude.html#t:Bounded" title="Prelude">Bounded</a></code> <code><a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Prelude.html#t:Enum" title="Prelude">Enum</a></code> that maps to literal strings using
 a provided function.</p><h3>Example usage</h3><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>data Fruit = FruitApple | FruitOrange deriving (Show, Eq, Enum, Bounded)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let c = boundedEnumCodec (snakeCase . drop 5)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>toJSONVia c Apple
</code></strong>String &quot;apple&quot;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>JSON.parseMaybe (parseJSONVia c) (String &quot;orange&quot;) :: Maybe Fruit
</code></strong>Just Orange
</pre></div></div><div class="top"><p class="src"><a id="v:versionField" class="def">versionField</a> :: <a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Prelude.html#t:Integer" title="Prelude">Integer</a> -&gt; ObjectCodec a Scientific <a href="src/Hasura.Metadata.DTO.Utils.html#versionField" class="link">Source</a> <a href="#v:versionField" class="selflink">#</a></p><div class="doc"><p>Defines a required object field named <code>version</code> that must have the given
 integer value. On serialization the field will have the given value
 automatically. On deserialization parsing will fail unless the field has the
 exact given value.</p></div></div><div class="top"><p class="src"><a id="v:optionalVersionField" class="def">optionalVersionField</a> :: <a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Prelude.html#t:Integer" title="Prelude">Integer</a> -&gt; ObjectCodec a (<a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Scientific) <a href="src/Hasura.Metadata.DTO.Utils.html#optionalVersionField" class="link">Source</a> <a href="#v:optionalVersionField" class="selflink">#</a></p><div class="doc"><p>Defines an optional object field named <code>version</code> that must have the given
 integer value if the field is present. On serialization the field will have
 the given value automatically. On deserialization parsing will fail unless
 the field has the exact given value, or is absent.</p></div></div><div class="top"><p class="src"><a id="v:discriminatorField" class="def">discriminatorField</a> :: Text -&gt; Text -&gt; ObjectCodec a () <a href="src/Hasura.Metadata.DTO.Utils.html#discriminatorField" class="link">Source</a> <a href="#v:discriminatorField" class="selflink">#</a></p><div class="doc"><p>Useful in an object codec for a field that indicates the type of the
 object within a union.</p></div></div><div class="top"><p class="src"><a id="v:codecNamePrefix" class="def">codecNamePrefix</a> :: <span class="keyword">forall</span> b. <a href="Hasura-SQL-Tag.html#t:HasTag" title="Hasura.SQL.Tag">HasTag</a> b =&gt; Text <a href="src/Hasura.Metadata.DTO.Utils.html#codecNamePrefix" class="link">Source</a> <a href="#v:codecNamePrefix" class="selflink">#</a></p><div class="doc"><p>Provides a title-cased name for a database kind, inferring the appropriate
 database kind from type context.</p></div></div><div class="top"><p class="src"><a id="v:typeableName" class="def">typeableName</a> :: <span class="keyword">forall</span> a. <a href="file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/Data-Typeable.html#t:Typeable" title="Data.Typeable">Typeable</a> a =&gt; Text <a href="src/Hasura.Metadata.DTO.Utils.html#typeableName" class="link">Source</a> <a href="#v:typeableName" class="selflink">#</a></p><div class="doc"><p>Provides a string based on the given type to use to uniquely name
 instantiations of polymorphic codecs.</p></div></div><div class="top"><p class="src"><a id="v:fromEnvCodec" class="def">fromEnvCodec</a> :: JSONCodec Text <a href="src/Hasura.Metadata.DTO.Utils.html#fromEnvCodec" class="link">Source</a> <a href="#v:fromEnvCodec" class="selflink">#</a></p><div class="doc"><p>Represents a text field wrapped in an object with a single property
 named <code>from_env</code>.</p><p>Objects of this form appear in many places in the Metadata API. If we
 reproduced this codec in each use case the OpenAPI document would have many
 identical object definitions. Using a shared codec allows a single shared
 reference.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>