<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE TemplateHaskell #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Hasura.GraphQL.RemoteServer</span><span>
</span><span id="line-4"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#fetchRemoteSchema"><span class="hs-identifier">fetchRemoteSchema</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-5"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#stitchRemoteSchema"><span class="hs-identifier">stitchRemoteSchema</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#execRemoteGQ"><span class="hs-identifier">execRemoteGQ</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-9"></span><span class="hs-keyword">where</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Arrow.Extended</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">left</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">Control.Exception</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">try</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Lens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">set</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(^.)</span></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Monad.Memoize.html"><span class="hs-identifier">Control.Monad.Memoize</span></a></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(.:)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.:?)</span></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">J</span></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/bytestring-0.11.3.1/src"><span class="hs-identifier">Data.ByteString.Lazy</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BL</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Environment</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Env</span></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.FileEmbed</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">makeRelativeToProject</span></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashMap.Strict.Extended</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HashMap</span></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashSet</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.Extended</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">duplicates</span></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.Extended</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">dquoteList</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(&lt;&lt;&gt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Hasura.Base.Error</span></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src"><span class="hs-identifier">Hasura.GraphQL.Parser.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src"><span class="hs-identifier">Parse</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src"><span class="hs-identifier">Hasura.GraphQL.Parser.Name</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GName</span></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html"><span class="hs-identifier">Hasura.GraphQL.Schema.Common</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Remote.html"><span class="hs-identifier">Hasura.GraphQL.Schema.Remote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Remote.html#buildRemoteParser"><span class="hs-identifier">buildRemoteParser</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Typename.html"><span class="hs-identifier">Hasura.GraphQL.Schema.Typename</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html"><span class="hs-identifier">Hasura.GraphQL.Transport.HTTP.Protocol</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.HTTP.html"><span class="hs-identifier">Hasura.HTTP</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier">Hasura.Prelude</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Headers.html"><span class="hs-identifier">Hasura.RQL.DDL.Headers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.Headers.html#makeHeadersFromConf"><span class="hs-identifier">makeHeadersFromConf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html"><span class="hs-identifier">Hasura.RQL.Types.Common</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Roles.html"><span class="hs-identifier">Hasura.RQL.Types.Roles</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Roles.html#adminRoleName"><span class="hs-identifier">adminRoleName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.Metadata.html"><span class="hs-identifier">Hasura.RemoteSchema.Metadata</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html"><span class="hs-identifier">Hasura.RemoteSchema.SchemaCache.Types</span></a></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Server.Utils.html"><span class="hs-identifier">Hasura.Server.Utils</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Services.Network.html"><span class="hs-identifier">Hasura.Services.Network</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Session.html"><span class="hs-identifier">Hasura.Session</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Session.html#UserInfo"><span class="hs-identifier">UserInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Session.html#adminUserInfo"><span class="hs-identifier">adminUserInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Session.html#sessionVariablesToHeaders"><span class="hs-identifier">sessionVariablesToHeaders</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Session.html#_uiSession"><span class="hs-identifier">_uiSession</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Tracing.html"><span class="hs-identifier">Hasura.Tracing</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Tracing</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier">Language.GraphQL.Draft.Parser</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">G</span></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier">Language.GraphQL.Draft.Syntax</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">G</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/template-haskell-2.18.0.0/src"><span class="hs-identifier">Language.Haskell.TH.Syntax</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TH</span></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Network.HTTP.Client.Transformable</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HTTP</span></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Network.URI</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">URI</span></span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Network.Wreq</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Wreq</span></span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-51"></span><span class="hs-comment">-- Core API</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="hs-comment">-- | Make an introspection query to the remote graphql server for the data we</span><span>
</span><span id="line-54"></span><span class="hs-comment">-- need to present and stitch the remote schema. This powers add_remote_schema,</span><span>
</span><span id="line-55"></span><span class="hs-comment">-- and also is called by schema cache rebuilding code in &quot;Hasura.RQL.DDL.Schema.Cache&quot;.</span><span>
</span><span id="line-56"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#fetchRemoteSchema"><span class="hs-identifier hs-type">fetchRemoteSchema</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621691241181"><span class="annot"><a href="#local-6989586621691241181"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621691241181"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-type">MonadError</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">QErr</span></span><span> </span><span class="annot"><a href="#local-6989586621691241181"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Tracing.Class.html#MonadTrace"><span class="hs-identifier hs-type">Tracing.MonadTrace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621691241181"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Services.Network.html#ProvidesNetwork"><span class="hs-identifier hs-type">ProvidesNetwork</span></a></span><span> </span><span class="annot"><a href="#local-6989586621691241181"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-59"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Env.Environment</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#ValidatedRemoteSchemaDef"><span class="hs-identifier hs-type">ValidatedRemoteSchemaDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-61"></span><span>  </span><span class="annot"><a href="#local-6989586621691241181"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/bytestring-0.11.3.1/src"><span class="hs-identifier hs-type">BL.ByteString</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaInfo"><span class="hs-identifier hs-type">RemoteSchemaInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span id="fetchRemoteSchema"><span class="annot"><span class="annottext">fetchRemoteSchema :: forall (m :: * -&gt; *).
(MonadIO m, MonadError QErr m, MonadTrace m, ProvidesNetwork m) =&gt;
Environment
-&gt; ValidatedRemoteSchemaDef
-&gt; m (IntrospectionResult, ByteString, RemoteSchemaInfo)
</span><a href="Hasura.GraphQL.RemoteServer.html#fetchRemoteSchema"><span class="hs-identifier hs-var hs-var">fetchRemoteSchema</span></a></span></span><span> </span><span id="local-6989586621691240399"><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621691240399"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621691240398"><span class="annot"><span class="annottext">ValidatedRemoteSchemaDef
</span><a href="#local-6989586621691240398"><span class="hs-identifier hs-var">rsDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DiffTime
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Header]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621691240397"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621691240397"><span class="hs-identifier hs-var">rawIntrospectionResult</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-64"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
(MonadIO m, MonadError QErr m, MonadTrace m, ProvidesNetwork m) =&gt;
Environment
-&gt; UserInfo
-&gt; [Header]
-&gt; ValidatedRemoteSchemaDef
-&gt; GQLReqOutgoing
-&gt; m (DiffTime, [Header], ByteString)
</span><a href="Hasura.GraphQL.RemoteServer.html#execRemoteGQ"><span class="hs-identifier hs-var">execRemoteGQ</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621691240399"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">UserInfo
</span><a href="Hasura.Session.html#adminUserInfo"><span class="hs-identifier hs-var">adminUserInfo</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">ValidatedRemoteSchemaDef
</span><a href="#local-6989586621691240398"><span class="hs-identifier hs-var">rsDef</span></a></span><span> </span><span class="annot"><span class="annottext">GQLReqOutgoing
</span><a href="Hasura.GraphQL.RemoteServer.html#introspectionQuery"><span class="hs-identifier hs-var">introspectionQuery</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621691240395"><span class="annot"><span class="annottext">IntrospectionResult
</span><a href="#local-6989586621691240395"><span class="hs-identifier hs-var">ir</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621691240394"><span class="annot"><span class="annottext">RemoteSchemaInfo
</span><a href="#local-6989586621691240394"><span class="hs-identifier hs-var">rsi</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
(MonadIO m, MonadError QErr m) =&gt;
ByteString
-&gt; ValidatedRemoteSchemaDef
-&gt; m (IntrospectionResult, RemoteSchemaInfo)
</span><a href="Hasura.GraphQL.RemoteServer.html#stitchRemoteSchema"><span class="hs-identifier hs-var">stitchRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621691240397"><span class="hs-identifier hs-var">rawIntrospectionResult</span></a></span><span> </span><span class="annot"><span class="annottext">ValidatedRemoteSchemaDef
</span><a href="#local-6989586621691240398"><span class="hs-identifier hs-var">rsDef</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-comment">-- The 'rawIntrospectionResult' contains the 'Bytestring' response of</span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-comment">-- the introspection result of the remote server. We store this in the</span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-comment">-- 'RemoteSchemaCtx' because we can use this when the 'introspect_remote_schema'</span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-comment">-- is called by simple encoding the result to JSON.</span><span>
</span><span id="line-70"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntrospectionResult
</span><a href="#local-6989586621691240395"><span class="hs-identifier hs-var">ir</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621691240397"><span class="hs-identifier hs-var">rawIntrospectionResult</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaInfo
</span><a href="#local-6989586621691240394"><span class="hs-identifier hs-var">rsi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="hs-comment">-- | Parses the remote schema introspection result, and check whether it looks</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- like it's a valid GraphQL endpoint even under the configured customization.</span><span>
</span><span id="line-74"></span><span id="local-6989586621691241162"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#stitchRemoteSchema"><span class="hs-identifier hs-type">stitchRemoteSchema</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621691241162"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-type">MonadError</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">QErr</span></span><span> </span><span class="annot"><a href="#local-6989586621691241162"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-76"></span><span>  </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/bytestring-0.11.3.1/src"><span class="hs-identifier hs-type">BL.ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-77"></span><span>  </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#ValidatedRemoteSchemaDef"><span class="hs-identifier hs-type">ValidatedRemoteSchemaDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-78"></span><span>  </span><span class="annot"><a href="#local-6989586621691241162"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaInfo"><span class="hs-identifier hs-type">RemoteSchemaInfo</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-79"></span><span id="stitchRemoteSchema"><span class="annot"><span class="annottext">stitchRemoteSchema :: forall (m :: * -&gt; *).
(MonadIO m, MonadError QErr m) =&gt;
ByteString
-&gt; ValidatedRemoteSchemaDef
-&gt; m (IntrospectionResult, RemoteSchemaInfo)
</span><a href="Hasura.GraphQL.RemoteServer.html#stitchRemoteSchema"><span class="hs-identifier hs-var hs-var">stitchRemoteSchema</span></a></span></span><span> </span><span id="local-6989586621691240357"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621691240357"><span class="hs-identifier hs-var">rawIntrospectionResult</span></a></span></span><span> </span><span id="local-6989586621691240356"><span class="annot"><span class="annottext">rsDef :: ValidatedRemoteSchemaDef
</span><a href="#local-6989586621691240356"><span class="hs-identifier hs-var">rsDef</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#ValidatedRemoteSchemaDef"><span class="hs-identifier hs-type">ValidatedRemoteSchemaDef</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621691240350"><span id="local-6989586621691240351"><span id="local-6989586621691240352"><span id="local-6989586621691240353"><span id="local-6989586621691240354"><span class="annot"><span class="annottext">Bool
Int
[HeaderConf]
Maybe RemoteSchemaCustomization
EnvRecord URI
_vrsdCustomization :: ValidatedRemoteSchemaDef -&gt; Maybe RemoteSchemaCustomization
_vrsdTimeoutSeconds :: ValidatedRemoteSchemaDef -&gt; Int
_vrsdFwdClientHeaders :: ValidatedRemoteSchemaDef -&gt; Bool
_vrsdHeaders :: ValidatedRemoteSchemaDef -&gt; [HeaderConf]
_vrsdUrl :: ValidatedRemoteSchemaDef -&gt; EnvRecord URI
_vrsdCustomization :: Maybe RemoteSchemaCustomization
_vrsdTimeoutSeconds :: Int
_vrsdFwdClientHeaders :: Bool
_vrsdHeaders :: [HeaderConf]
_vrsdUrl :: EnvRecord URI
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#_vrsdCustomization"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-comment">-- Parse the JSON into flat GraphQL type AST.</span><span>
</span><span id="line-81"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span id="local-6989586621691240343"><span class="annot"><span class="annottext">IntrospectionResult
</span><a href="#local-6989586621691240343"><span class="hs-identifier hs-var">_rscIntroOriginal</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-82"></span><span>    </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; ByteString -&gt; Either String a
</span><span class="hs-identifier hs-var">J.eitherDecode</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621691240357"><span class="hs-identifier hs-var">rawIntrospectionResult</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) e a.
Applicative m =&gt;
Either e a -&gt; (e -&gt; m a) -&gt; m a
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-operator hs-var">`onLeft`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var">throwRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-comment">-- Possibly transform type names from the remote schema, per the user's 'RemoteSchemaDef'.</span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621691240337"><span class="annot"><span class="annottext">rsCustomizer :: RemoteSchemaCustomizer
</span><a href="#local-6989586621691240337"><span class="hs-identifier hs-var hs-var">rsCustomizer</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntrospectionResult
-&gt; Maybe RemoteSchemaCustomization -&gt; RemoteSchemaCustomizer
</span><a href="Hasura.GraphQL.RemoteServer.html#getCustomizer"><span class="hs-identifier hs-var">getCustomizer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntrospectionResult -&gt; IntrospectionResult
</span><a href="#local-6989586621691240335"><span class="hs-identifier hs-var">addDefaultRoots</span></a></span><span> </span><span class="annot"><span class="annottext">IntrospectionResult
</span><a href="#local-6989586621691240343"><span class="hs-identifier hs-var">_rscIntroOriginal</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe RemoteSchemaCustomization
</span><a href="#local-6989586621691240350"><span class="hs-identifier hs-var">_vrsdCustomization</span></a></span><span>
</span><span id="line-86"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadError QErr m =&gt;
RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
</span><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizations"><span class="hs-identifier hs-var">validateSchemaCustomizations</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621691240337"><span class="hs-identifier hs-var">rsCustomizer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntrospectionResult -&gt; RemoteSchemaIntrospection
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#irDoc"><span class="hs-identifier hs-var">irDoc</span></a></span><span> </span><span class="annot"><span class="annottext">IntrospectionResult
</span><a href="#local-6989586621691240343"><span class="hs-identifier hs-var">_rscIntroOriginal</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621691240332"><span class="annot"><span class="annottext">remoteSchemaInfo :: RemoteSchemaInfo
</span><a href="#local-6989586621691240332"><span class="hs-identifier hs-var hs-var">remoteSchemaInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaInfo"><span class="hs-identifier hs-type">RemoteSchemaInfo</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
ValidatedRemoteSchemaDef
rsCustomizer :: RemoteSchemaCustomizer
rsDef :: ValidatedRemoteSchemaDef
rsCustomizer :: RemoteSchemaCustomizer
rsDef :: ValidatedRemoteSchemaDef
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#rsCustomizer"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-comment">-- Check that the parsed GraphQL type info is valid by running the schema</span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-comment">-- generation. The result is discarded, as the local schema will be built</span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-comment">-- properly for each role at schema generation time, but this allows us to</span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-comment">-- quickly reject an invalid schema.</span><span>
</span><span id="line-94"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">void</span></a></span><span>
</span><span id="line-95"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; MemoizeT m a -&gt; m a
</span><a href="Control.Monad.Memoize.html#runMemoizeT"><span class="hs-identifier hs-var">runMemoizeT</span></a></span><span>
</span><span id="line-96"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
SchemaContext
-&gt; SchemaT
     (SchemaContext, MkTypename, CustomizeRemoteFieldName) m a
-&gt; m a
</span><a href="Hasura.GraphQL.Schema.Common.html#runRemoteSchema"><span class="hs-identifier hs-var">runRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaContext
</span><a href="#local-6989586621691240325"><span class="hs-identifier hs-var">minimumValidContext</span></a></span><span>
</span><span id="line-97"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildRemoteSchema r m n =&gt;
IntrospectionResult
-&gt; RemoteSchemaRelationships
-&gt; RemoteSchemaInfo
-&gt; SchemaT r m (RemoteSchemaParser n)
</span><a href="Hasura.GraphQL.Schema.Remote.html#buildRemoteParser"><span class="hs-identifier hs-var">buildRemoteParser</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src"><span class="hs-identifier hs-type">Parse</span></a></span><span>
</span><span id="line-98"></span><span>      </span><span class="annot"><span class="annottext">IntrospectionResult
</span><a href="#local-6989586621691240343"><span class="hs-identifier hs-var">_rscIntroOriginal</span></a></span><span>
</span><span id="line-99"></span><span>      </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="hs-comment">-- remote relationships</span><span>
</span><span id="line-100"></span><span>      </span><span class="annot"><span class="annottext">RemoteSchemaInfo
</span><a href="#local-6989586621691240332"><span class="hs-identifier hs-var">remoteSchemaInfo</span></a></span><span>
</span><span id="line-101"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntrospectionResult
</span><a href="#local-6989586621691240343"><span class="hs-identifier hs-var">_rscIntroOriginal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaInfo
</span><a href="#local-6989586621691240332"><span class="hs-identifier hs-var">remoteSchemaInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-103"></span><span>    </span><span class="hs-comment">-- If there is no explicit mutation or subscription root type we need to check for</span><span>
</span><span id="line-104"></span><span>    </span><span class="hs-comment">-- objects type definitions with the default names &quot;Mutation&quot; and &quot;Subscription&quot;.</span><span>
</span><span id="line-105"></span><span>    </span><span class="hs-comment">-- If found, we add the default roots explicitly to the IntrospectionResult.</span><span>
</span><span id="line-106"></span><span>    </span><span class="hs-comment">-- This simplifies the customization code.</span><span>
</span><span id="line-107"></span><span>    </span><span class="annot"><a href="#local-6989586621691240335"><span class="hs-identifier hs-type">addDefaultRoots</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span>
</span><span id="line-108"></span><span>    </span><span id="local-6989586621691240335"><span class="annot"><span class="annottext">addDefaultRoots :: IntrospectionResult -&gt; IntrospectionResult
</span><a href="#local-6989586621691240335"><span class="hs-identifier hs-var hs-var">addDefaultRoots</span></a></span></span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621691240320"><span id="local-6989586621691240321"><span id="local-6989586621691240322"><span id="local-6989586621691240323"><span class="annot"><span class="annottext">Maybe Name
Name
RemoteSchemaIntrospection
irSubscriptionRoot :: IntrospectionResult -&gt; Maybe Name
irMutationRoot :: IntrospectionResult -&gt; Maybe Name
irQueryRoot :: IntrospectionResult -&gt; Name
irSubscriptionRoot :: Maybe Name
irMutationRoot :: Maybe Name
irQueryRoot :: Name
irDoc :: RemoteSchemaIntrospection
irDoc :: IntrospectionResult -&gt; RemoteSchemaIntrospection
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#irSubscriptionRoot"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-109"></span><span>      </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span>
</span><span id="line-110"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">irMutationRoot :: Maybe Name
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#irMutationRoot"><span class="hs-identifier hs-var">irMutationRoot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name -&gt; Maybe Name
</span><a href="#local-6989586621691240316"><span class="hs-identifier hs-var">getRootTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src"><span class="hs-identifier hs-var">GName._Mutation</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691240321"><span class="hs-identifier hs-var">irMutationRoot</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-111"></span><span>          </span><span class="annot"><span class="annottext">irSubscriptionRoot :: Maybe Name
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#irSubscriptionRoot"><span class="hs-identifier hs-var">irSubscriptionRoot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name -&gt; Maybe Name
</span><a href="#local-6989586621691240316"><span class="hs-identifier hs-var">getRootTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src"><span class="hs-identifier hs-var">GName._Subscription</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691240320"><span class="hs-identifier hs-var">irSubscriptionRoot</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-112"></span><span>          </span><span class="annot"><span class="annottext">Name
RemoteSchemaIntrospection
irQueryRoot :: Name
irQueryRoot :: Name
irDoc :: RemoteSchemaIntrospection
irDoc :: RemoteSchemaIntrospection
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#irQueryRoot"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span><span>
</span><span id="line-113"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-114"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-115"></span><span>        </span><span id="local-6989586621691240316"><span class="annot"><span class="annottext">getRootTypeName :: Name -&gt; Maybe Name -&gt; Maybe Name
</span><a href="#local-6989586621691240316"><span class="hs-identifier hs-var hs-var">getRootTypeName</span></a></span></span><span> </span><span id="local-6989586621691240313"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240313"><span class="hs-identifier hs-var">defaultName</span></a></span></span><span> </span><span id="local-6989586621691240312"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691240312"><span class="hs-identifier hs-var">providedName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-116"></span><span>          </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691240312"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240313"><span class="hs-identifier hs-var">defaultName</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
-&gt; Name
-&gt; Maybe (ObjectTypeDefinition RemoteSchemaInputValueDefinition)
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#lookupObject"><span class="hs-identifier hs-var">lookupObject</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621691240323"><span class="hs-identifier hs-var">irDoc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240313"><span class="hs-identifier hs-var">defaultName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span>    </span><span class="hs-comment">-- Minimum valid information required to run schema generation for</span><span>
</span><span id="line-119"></span><span>    </span><span class="hs-comment">-- the remote schema.</span><span>
</span><span id="line-120"></span><span>    </span><span id="local-6989586621691240325"><span class="annot"><span class="annottext">minimumValidContext :: SchemaContext
</span><a href="#local-6989586621691240325"><span class="hs-identifier hs-var hs-var">minimumValidContext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-121"></span><span>      </span><span class="annot"><span class="annottext">SchemaKind
-&gt; RemoteRelationshipParserBuilder -&gt; RoleName -&gt; SchemaContext
</span><a href="Hasura.GraphQL.Schema.Common.html#SchemaContext"><span class="hs-identifier hs-var">SchemaContext</span></a></span><span>
</span><span id="line-122"></span><span>        </span><span class="annot"><span class="annottext">SchemaKind
</span><a href="Hasura.GraphQL.Schema.Common.html#HasuraSchema"><span class="hs-identifier hs-var">HasuraSchema</span></a></span><span>
</span><span id="line-123"></span><span>        </span><span class="annot"><span class="annottext">RemoteRelationshipParserBuilder
</span><a href="Hasura.GraphQL.Schema.Common.html#ignoreRemoteRelationship"><span class="hs-identifier hs-var">ignoreRemoteRelationship</span></a></span><span>
</span><span id="line-124"></span><span>        </span><span class="annot"><span class="annottext">RoleName
</span><a href="Hasura.RQL.Types.Roles.html#adminRoleName"><span class="hs-identifier hs-var">adminRoleName</span></a></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="hs-comment">-- | Sends a GraphQL query to the given server.</span><span>
</span><span id="line-127"></span><span id="local-6989586621691241166"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#execRemoteGQ"><span class="hs-identifier hs-type">execRemoteGQ</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621691241166"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-129"></span><span>    </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-type">MonadError</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">QErr</span></span><span> </span><span class="annot"><a href="#local-6989586621691241166"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-130"></span><span>    </span><span class="annot"><a href="Hasura.Tracing.Class.html#MonadTrace"><span class="hs-identifier hs-type">Tracing.MonadTrace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621691241166"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-131"></span><span>    </span><span class="annot"><a href="Hasura.Services.Network.html#ProvidesNetwork"><span class="hs-identifier hs-type">ProvidesNetwork</span></a></span><span> </span><span class="annot"><a href="#local-6989586621691241166"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-133"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Env.Environment</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-134"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Session.html#UserInfo"><span class="hs-identifier hs-type">UserInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">HTTP.Header</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-136"></span><span>  </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#ValidatedRemoteSchemaDef"><span class="hs-identifier hs-type">ValidatedRemoteSchemaDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-137"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#GQLReqOutgoing"><span class="hs-identifier hs-type">GQLReqOutgoing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-138"></span><span>  </span><span class="hs-comment">-- | Returns the response body and headers, along with the time taken for the</span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-comment">-- HTTP request to complete</span><span>
</span><span id="line-140"></span><span>  </span><span class="annot"><a href="#local-6989586621691241166"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/time-1.11.1.1/src"><span class="hs-identifier hs-type">DiffTime</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">HTTP.Header</span></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/bytestring-0.11.3.1/src"><span class="hs-identifier hs-type">BL.ByteString</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-141"></span><span id="execRemoteGQ"><span class="annot"><span class="annottext">execRemoteGQ :: forall (m :: * -&gt; *).
(MonadIO m, MonadError QErr m, MonadTrace m, ProvidesNetwork m) =&gt;
Environment
-&gt; UserInfo
-&gt; [Header]
-&gt; ValidatedRemoteSchemaDef
-&gt; GQLReqOutgoing
-&gt; m (DiffTime, [Header], ByteString)
</span><a href="Hasura.GraphQL.RemoteServer.html#execRemoteGQ"><span class="hs-identifier hs-var hs-var">execRemoteGQ</span></a></span></span><span> </span><span id="local-6989586621691240241"><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621691240241"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621691240240"><span class="annot"><span class="annottext">UserInfo
</span><a href="#local-6989586621691240240"><span class="hs-identifier hs-var">userInfo</span></a></span></span><span> </span><span id="local-6989586621691240239"><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621691240239"><span class="hs-identifier hs-var">reqHdrs</span></a></span></span><span> </span><span id="local-6989586621691240238"><span class="annot"><span class="annottext">ValidatedRemoteSchemaDef
</span><a href="#local-6989586621691240238"><span class="hs-identifier hs-var">rsdef</span></a></span></span><span> </span><span id="local-6989586621691240237"><span class="annot"><span class="annottext">gqlReq :: GQLReqOutgoing
</span><a href="#local-6989586621691240237"><span class="hs-identifier hs-var">gqlReq</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#GQLReq"><span class="hs-identifier hs-type">GQLReq</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621691240233"><span id="local-6989586621691240234"><span id="local-6989586621691240235"><span class="annot"><span class="annottext">Maybe VariableValues
Maybe OperationName
SingleOperation
_grVariables :: forall a. GQLReq a -&gt; Maybe VariableValues
_grQuery :: forall a. GQLReq a -&gt; a
_grOperationName :: forall a. GQLReq a -&gt; Maybe OperationName
_grVariables :: Maybe VariableValues
_grQuery :: SingleOperation
_grOperationName :: Maybe OperationName
</span><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#_grVariables"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-142"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621691240229"><span class="annot"><span class="annottext">gqlReqUnparsed :: GQLReqUnparsed
</span><a href="#local-6989586621691240229"><span class="hs-identifier hs-var hs-var">gqlReqUnparsed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GQLReqOutgoing -&gt; GQLReqUnparsed
</span><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#renderGQLReqOutgoing"><span class="hs-identifier hs-var">renderGQLReqOutgoing</span></a></span><span> </span><span class="annot"><span class="annottext">GQLReqOutgoing
</span><a href="#local-6989586621691240237"><span class="hs-identifier hs-var">gqlReq</span></a></span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (frag :: * -&gt; *) var.
TypedOperationDefinition frag var -&gt; OperationType
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G._todType</span></a></span><span> </span><span class="annot"><span class="annottext">SingleOperation
</span><a href="#local-6989586621691240234"><span class="hs-identifier hs-var">_grQuery</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">OperationType
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.OperationTypeSubscription</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var">throwRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;subscription to remote server is not supported&quot;</span></span><span>
</span><span id="line-146"></span><span>  </span><span id="local-6989586621691240224"><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621691240224"><span class="hs-identifier hs-var">confHdrs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadError QErr m =&gt;
Environment -&gt; [HeaderConf] -&gt; m [Header]
</span><a href="Hasura.RQL.DDL.Headers.html#makeHeadersFromConf"><span class="hs-identifier hs-var">makeHeadersFromConf</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621691240241"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">[HeaderConf]
</span><a href="#local-6989586621691240223"><span class="hs-identifier hs-var">hdrConf</span></a></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621691240222"><span class="annot"><span class="annottext">clientHdrs :: [Header]
</span><a href="#local-6989586621691240222"><span class="hs-identifier hs-var hs-var">clientHdrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a -&gt; Bool -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">bool</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Header] -&gt; [Header]
</span><a href="Hasura.Server.Utils.html#mkClientHeadersForward"><span class="hs-identifier hs-var">mkClientHeadersForward</span></a></span><span> </span><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621691240239"><span class="hs-identifier hs-var">reqHdrs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621691240219"><span class="hs-identifier hs-var">fwdClientHdrs</span></a></span><span>
</span><span id="line-148"></span><span>      </span><span class="hs-comment">-- filter out duplicate headers</span><span>
</span><span id="line-149"></span><span>      </span><span class="hs-comment">-- priority: conf headers &gt; resolved userinfo vars &gt; client headers</span><span>
</span><span id="line-150"></span><span>      </span><span id="local-6989586621691240218"><span class="annot"><span class="annottext">hdrMaps :: [HashMap HeaderName ByteString]
</span><a href="#local-6989586621691240218"><span class="hs-identifier hs-var hs-var">hdrMaps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-151"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">HashMap.fromList</span></span><span> </span><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621691240224"><span class="hs-identifier hs-var">confHdrs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-152"></span><span>          </span><span class="annot"><span class="annottext">forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">HashMap.fromList</span></span><span> </span><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621691240216"><span class="hs-identifier hs-var">userInfoToHdrs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-153"></span><span>          </span><span class="annot"><span class="annottext">forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">HashMap.fromList</span></span><span> </span><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621691240222"><span class="hs-identifier hs-var">clientHdrs</span></a></span><span>
</span><span id="line-154"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-155"></span><span>      </span><span id="local-6989586621691240215"><span class="annot"><span class="annottext">headers :: [Header]
</span><a href="#local-6989586621691240215"><span class="hs-identifier hs-var hs-var">headers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k v. HashMap k v -&gt; [(k, v)]
</span><span class="hs-identifier hs-var">HashMap.toList</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">foldr</span></a></span><span> </span><span class="annot"><span class="annottext">forall k v.
(Eq k, Hashable k) =&gt;
HashMap k v -&gt; HashMap k v -&gt; HashMap k v
</span><span class="hs-identifier hs-var">HashMap.union</span></span><span> </span><span class="annot"><span class="annottext">forall k v. HashMap k v
</span><span class="hs-identifier hs-var">HashMap.empty</span></span><span> </span><span class="annot"><span class="annottext">[HashMap HeaderName ByteString]
</span><a href="#local-6989586621691240218"><span class="hs-identifier hs-var">hdrMaps</span></a></span><span>
</span><span id="line-156"></span><span>      </span><span id="local-6989586621691240210"><span class="annot"><span class="annottext">finalHeaders :: [Header]
</span><a href="#local-6989586621691240210"><span class="hs-identifier hs-var hs-var">finalHeaders</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Header] -&gt; [Header]
</span><a href="Hasura.HTTP.html#addDefaultHeaders"><span class="hs-identifier hs-var">addDefaultHeaders</span></a></span><span> </span><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621691240215"><span class="hs-identifier hs-var">headers</span></a></span><span>
</span><span id="line-157"></span><span>  </span><span id="local-6989586621691240208"><span class="annot"><span class="annottext">Request
</span><a href="#local-6989586621691240208"><span class="hs-identifier hs-var">initReq</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) e a.
Applicative m =&gt;
Either e a -&gt; (e -&gt; m a) -&gt; m a
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier hs-var">onLeft</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Either HttpException Request
</span><span class="hs-identifier hs-var">HTTP.mkRequestEither</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; Text
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="annot"><span class="annottext">URI
</span><a href="#local-6989586621691240205"><span class="hs-identifier hs-var">url</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
QErrM m =&gt;
EnvRecord URI -&gt; HttpException -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchemaHttp"><span class="hs-identifier hs-var">throwRemoteSchemaHttp</span></a></span><span> </span><span class="annot"><span class="annottext">EnvRecord URI
</span><a href="#local-6989586621691240203"><span class="hs-identifier hs-var">webhookEnvRecord</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621691240202"><span class="annot"><span class="annottext">req :: Request
</span><a href="#local-6989586621691240202"><span class="hs-identifier hs-var hs-var">req</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-159"></span><span>        </span><span class="annot"><span class="annottext">Request
</span><a href="#local-6989586621691240208"><span class="hs-identifier hs-var">initReq</span></a></span><span>
</span><span id="line-160"></span><span>          </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-identifier hs-var">set</span></span><span> </span><span class="annot"><span class="annottext">Lens' Request ByteString
</span><span class="hs-identifier hs-var">HTTP.method</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;POST&quot;</span></span><span>
</span><span id="line-161"></span><span>          </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-identifier hs-var">set</span></span><span> </span><span class="annot"><span class="annottext">Lens' Request [Header]
</span><span class="hs-identifier hs-var">HTTP.headers</span></span><span> </span><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621691240210"><span class="hs-identifier hs-var">finalHeaders</span></a></span><span>
</span><span id="line-162"></span><span>          </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-identifier hs-var">set</span></span><span> </span><span class="annot"><span class="annottext">Lens' Request RequestBody
</span><span class="hs-identifier hs-var">HTTP.body</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; RequestBody
</span><span class="hs-identifier hs-var">HTTP.RequestBodyLBS</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">J.encode</span></span><span> </span><span class="annot"><span class="annottext">GQLReqUnparsed
</span><a href="#local-6989586621691240229"><span class="hs-identifier hs-var">gqlReqUnparsed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>          </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-identifier hs-var">set</span></span><span> </span><span class="annot"><span class="annottext">Lens' Request ResponseTimeout
</span><span class="hs-identifier hs-var">HTTP.timeout</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; ResponseTimeout
</span><span class="hs-identifier hs-var">HTTP.responseTimeoutMicro</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621691240193"><span class="hs-identifier hs-var">timeout</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1000000</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span>  </span><span id="local-6989586621691240191"><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621691240191"><span class="hs-identifier hs-var">manager</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). ProvidesNetwork m =&gt; m Manager
</span><a href="Hasura.Services.Network.html#askHTTPManager"><span class="hs-identifier hs-var">askHTTPManager</span></a></span><span>
</span><span id="line-166"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(MonadIO m, MonadTrace m) =&gt;
Request -&gt; (Request -&gt; m a) -&gt; m a
</span><a href="Hasura.Tracing.Utils.html#traceHTTPRequest"><span class="hs-identifier hs-var">Tracing.traceHTTPRequest</span></a></span><span> </span><span class="annot"><span class="annottext">Request
</span><a href="#local-6989586621691240202"><span class="hs-identifier hs-var">req</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621691240188"><span class="annot"><span class="annottext">Request
</span><a href="#local-6989586621691240188"><span class="hs-identifier hs-var">req'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-167"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621691240187"><span class="annot"><span class="annottext">DiffTime
</span><a href="#local-6989586621691240187"><span class="hs-identifier hs-var">time</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621691240186"><span class="annot"><span class="annottext">Either HttpException (Response ByteString)
</span><a href="#local-6989586621691240186"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadIO m =&gt; m a -&gt; m (DiffTime, a)
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier hs-var">withElapsedTime</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall e a. Exception e =&gt; IO a -&gt; IO (Either e a)
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">try</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Request -&gt; Manager -&gt; IO (Response ByteString)
</span><span class="hs-identifier hs-var">HTTP.httpLbs</span></span><span> </span><span class="annot"><span class="annottext">Request
</span><a href="#local-6989586621691240188"><span class="hs-identifier hs-var">req'</span></a></span><span> </span><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621691240191"><span class="hs-identifier hs-var">manager</span></a></span><span>
</span><span id="line-168"></span><span>    </span><span id="local-6989586621691240182"><span class="annot"><span class="annottext">Response ByteString
</span><a href="#local-6989586621691240182"><span class="hs-identifier hs-var">resp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) e a.
Applicative m =&gt;
Either e a -&gt; (e -&gt; m a) -&gt; m a
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier hs-var">onLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Either HttpException (Response ByteString)
</span><a href="#local-6989586621691240186"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
QErrM m =&gt;
EnvRecord URI -&gt; HttpException -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchemaHttp"><span class="hs-identifier hs-var">throwRemoteSchemaHttp</span></a></span><span> </span><span class="annot"><span class="annottext">EnvRecord URI
</span><a href="#local-6989586621691240203"><span class="hs-identifier hs-var">webhookEnvRecord</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DiffTime
</span><a href="#local-6989586621691240187"><span class="hs-identifier hs-var">time</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Response a -&gt; [Header]
</span><a href="Hasura.Server.Utils.html#mkSetCookieHeaders"><span class="hs-identifier hs-var">mkSetCookieHeaders</span></a></span><span> </span><span class="annot"><span class="annottext">Response ByteString
</span><a href="#local-6989586621691240182"><span class="hs-identifier hs-var">resp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Response ByteString
</span><a href="#local-6989586621691240182"><span class="hs-identifier hs-var">resp</span></a></span><span> </span><span class="annot"><span class="annottext">forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">forall body0 body1.
Lens (Response body0) (Response body1) body0 body1
</span><span class="hs-identifier hs-var">Wreq.responseBody</span></span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-171"></span><span>    </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#ValidatedRemoteSchemaDef"><span class="hs-identifier hs-type">ValidatedRemoteSchemaDef</span></a></span><span> </span><span id="local-6989586621691240203"><span class="annot"><span class="annottext">EnvRecord URI
</span><a href="#local-6989586621691240203"><span class="hs-identifier hs-var">webhookEnvRecord</span></a></span></span><span> </span><span id="local-6989586621691240223"><span class="annot"><span class="annottext">[HeaderConf]
</span><a href="#local-6989586621691240223"><span class="hs-identifier hs-var">hdrConf</span></a></span></span><span> </span><span id="local-6989586621691240219"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621691240219"><span class="hs-identifier hs-var">fwdClientHdrs</span></a></span></span><span> </span><span id="local-6989586621691240193"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621691240193"><span class="hs-identifier hs-var">timeout</span></a></span></span><span> </span><span id="local-6989586621691240179"><span class="annot"><span class="annottext">Maybe RemoteSchemaCustomization
</span><a href="#local-6989586621691240179"><span class="hs-identifier hs-var">_mPrefix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ValidatedRemoteSchemaDef
</span><a href="#local-6989586621691240238"><span class="hs-identifier hs-var">rsdef</span></a></span><span>
</span><span id="line-172"></span><span>    </span><span id="local-6989586621691240205"><span class="annot"><span class="annottext">url :: URI
</span><a href="#local-6989586621691240205"><span class="hs-identifier hs-var hs-var">url</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. EnvRecord a -&gt; a
</span><a href="Hasura.RQL.Types.Common.html#_envVarValue"><span class="hs-identifier hs-var">_envVarValue</span></a></span><span> </span><span class="annot"><span class="annottext">EnvRecord URI
</span><a href="#local-6989586621691240203"><span class="hs-identifier hs-var">webhookEnvRecord</span></a></span><span>
</span><span id="line-173"></span><span>    </span><span id="local-6989586621691240216"><span class="annot"><span class="annottext">userInfoToHdrs :: [Header]
</span><a href="#local-6989586621691240216"><span class="hs-identifier hs-var hs-var">userInfoToHdrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SessionVariables -&gt; [Header]
</span><a href="Hasura.Session.html#sessionVariablesToHeaders"><span class="hs-identifier hs-var">sessionVariablesToHeaders</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">UserInfo -&gt; SessionVariables
</span><a href="Hasura.RQL.Types.Session.html#_uiSession"><span class="hs-identifier hs-var">_uiSession</span></a></span><span> </span><span class="annot"><span class="annottext">UserInfo
</span><a href="#local-6989586621691240240"><span class="hs-identifier hs-var">userInfo</span></a></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-176"></span><span class="hs-comment">-- Validation</span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizations"><span class="hs-identifier hs-type">validateSchemaCustomizations</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621691241116"><span class="annot"><a href="#local-6989586621691241116"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-180"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-type">MonadError</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">QErr</span></span><span> </span><span class="annot"><a href="#local-6989586621691241116"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-181"></span><span>  </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaCustomizer"><span class="hs-identifier hs-type">RemoteSchemaCustomizer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-182"></span><span>  </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-183"></span><span>  </span><span class="annot"><a href="#local-6989586621691241116"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span id="validateSchemaCustomizations"><span class="annot"><span class="annottext">validateSchemaCustomizations :: forall (m :: * -&gt; *).
MonadError QErr m =&gt;
RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
</span><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizations"><span class="hs-identifier hs-var hs-var">validateSchemaCustomizations</span></a></span></span><span> </span><span id="local-6989586621691240171"><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621691240171"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span></span><span> </span><span id="local-6989586621691240170"><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621691240170"><span class="hs-identifier hs-var">remoteSchemaIntrospection</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-185"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadError QErr m =&gt;
RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
</span><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizationsConsistent"><span class="hs-identifier hs-var">validateSchemaCustomizationsConsistent</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621691240171"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621691240170"><span class="hs-identifier hs-var">remoteSchemaIntrospection</span></a></span><span>
</span><span id="line-186"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadError QErr m =&gt;
RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
</span><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizationsDistinct"><span class="hs-identifier hs-var">validateSchemaCustomizationsDistinct</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621691240171"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621691240170"><span class="hs-identifier hs-var">remoteSchemaIntrospection</span></a></span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizationsConsistent"><span class="hs-identifier hs-type">validateSchemaCustomizationsConsistent</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-189"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621691240167"><span class="annot"><a href="#local-6989586621691240167"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-190"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-type">MonadError</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">QErr</span></span><span> </span><span class="annot"><a href="#local-6989586621691240167"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-191"></span><span>  </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaCustomizer"><span class="hs-identifier hs-type">RemoteSchemaCustomizer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-192"></span><span>  </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-193"></span><span>  </span><span class="annot"><a href="#local-6989586621691240167"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span id="validateSchemaCustomizationsConsistent"><span class="annot"><span class="annottext">validateSchemaCustomizationsConsistent :: forall (m :: * -&gt; *).
MonadError QErr m =&gt;
RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
</span><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizationsConsistent"><span class="hs-identifier hs-var hs-var">validateSchemaCustomizationsConsistent</span></a></span></span><span> </span><span id="local-6989586621691240160"><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621691240160"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span id="local-6989586621691240158"><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621691240158"><span class="hs-identifier hs-var">typeDefinitions</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-195"></span><span>  </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">traverse_</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. TypeDefinition [Name] a -&gt; m ()
</span><a href="#local-6989586621691240156"><span class="hs-identifier hs-var">validateInterfaceFields</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621691240158"><span class="hs-identifier hs-var">typeDefinitions</span></a></span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-197"></span><span>    </span><span id="local-6989586621691240155"><span class="annot"><span class="annottext">customizeFieldName :: CustomizeRemoteFieldName
</span><a href="#local-6989586621691240155"><span class="hs-identifier hs-var hs-var">customizeFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer -&gt; CustomizeRemoteFieldName
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#remoteSchemaCustomizeFieldName"><span class="hs-identifier hs-var">remoteSchemaCustomizeFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621691240160"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span>    </span><span id="local-6989586621691241003"><span class="annot"><a href="#local-6989586621691240156"><span class="hs-identifier hs-type">validateInterfaceFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.TypeDefinition</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621691241003"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621691240167"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-200"></span><span>    </span><span id="local-6989586621691240156"><span class="annot"><span class="annottext">validateInterfaceFields :: forall a. TypeDefinition [Name] a -&gt; m ()
</span><a href="#local-6989586621691240156"><span class="hs-identifier hs-var hs-var">validateInterfaceFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-201"></span><span>      </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.TypeDefinitionInterface</span></a></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621691240121"><span id="local-6989586621691240122"><span id="local-6989586621691240123"><span id="local-6989586621691240124"><span id="local-6989586621691240125"><span class="annot"><span class="annottext">[Directive Void]
[FieldDefinition a]
[Name]
Maybe Description
Name
_itdDescription :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; Maybe Description
_itdName :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; Name
_itdDirectives :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; [Directive Void]
_itdFieldsDefinition :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; [FieldDefinition inputType]
_itdPossibleTypes :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; possibleTypes
_itdPossibleTypes :: [Name]
_itdFieldsDefinition :: [FieldDefinition a]
_itdDirectives :: [Directive Void]
_itdName :: Name
_itdDescription :: Maybe Description
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-202"></span><span>        </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">for_</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621691240121"><span class="hs-identifier hs-var">_itdPossibleTypes</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621691240114"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240114"><span class="hs-identifier hs-var">typeName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-203"></span><span>          </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">for_</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition a]
</span><a href="#local-6989586621691240122"><span class="hs-identifier hs-var">_itdFieldsDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.FieldDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621691240108"><span id="local-6989586621691240109"><span id="local-6989586621691240110"><span id="local-6989586621691240111"><span id="local-6989586621691240112"><span class="annot"><span class="annottext">ArgumentsDefinition a
[Directive Void]
Maybe Description
GType
Name
_fldDescription :: forall inputType. FieldDefinition inputType -&gt; Maybe Description
_fldName :: forall inputType. FieldDefinition inputType -&gt; Name
_fldArgumentsDefinition :: forall inputType.
FieldDefinition inputType -&gt; ArgumentsDefinition inputType
_fldType :: forall inputType. FieldDefinition inputType -&gt; GType
_fldDirectives :: forall inputType. FieldDefinition inputType -&gt; [Directive Void]
_fldDirectives :: [Directive Void]
_fldType :: GType
_fldArgumentsDefinition :: ArgumentsDefinition a
_fldName :: Name
_fldDescription :: Maybe Description
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-204"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621691240102"><span class="annot"><span class="annottext">interfaceCustomizedFieldName :: Name
</span><a href="#local-6989586621691240102"><span class="hs-identifier hs-var hs-var">interfaceCustomizedFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CustomizeRemoteFieldName -&gt; Name -&gt; Name -&gt; Name
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#runCustomizeRemoteFieldName"><span class="hs-identifier hs-var">runCustomizeRemoteFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">CustomizeRemoteFieldName
</span><a href="#local-6989586621691240155"><span class="hs-identifier hs-var">customizeFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240124"><span class="hs-identifier hs-var">_itdName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240111"><span class="hs-identifier hs-var">_fldName</span></a></span><span>
</span><span id="line-205"></span><span>                </span><span id="local-6989586621691240100"><span class="annot"><span class="annottext">typeCustomizedFieldName :: Name
</span><a href="#local-6989586621691240100"><span class="hs-identifier hs-var hs-var">typeCustomizedFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CustomizeRemoteFieldName -&gt; Name -&gt; Name -&gt; Name
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#runCustomizeRemoteFieldName"><span class="hs-identifier hs-var">runCustomizeRemoteFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">CustomizeRemoteFieldName
</span><a href="#local-6989586621691240155"><span class="hs-identifier hs-var">customizeFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240114"><span class="hs-identifier hs-var">typeName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240111"><span class="hs-identifier hs-var">_fldName</span></a></span><span>
</span><span id="line-206"></span><span>            </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240102"><span class="hs-identifier hs-var">interfaceCustomizedFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240100"><span class="hs-identifier hs-var">typeCustomizedFieldName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>              </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var">throwRemoteSchema</span></a></span><span>
</span><span id="line-208"></span><span>              </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Remote schema customization inconsistency: field name mapping for field &quot;</span></span><span>
</span><span id="line-209"></span><span>              </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240111"><span class="hs-identifier hs-var">_fldName</span></a></span><span>
</span><span id="line-210"></span><span>              </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; of interface &quot;</span></span><span>
</span><span id="line-211"></span><span>              </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240124"><span class="hs-identifier hs-var">_itdName</span></a></span><span>
</span><span id="line-212"></span><span>              </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; is inconsistent with mapping for type &quot;</span></span><span>
</span><span id="line-213"></span><span>              </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240114"><span class="hs-identifier hs-var">typeName</span></a></span><span>
</span><span id="line-214"></span><span>              </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;. Interface field name maps to &quot;</span></span><span>
</span><span id="line-215"></span><span>              </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240102"><span class="hs-identifier hs-var">interfaceCustomizedFieldName</span></a></span><span>
</span><span id="line-216"></span><span>              </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;. Type field name maps to &quot;</span></span><span>
</span><span id="line-217"></span><span>              </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240100"><span class="hs-identifier hs-var">typeCustomizedFieldName</span></a></span><span>
</span><span id="line-218"></span><span>              </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;.&quot;</span></span><span>
</span><span id="line-219"></span><span>      </span><span class="annot"><span class="annottext">TypeDefinition [Name] a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizationsDistinct"><span class="hs-identifier hs-type">validateSchemaCustomizationsDistinct</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-222"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621691240098"><span class="annot"><a href="#local-6989586621691240098"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-223"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-type">MonadError</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">QErr</span></span><span> </span><span class="annot"><a href="#local-6989586621691240098"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-224"></span><span>  </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaCustomizer"><span class="hs-identifier hs-type">RemoteSchemaCustomizer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-225"></span><span>  </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-226"></span><span>  </span><span class="annot"><a href="#local-6989586621691240098"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span id="validateSchemaCustomizationsDistinct"><span class="annot"><span class="annottext">validateSchemaCustomizationsDistinct :: forall (m :: * -&gt; *).
MonadError QErr m =&gt;
RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
</span><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizationsDistinct"><span class="hs-identifier hs-var hs-var">validateSchemaCustomizationsDistinct</span></a></span></span><span> </span><span id="local-6989586621691240081"><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621691240081"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span id="local-6989586621691240080"><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621691240080"><span class="hs-identifier hs-var">typeDefinitions</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-228"></span><span>  </span><span class="annot"><span class="annottext">m ()
</span><a href="#local-6989586621691240079"><span class="hs-identifier hs-var">validateTypeMappingsAreDistinct</span></a></span><span>
</span><span id="line-229"></span><span>  </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">traverse_</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. TypeDefinition a b -&gt; m ()
</span><a href="#local-6989586621691240078"><span class="hs-identifier hs-var">validateFieldMappingsAreDistinct</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621691240080"><span class="hs-identifier hs-var">typeDefinitions</span></a></span><span>
</span><span id="line-230"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-231"></span><span>    </span><span id="local-6989586621691240077"><span class="annot"><span class="annottext">customizeTypeName :: MkTypename
</span><a href="#local-6989586621691240077"><span class="hs-identifier hs-var hs-var">customizeTypeName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer -&gt; MkTypename
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#remoteSchemaCustomizeTypeName"><span class="hs-identifier hs-var">remoteSchemaCustomizeTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621691240081"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span><span>
</span><span id="line-232"></span><span>    </span><span id="local-6989586621691240075"><span class="annot"><span class="annottext">customizeFieldName :: Name -&gt; Name -&gt; Name
</span><a href="#local-6989586621691240075"><span class="hs-identifier hs-var hs-var">customizeFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CustomizeRemoteFieldName -&gt; Name -&gt; Name -&gt; Name
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#runCustomizeRemoteFieldName"><span class="hs-identifier hs-var">runCustomizeRemoteFieldName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RemoteSchemaCustomizer -&gt; CustomizeRemoteFieldName
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#remoteSchemaCustomizeFieldName"><span class="hs-identifier hs-var">remoteSchemaCustomizeFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621691240081"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span>    </span><span class="annot"><a href="#local-6989586621691240079"><span class="hs-identifier hs-type">validateTypeMappingsAreDistinct</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621691240098"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-235"></span><span>    </span><span id="local-6989586621691240079"><span class="annot"><span class="annottext">validateTypeMappingsAreDistinct :: m ()
</span><a href="#local-6989586621691240079"><span class="hs-identifier hs-var hs-var">validateTypeMappingsAreDistinct</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-236"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621691240074"><span class="annot"><span class="annottext">dups :: HashSet Name
</span><a href="#local-6989586621691240074"><span class="hs-identifier hs-var hs-var">dups</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Hashable a =&gt; [a] -&gt; HashSet a
</span><span class="hs-identifier hs-var">duplicates</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MkTypename -&gt; Name -&gt; Name
</span><a href="Hasura.GraphQL.Schema.Typename.html#runMkTypename"><span class="hs-identifier hs-var">runMkTypename</span></a></span><span> </span><span class="annot"><span class="annottext">MkTypename
</span><a href="#local-6989586621691240077"><span class="hs-identifier hs-var">customizeTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall k v. HashMap k v -&gt; [k]
</span><span class="hs-identifier hs-var">HashMap.keys</span></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621691240080"><span class="hs-identifier hs-var">typeDefinitions</span></a></span><span>
</span><span id="line-237"></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. HashSet a -&gt; Bool
</span><span class="hs-identifier hs-var">Set.null</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621691240074"><span class="hs-identifier hs-var">dups</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span>        </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var">throwRemoteSchema</span></a></span><span>
</span><span id="line-239"></span><span>        </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Type name mappings are not distinct; the following types appear more than once: &quot;</span></span><span>
</span><span id="line-240"></span><span>        </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall t (f :: * -&gt; *). (ToTxt t, Foldable f) =&gt; f t -&gt; Text
</span><span class="hs-identifier hs-var">dquoteList</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621691240074"><span class="hs-identifier hs-var">dups</span></a></span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span>    </span><span id="local-6989586621691240974"><span id="local-6989586621691240975"><span class="annot"><a href="#local-6989586621691240078"><span class="hs-identifier hs-type">validateFieldMappingsAreDistinct</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.TypeDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621691240975"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621691240974"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621691240098"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-243"></span><span>    </span><span id="local-6989586621691240078"><span class="annot"><span class="annottext">validateFieldMappingsAreDistinct :: forall a b. TypeDefinition a b -&gt; m ()
</span><a href="#local-6989586621691240078"><span class="hs-identifier hs-var hs-var">validateFieldMappingsAreDistinct</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-244"></span><span>      </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.TypeDefinitionInterface</span></a></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621691240041"><span id="local-6989586621691240042"><span id="local-6989586621691240043"><span id="local-6989586621691240044"><span id="local-6989586621691240045"><span class="annot"><span class="annottext">a
[Directive Void]
[FieldDefinition b]
Maybe Description
Name
_itdPossibleTypes :: a
_itdFieldsDefinition :: [FieldDefinition b]
_itdDirectives :: [Directive Void]
_itdName :: Name
_itdDescription :: Maybe Description
_itdDescription :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; Maybe Description
_itdName :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; Name
_itdDirectives :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; [Directive Void]
_itdFieldsDefinition :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; [FieldDefinition inputType]
_itdPossibleTypes :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; possibleTypes
</span><a href="#local-6989586621691240041"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-245"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621691240040"><span class="annot"><span class="annottext">dups :: HashSet Name
</span><a href="#local-6989586621691240040"><span class="hs-identifier hs-var hs-var">dups</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Hashable a =&gt; [a] -&gt; HashSet a
</span><span class="hs-identifier hs-var">duplicates</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Name
</span><a href="#local-6989586621691240075"><span class="hs-identifier hs-var">customizeFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240044"><span class="hs-identifier hs-var">_itdName</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall inputType. FieldDefinition inputType -&gt; Name
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G._fldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition b]
</span><a href="#local-6989586621691240042"><span class="hs-identifier hs-var">_itdFieldsDefinition</span></a></span><span>
</span><span id="line-246"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. HashSet a -&gt; Bool
</span><span class="hs-identifier hs-var">Set.null</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621691240040"><span class="hs-identifier hs-var">dups</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span>          </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var">throwRemoteSchema</span></a></span><span>
</span><span id="line-248"></span><span>          </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Field name mappings for interface type &quot;</span></span><span>
</span><span id="line-249"></span><span>          </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240044"><span class="hs-identifier hs-var">_itdName</span></a></span><span>
</span><span id="line-250"></span><span>          </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; are not distinct; the following fields appear more than once: &quot;</span></span><span>
</span><span id="line-251"></span><span>          </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall t (f :: * -&gt; *). (ToTxt t, Foldable f) =&gt; f t -&gt; Text
</span><span class="hs-identifier hs-var">dquoteList</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621691240040"><span class="hs-identifier hs-var">dups</span></a></span><span>
</span><span id="line-252"></span><span>      </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.TypeDefinitionObject</span></a></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621691240033"><span id="local-6989586621691240034"><span id="local-6989586621691240035"><span id="local-6989586621691240036"><span id="local-6989586621691240037"><span class="annot"><span class="annottext">[Directive Void]
[FieldDefinition b]
[Name]
Maybe Description
Name
_otdDescription :: forall inputType.
ObjectTypeDefinition inputType -&gt; Maybe Description
_otdName :: forall inputType. ObjectTypeDefinition inputType -&gt; Name
_otdImplementsInterfaces :: forall inputType. ObjectTypeDefinition inputType -&gt; [Name]
_otdDirectives :: forall inputType.
ObjectTypeDefinition inputType -&gt; [Directive Void]
_otdFieldsDefinition :: forall inputType.
ObjectTypeDefinition inputType -&gt; [FieldDefinition inputType]
_otdFieldsDefinition :: [FieldDefinition b]
_otdDirectives :: [Directive Void]
_otdImplementsInterfaces :: [Name]
_otdName :: Name
_otdDescription :: Maybe Description
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-253"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621691240027"><span class="annot"><span class="annottext">dups :: HashSet Name
</span><a href="#local-6989586621691240027"><span class="hs-identifier hs-var hs-var">dups</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Hashable a =&gt; [a] -&gt; HashSet a
</span><span class="hs-identifier hs-var">duplicates</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Name
</span><a href="#local-6989586621691240075"><span class="hs-identifier hs-var">customizeFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240036"><span class="hs-identifier hs-var">_otdName</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall inputType. FieldDefinition inputType -&gt; Name
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G._fldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition b]
</span><a href="#local-6989586621691240033"><span class="hs-identifier hs-var">_otdFieldsDefinition</span></a></span><span>
</span><span id="line-254"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. HashSet a -&gt; Bool
</span><span class="hs-identifier hs-var">Set.null</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621691240027"><span class="hs-identifier hs-var">dups</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span>          </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var">throwRemoteSchema</span></a></span><span>
</span><span id="line-256"></span><span>          </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Field name mappings for object type &quot;</span></span><span>
</span><span id="line-257"></span><span>          </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691240036"><span class="hs-identifier hs-var">_otdName</span></a></span><span>
</span><span id="line-258"></span><span>          </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; are not distinct; the following fields appear more than once: &quot;</span></span><span>
</span><span id="line-259"></span><span>          </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall t (f :: * -&gt; *). (ToTxt t, Foldable f) =&gt; f t -&gt; Text
</span><span class="hs-identifier hs-var">dquoteList</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621691240027"><span class="hs-identifier hs-var">dups</span></a></span><span>
</span><span id="line-260"></span><span>      </span><span class="annot"><span class="annottext">TypeDefinition a b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-263"></span><span class="hs-comment">-- Introspection</span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#introspectionQuery"><span class="hs-identifier hs-type">introspectionQuery</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#GQLReqOutgoing"><span class="hs-identifier hs-type">GQLReqOutgoing</span></a></span><span>
</span><span id="line-266"></span><span id="introspectionQuery"><span class="annot"><span class="annottext">introspectionQuery :: GQLReqOutgoing
</span><a href="Hasura.GraphQL.RemoteServer.html#introspectionQuery"><span class="hs-identifier hs-var hs-var">introspectionQuery</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-267"></span><span>  </span><span class="hs-special">$</span><span class="hs-special">(</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-268"></span><span>       </span><span class="hs-identifier">fp</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">makeRelativeToProject</span><span> </span><span class="hs-string">&quot;src-rsr/introspection.json&quot;</span><span>
</span><span id="line-269"></span><span>       </span><span class="hs-identifier">TH.qAddDependentFile</span><span> </span><span class="hs-identifier">fp</span><span>
</span><span id="line-270"></span><span>       </span><span class="hs-identifier">eitherResult</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">TH.runIO</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">J.eitherDecodeFileStrict</span><span> </span><span class="hs-identifier">fp</span><span>
</span><span id="line-271"></span><span>       </span><span class="hs-identifier">either</span><span> </span><span class="hs-identifier">fail</span><span> </span><span class="hs-identifier">TH.lift</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-272"></span><span>         </span><span class="hs-identifier">r</span><span class="hs-glyph">@</span><span class="hs-identifier">GQLReq</span><span> </span><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">eitherResult</span><span>
</span><span id="line-273"></span><span>         </span><span class="hs-identifier">op</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">left</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">T.unpack</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">showQErr</span><span class="hs-special">)</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">getSingleOperation</span><span> </span><span class="hs-identifier">r</span><span>
</span><span id="line-274"></span><span>         </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">GQLReq</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">_grQuery</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">op</span><span class="hs-special">,</span><span> </span><span class="hs-glyph">..</span><span class="hs-special">}</span><span>
</span><span id="line-275"></span><span>   </span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span class="hs-comment">-- | Parsing the introspection query result.  We use this newtype wrapper to</span><span>
</span><span id="line-278"></span><span class="hs-comment">-- avoid orphan instances and parse JSON in the way that we need for GraphQL</span><span>
</span><span id="line-279"></span><span class="hs-comment">-- introspection results.</span><span>
</span><span id="line-280"></span><span id="local-6989586621691240011"><span id="local-6989586621691240012"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="FromIntrospection"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span></span><span> </span><span id="local-6989586621691240940"><span class="annot"><a href="#local-6989586621691240940"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FromIntrospection"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span></span><span> </span><span class="hs-special">{</span><span id="fromIntrospection"><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621691240940"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-281"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621691240001"><span id="local-6989586621691240003"><span id="local-6989586621691240008"><span class="annot"><span class="annottext">Int -&gt; FromIntrospection a -&gt; ShowS
forall a. Show a =&gt; Int -&gt; FromIntrospection a -&gt; ShowS
forall a. Show a =&gt; [FromIntrospection a] -&gt; ShowS
forall a. Show a =&gt; FromIntrospection a -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [FromIntrospection a] -&gt; ShowS
$cshowList :: forall a. Show a =&gt; [FromIntrospection a] -&gt; ShowS
show :: FromIntrospection a -&gt; String
$cshow :: forall a. Show a =&gt; FromIntrospection a -&gt; String
showsPrec :: Int -&gt; FromIntrospection a -&gt; ShowS
$cshowsPrec :: forall a. Show a =&gt; Int -&gt; FromIntrospection a -&gt; ShowS
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621691239993"><span id="local-6989586621691239997"><span class="annot"><span class="annottext">FromIntrospection a -&gt; FromIntrospection a -&gt; Bool
forall a.
Eq a =&gt;
FromIntrospection a -&gt; FromIntrospection a -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: FromIntrospection a -&gt; FromIntrospection a -&gt; Bool
$c/= :: forall a.
Eq a =&gt;
FromIntrospection a -&gt; FromIntrospection a -&gt; Bool
== :: FromIntrospection a -&gt; FromIntrospection a -&gt; Bool
$c== :: forall a.
Eq a =&gt;
FromIntrospection a -&gt; FromIntrospection a -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall a x. Rep (FromIntrospection a) x -&gt; FromIntrospection a
forall a x. FromIntrospection a -&gt; Rep (FromIntrospection a) x
$cto :: forall a x. Rep (FromIntrospection a) x -&gt; FromIntrospection a
$cfrom :: forall a x. FromIntrospection a -&gt; Rep (FromIntrospection a) x
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621691239981"><span id="local-6989586621691239983"><span class="annot"><span class="annottext">forall a b. a -&gt; FromIntrospection b -&gt; FromIntrospection a
forall a b. (a -&gt; b) -&gt; FromIntrospection a -&gt; FromIntrospection b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: forall a b. a -&gt; FromIntrospection b -&gt; FromIntrospection a
$c&lt;$ :: forall a b. a -&gt; FromIntrospection b -&gt; FromIntrospection a
fmap :: forall a b. (a -&gt; b) -&gt; FromIntrospection a -&gt; FromIntrospection b
$cfmap :: forall a b. (a -&gt; b) -&gt; FromIntrospection a -&gt; FromIntrospection b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621691239976"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Description</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-284"></span><span>  </span><span id="local-6989586621691239970"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection Description)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.Description</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.parseJSON</span></span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621691239965"><span id="local-6989586621691240929"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><a href="#local-6989586621691240929"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.FieldDefinition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621691240929"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-287"></span><span>  </span><span id="local-6989586621691239942"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection (FieldDefinition a))
</span><a href="#local-6989586621691239942"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;FieldDefinition&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621691239940"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239940"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-288"></span><span>    </span><span id="local-6989586621691239939"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239939"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239940"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-289"></span><span>    </span><span id="local-6989586621691239938"><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621691239938"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239940"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;description&quot;</span></span><span>
</span><span id="line-290"></span><span>    </span><span id="local-6989586621691239937"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621691239937"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239940"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;args&quot;</span></span><span>
</span><span id="line-291"></span><span>    </span><span id="local-6989586621691239936"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621691239936"><span class="hs-identifier hs-var">type'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239940"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;type&quot;</span></span><span>
</span><span id="line-292"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621691239935"><span class="annot"><span class="annottext">r :: FieldDefinition a
</span><a href="#local-6989586621691239935"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-293"></span><span>          </span><span class="annot"><span class="annottext">forall inputType.
Maybe Description
-&gt; Name
-&gt; ArgumentsDefinition inputType
-&gt; GType
-&gt; [Directive Void]
-&gt; FieldDefinition inputType
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.FieldDefinition</span></a></span><span>
</span><span id="line-294"></span><span>            </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621691239938"><span class="hs-identifier hs-var">desc</span></a></span><span>
</span><span id="line-295"></span><span>            </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239939"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-296"></span><span>            </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621691239937"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-297"></span><span>            </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621691239936"><span class="hs-identifier hs-var">type'</span></a></span><span>
</span><span id="line-298"></span><span>            </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-299"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition a
</span><a href="#local-6989586621691239935"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-300"></span><span>
</span><span id="line-301"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621691239932"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.GType</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-302"></span><span>  </span><span id="local-6989586621691239898"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection GType)
</span><a href="#local-6989586621691239898"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GType&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621691239897"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239897"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-303"></span><span>    </span><span id="local-6989586621691239896"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621691239896"><span class="hs-identifier hs-var">kind</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239897"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;kind&quot;</span></span><span>
</span><span id="line-304"></span><span>    </span><span id="local-6989586621691239895"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239895"><span class="hs-identifier hs-var">mName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239897"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-305"></span><span>    </span><span id="local-6989586621691239894"><span class="annot"><span class="annottext">Maybe (FromIntrospection GType)
</span><a href="#local-6989586621691239894"><span class="hs-identifier hs-var">mType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239897"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;ofType&quot;</span></span><span>
</span><span id="line-306"></span><span>    </span><span id="local-6989586621691239893"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621691239893"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621691239896"><span class="hs-identifier hs-var">kind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239895"><span class="hs-identifier hs-var">mName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection GType)
</span><a href="#local-6989586621691239894"><span class="hs-identifier hs-var">mType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-307"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;NON_NULL&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621691239892"><span class="annot"><span class="annottext">FromIntrospection GType
</span><a href="#local-6989586621691239892"><span class="hs-identifier hs-var">typ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">GType -&gt; GType
</span><a href="#local-6989586621691239891"><span class="hs-identifier hs-var">mkNotNull</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">FromIntrospection GType
</span><a href="#local-6989586621691239892"><span class="hs-identifier hs-var">typ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;NON_NULL&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection GType)
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;NON_NULL should have `ofType`&quot;</span></span><span>
</span><span id="line-309"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LIST&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621691239889"><span class="annot"><span class="annottext">FromIntrospection GType
</span><a href="#local-6989586621691239889"><span class="hs-identifier hs-var">typ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-310"></span><span>        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Nullability -&gt; GType -&gt; GType
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.TypeList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Nullability
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.Nullability</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">FromIntrospection GType
</span><a href="#local-6989586621691239889"><span class="hs-identifier hs-var">typ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LIST&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection GType)
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LIST should have `ofType`&quot;</span></span><span>
</span><span id="line-312"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621691239886"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239886"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection GType)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Nullability -&gt; Name -&gt; GType
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.TypeNamed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Nullability
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.Nullability</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239886"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-313"></span><span>      </span><span class="annot"><span class="annottext">(Text, Maybe Name, Maybe (FromIntrospection GType))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621691239896"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; should have name&quot;</span></span><span>
</span><span id="line-314"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621691239893"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-316"></span><span>      </span><span id="local-6989586621691239891"><span class="annot"><span class="annottext">mkNotNull :: GType -&gt; GType
</span><a href="#local-6989586621691239891"><span class="hs-identifier hs-var hs-var">mkNotNull</span></a></span></span><span> </span><span id="local-6989586621691239884"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621691239884"><span class="hs-identifier hs-var">typ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621691239884"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-317"></span><span>        </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.TypeList</span></a></span><span> </span><span class="annot"><span class="annottext">Nullability
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621691239883"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621691239883"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Nullability -&gt; GType -&gt; GType
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.TypeList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Nullability
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.Nullability</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621691239883"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-318"></span><span>        </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.TypeNamed</span></a></span><span> </span><span class="annot"><span class="annottext">Nullability
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621691239882"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239882"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Nullability -&gt; Name -&gt; GType
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.TypeNamed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Nullability
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.Nullability</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239882"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-319"></span><span>
</span><span id="line-320"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621691239879"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.InputValueDefinition</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-321"></span><span>  </span><span id="local-6989586621691239860"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection InputValueDefinition)
</span><a href="#local-6989586621691239860"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;InputValueDefinition&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621691239859"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239859"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-322"></span><span>    </span><span id="local-6989586621691239858"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239858"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239859"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-323"></span><span>    </span><span id="local-6989586621691239857"><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621691239857"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239859"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;description&quot;</span></span><span>
</span><span id="line-324"></span><span>    </span><span id="local-6989586621691239856"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621691239856"><span class="hs-identifier hs-var">type'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239859"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;type&quot;</span></span><span>
</span><span id="line-325"></span><span>    </span><span id="local-6989586621691239855"><span class="annot"><span class="annottext">Maybe (Value Void)
</span><a href="#local-6989586621691239855"><span class="hs-identifier hs-var">defVal</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239859"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;defaultValue&quot;</span></span><span>
</span><span id="line-326"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
-&gt; Name
-&gt; GType
-&gt; Maybe (Value Void)
-&gt; [Directive Void]
-&gt; InputValueDefinition
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.InputValueDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621691239857"><span class="hs-identifier hs-var">desc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239858"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621691239856"><span class="hs-identifier hs-var">type'</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Value Void)
</span><a href="#local-6989586621691239855"><span class="hs-identifier hs-var">defVal</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621691239851"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Value</span></a></span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Void</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-329"></span><span>  </span><span id="local-6989586621691239846"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection (Value Void))
</span><a href="#local-6989586621691239846"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; (Text -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withText</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Value Void&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621691239844"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621691239844"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-330"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621691239841"><span class="annot"><span class="annottext">parseValueConst :: Text -&gt; Either Text (Value Void)
</span><a href="#local-6989586621691239841"><span class="hs-identifier hs-var hs-var">parseValueConst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Parser a -&gt; Text -&gt; Either Text a
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.runParser</span></a></span><span> </span><span class="annot"><span class="annottext">forall var. Variable var =&gt; Parser (Value var)
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.value</span></a></span><span>
</span><span id="line-331"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) e a.
Applicative m =&gt;
Either e a -&gt; (e -&gt; m a) -&gt; m a
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier hs-var">onLeft</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Either Text (Value Void)
</span><a href="#local-6989586621691239841"><span class="hs-identifier hs-var">parseValueConst</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621691239844"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><span class="hs-identifier hs-var">T.unpack</span></span><span class="hs-special">)</span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621691239835"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.EnumValueDefinition</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-334"></span><span>  </span><span id="local-6989586621691239824"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection EnumValueDefinition)
</span><a href="#local-6989586621691239824"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;EnumValueDefinition&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621691239823"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239823"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-335"></span><span>    </span><span id="local-6989586621691239822"><span class="annot"><span class="annottext">EnumValue
</span><a href="#local-6989586621691239822"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239823"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-336"></span><span>    </span><span id="local-6989586621691239821"><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621691239821"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239823"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;description&quot;</span></span><span>
</span><span id="line-337"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
-&gt; EnumValue -&gt; [Directive Void] -&gt; EnumValueDefinition
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.EnumValueDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621691239821"><span class="hs-identifier hs-var">desc</span></a></span><span> </span><span class="annot"><span class="annottext">EnumValue
</span><a href="#local-6989586621691239822"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621691239817"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.TypeDefinition</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.InputValueDefinition</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-340"></span><span>  </span><span id="local-6989586621691239710"><span class="annot"><span class="annottext">parseJSON :: Value
-&gt; Parser
     (FromIntrospection (TypeDefinition [Name] InputValueDefinition))
</span><a href="#local-6989586621691239710"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TypeDefinition&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621691239709"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239709"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-341"></span><span>    </span><span id="local-6989586621691239708"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621691239708"><span class="hs-identifier hs-var">kind</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239709"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;kind&quot;</span></span><span>
</span><span id="line-342"></span><span>    </span><span id="local-6989586621691239707"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239707"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239709"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-343"></span><span>    </span><span id="local-6989586621691239706"><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621691239706"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239709"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;description&quot;</span></span><span>
</span><span id="line-344"></span><span>    </span><span id="local-6989586621691239705"><span class="annot"><span class="annottext">TypeDefinition [Name] InputValueDefinition
</span><a href="#local-6989586621691239705"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621691239708"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-345"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;SCALAR&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-346"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall possibleTypes inputType.
ScalarTypeDefinition -&gt; TypeDefinition possibleTypes inputType
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.TypeDefinitionScalar</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
-&gt; Name -&gt; [Directive Void] -&gt; ScalarTypeDefinition
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.ScalarTypeDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621691239706"><span class="hs-identifier hs-var">desc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239707"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-347"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;OBJECT&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-348"></span><span>        </span><span id="local-6989586621691239702"><span class="annot"><span class="annottext">Maybe [FromIntrospection (FieldDefinition InputValueDefinition)]
</span><a href="#local-6989586621691239702"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239709"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;fields&quot;</span></span><span>
</span><span id="line-349"></span><span>        </span><span id="local-6989586621691239701"><span class="annot"><span class="annottext">Maybe
  [FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
</span><a href="#local-6989586621691239701"><span class="hs-identifier hs-var">interfaces</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.TypeDefinition</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.InputValueDefinition</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239709"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;interfaces&quot;</span></span><span>
</span><span id="line-350"></span><span>        </span><span id="local-6989586621691239700"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621691239700"><span class="hs-identifier hs-var">implIfaces</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">for</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">foldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe
  [FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
</span><a href="#local-6989586621691239701"><span class="hs-identifier hs-var">interfaces</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-351"></span><span>          </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.TypeDefinitionInterface</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621691239693"><span id="local-6989586621691239694"><span id="local-6989586621691239695"><span id="local-6989586621691239696"><span id="local-6989586621691239697"><span class="annot"><span class="annottext">[Directive Void]
[FieldDefinition InputValueDefinition]
[Name]
Maybe Description
Name
_itdPossibleTypes :: [Name]
_itdFieldsDefinition :: [FieldDefinition InputValueDefinition]
_itdDirectives :: [Directive Void]
_itdName :: Name
_itdDescription :: Maybe Description
_itdDescription :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; Maybe Description
_itdName :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; Name
_itdDirectives :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; [Directive Void]
_itdFieldsDefinition :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; [FieldDefinition inputType]
_itdPossibleTypes :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; possibleTypes
</span><a href="#local-6989586621691239693"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239696"><span class="hs-identifier hs-var">_itdName</span></a></span><span>
</span><span id="line-352"></span><span>          </span><span class="annot"><span class="annottext">TypeDefinition [Name] InputValueDefinition
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Error: object type &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.unName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239707"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; can only implement interfaces&quot;</span></span><span>
</span><span id="line-353"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621691239691"><span class="annot"><span class="annottext">flds :: [FieldDefinition InputValueDefinition]
</span><a href="#local-6989586621691239691"><span class="hs-identifier hs-var hs-var">flds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">foldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe [FromIntrospection (FieldDefinition InputValueDefinition)]
</span><a href="#local-6989586621691239702"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-354"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall possibleTypes inputType.
ObjectTypeDefinition inputType
-&gt; TypeDefinition possibleTypes inputType
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.TypeDefinitionObject</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall inputType.
Maybe Description
-&gt; Name
-&gt; [Name]
-&gt; [Directive Void]
-&gt; [FieldDefinition inputType]
-&gt; ObjectTypeDefinition inputType
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.ObjectTypeDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621691239706"><span class="hs-identifier hs-var">desc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239707"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621691239700"><span class="hs-identifier hs-var">implIfaces</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[FieldDefinition InputValueDefinition]
</span><a href="#local-6989586621691239691"><span class="hs-identifier hs-var">flds</span></a></span><span>
</span><span id="line-355"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;INTERFACE&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-356"></span><span>        </span><span id="local-6989586621691239690"><span class="annot"><span class="annottext">Maybe [FromIntrospection (FieldDefinition InputValueDefinition)]
</span><a href="#local-6989586621691239690"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239709"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;fields&quot;</span></span><span>
</span><span id="line-357"></span><span>        </span><span id="local-6989586621691239689"><span class="annot"><span class="annottext">Maybe
  [FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
</span><a href="#local-6989586621691239689"><span class="hs-identifier hs-var">possibleTypes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.TypeDefinition</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.InputValueDefinition</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239709"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;possibleTypes&quot;</span></span><span>
</span><span id="line-358"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621691239688"><span class="annot"><span class="annottext">flds :: [FieldDefinition InputValueDefinition]
</span><a href="#local-6989586621691239688"><span class="hs-identifier hs-var hs-var">flds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe [FromIntrospection (FieldDefinition InputValueDefinition)]
</span><a href="#local-6989586621691239690"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-359"></span><span>        </span><span class="hs-comment">-- TODO (non PDV) track which interfaces implement which other interfaces, after a</span><span>
</span><span id="line-360"></span><span>        </span><span class="hs-comment">-- GraphQL spec &gt; Jun 2018 is released.</span><span>
</span><span id="line-361"></span><span>        </span><span id="local-6989586621691239686"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621691239686"><span class="hs-identifier hs-var">possTps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">for</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">foldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe
  [FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
</span><a href="#local-6989586621691239689"><span class="hs-identifier hs-var">possibleTypes</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-362"></span><span>          </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.TypeDefinitionObject</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621691239681"><span id="local-6989586621691239682"><span id="local-6989586621691239683"><span id="local-6989586621691239684"><span id="local-6989586621691239685"><span class="annot"><span class="annottext">[Directive Void]
[FieldDefinition InputValueDefinition]
[Name]
Maybe Description
Name
_otdFieldsDefinition :: [FieldDefinition InputValueDefinition]
_otdDirectives :: [Directive Void]
_otdImplementsInterfaces :: [Name]
_otdName :: Name
_otdDescription :: Maybe Description
_otdDescription :: forall inputType.
ObjectTypeDefinition inputType -&gt; Maybe Description
_otdName :: forall inputType. ObjectTypeDefinition inputType -&gt; Name
_otdImplementsInterfaces :: forall inputType. ObjectTypeDefinition inputType -&gt; [Name]
_otdDirectives :: forall inputType.
ObjectTypeDefinition inputType -&gt; [Directive Void]
_otdFieldsDefinition :: forall inputType.
ObjectTypeDefinition inputType -&gt; [FieldDefinition inputType]
</span><a href="#local-6989586621691239681"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239684"><span class="hs-identifier hs-var">_otdName</span></a></span><span>
</span><span id="line-363"></span><span>          </span><span class="annot"><span class="annottext">TypeDefinition [Name] InputValueDefinition
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Error: interface type &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.unName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239707"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; can only be implemented by objects&quot;</span></span><span>
</span><span id="line-364"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; TypeDefinition possibleTypes inputType
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.TypeDefinitionInterface</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall possibleTypes inputType.
Maybe Description
-&gt; Name
-&gt; [Directive Void]
-&gt; [FieldDefinition inputType]
-&gt; possibleTypes
-&gt; InterfaceTypeDefinition possibleTypes inputType
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.InterfaceTypeDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621691239706"><span class="hs-identifier hs-var">desc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239707"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[FieldDefinition InputValueDefinition]
</span><a href="#local-6989586621691239688"><span class="hs-identifier hs-var">flds</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621691239686"><span class="hs-identifier hs-var">possTps</span></a></span><span>
</span><span id="line-365"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;UNION&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-366"></span><span>        </span><span id="local-6989586621691239680"><span class="annot"><span class="annottext">[FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
</span><a href="#local-6989586621691239680"><span class="hs-identifier hs-var">possibleTypes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.TypeDefinition</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.InputValueDefinition</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239709"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;possibleTypes&quot;</span></span><span>
</span><span id="line-367"></span><span>        </span><span id="local-6989586621691239679"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621691239679"><span class="hs-identifier hs-var">possibleTypes'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">for</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
</span><a href="#local-6989586621691239680"><span class="hs-identifier hs-var">possibleTypes</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-368"></span><span>          </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.TypeDefinitionObject</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621691239674"><span id="local-6989586621691239675"><span id="local-6989586621691239676"><span id="local-6989586621691239677"><span id="local-6989586621691239678"><span class="annot"><span class="annottext">[Directive Void]
[FieldDefinition InputValueDefinition]
[Name]
Maybe Description
Name
_otdFieldsDefinition :: [FieldDefinition InputValueDefinition]
_otdDirectives :: [Directive Void]
_otdImplementsInterfaces :: [Name]
_otdName :: Name
_otdDescription :: Maybe Description
_otdDescription :: forall inputType.
ObjectTypeDefinition inputType -&gt; Maybe Description
_otdName :: forall inputType. ObjectTypeDefinition inputType -&gt; Name
_otdImplementsInterfaces :: forall inputType. ObjectTypeDefinition inputType -&gt; [Name]
_otdDirectives :: forall inputType.
ObjectTypeDefinition inputType -&gt; [Directive Void]
_otdFieldsDefinition :: forall inputType.
ObjectTypeDefinition inputType -&gt; [FieldDefinition inputType]
</span><a href="#local-6989586621691239674"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239677"><span class="hs-identifier hs-var">_otdName</span></a></span><span>
</span><span id="line-369"></span><span>          </span><span class="annot"><span class="annottext">TypeDefinition [Name] InputValueDefinition
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Error: union type &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.unName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239707"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; can only be implemented by objects&quot;</span></span><span>
</span><span id="line-370"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall possibleTypes inputType.
UnionTypeDefinition -&gt; TypeDefinition possibleTypes inputType
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.TypeDefinitionUnion</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
-&gt; Name -&gt; [Directive Void] -&gt; [Name] -&gt; UnionTypeDefinition
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.UnionTypeDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621691239706"><span class="hs-identifier hs-var">desc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239707"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621691239679"><span class="hs-identifier hs-var">possibleTypes'</span></a></span><span>
</span><span id="line-371"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ENUM&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-372"></span><span>        </span><span id="local-6989586621691239671"><span class="annot"><span class="annottext">[EnumValueDefinition]
</span><a href="#local-6989586621691239671"><span class="hs-identifier hs-var">vals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239709"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;enumValues&quot;</span></span><span>
</span><span id="line-373"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall possibleTypes inputType.
EnumTypeDefinition -&gt; TypeDefinition possibleTypes inputType
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.TypeDefinitionEnum</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
-&gt; Name
-&gt; [Directive Void]
-&gt; [EnumValueDefinition]
-&gt; EnumTypeDefinition
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.EnumTypeDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621691239706"><span class="hs-identifier hs-var">desc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239707"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[EnumValueDefinition]
</span><a href="#local-6989586621691239671"><span class="hs-identifier hs-var">vals</span></a></span><span>
</span><span id="line-374"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;INPUT_OBJECT&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-375"></span><span>        </span><span id="local-6989586621691239668"><span class="annot"><span class="annottext">[InputValueDefinition]
</span><a href="#local-6989586621691239668"><span class="hs-identifier hs-var">inputFields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">foldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239709"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;inputFields&quot;</span></span><span>
</span><span id="line-376"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall possibleTypes inputType.
InputObjectTypeDefinition inputType
-&gt; TypeDefinition possibleTypes inputType
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.TypeDefinitionInputObject</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall inputType.
Maybe Description
-&gt; Name
-&gt; [Directive Void]
-&gt; [inputType]
-&gt; InputObjectTypeDefinition inputType
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.InputObjectTypeDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621691239706"><span class="hs-identifier hs-var">desc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239707"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[InputValueDefinition]
</span><a href="#local-6989586621691239668"><span class="hs-identifier hs-var">inputFields</span></a></span><span>
</span><span id="line-377"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;unknown kind: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621691239708"><span class="hs-identifier hs-var">kind</span></a></span><span>
</span><span id="line-378"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">TypeDefinition [Name] InputValueDefinition
</span><a href="#local-6989586621691239705"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621691239663"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-381"></span><span>  </span><span id="local-6989586621691239619"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection IntrospectionResult)
</span><a href="#local-6989586621691239619"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SchemaDocument&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621691239618"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239618"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-382"></span><span>    </span><span id="local-6989586621691239617"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239617"><span class="hs-identifier hs-var">data'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239618"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;data&quot;</span></span><span>
</span><span id="line-383"></span><span>    </span><span id="local-6989586621691239616"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239616"><span class="hs-identifier hs-var">schema</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239617"><span class="hs-identifier hs-var">data'</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;__schema&quot;</span></span><span>
</span><span id="line-384"></span><span>    </span><span class="hs-comment">-- the list of types</span><span>
</span><span id="line-385"></span><span>    </span><span id="local-6989586621691239615"><span class="annot"><span class="annottext">[FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
</span><a href="#local-6989586621691239615"><span class="hs-identifier hs-var">types</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239616"><span class="hs-identifier hs-var">schema</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;types&quot;</span></span><span>
</span><span id="line-386"></span><span>    </span><span class="hs-comment">-- query root</span><span>
</span><span id="line-387"></span><span>    </span><span id="local-6989586621691239614"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239614"><span class="hs-identifier hs-var">queryType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239616"><span class="hs-identifier hs-var">schema</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;queryType&quot;</span></span><span>
</span><span id="line-388"></span><span>    </span><span id="local-6989586621691239613"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239613"><span class="hs-identifier hs-var">queryRoot</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239614"><span class="hs-identifier hs-var">queryType</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-389"></span><span>    </span><span class="hs-comment">-- mutation root</span><span>
</span><span id="line-390"></span><span>    </span><span id="local-6989586621691239612"><span class="annot"><span class="annottext">Maybe Object
</span><a href="#local-6989586621691239612"><span class="hs-identifier hs-var">mMutationType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239616"><span class="hs-identifier hs-var">schema</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;mutationType&quot;</span></span><span>
</span><span id="line-391"></span><span>    </span><span id="local-6989586621691239611"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239611"><span class="hs-identifier hs-var">mutationRoot</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">for</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Object
</span><a href="#local-6989586621691239612"><span class="hs-identifier hs-var">mMutationType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-392"></span><span>    </span><span class="hs-comment">-- subscription root</span><span>
</span><span id="line-393"></span><span>    </span><span id="local-6989586621691239610"><span class="annot"><span class="annottext">Maybe Object
</span><a href="#local-6989586621691239610"><span class="hs-identifier hs-var">mSubsType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621691239616"><span class="hs-identifier hs-var">schema</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;subscriptionType&quot;</span></span><span>
</span><span id="line-394"></span><span>    </span><span id="local-6989586621691239609"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239609"><span class="hs-identifier hs-var">subsRoot</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">for</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Object
</span><a href="#local-6989586621691239610"><span class="hs-identifier hs-var">mSubsType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-395"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621691239608"><span class="annot"><span class="annottext">types' :: [FromIntrospection
   (TypeDefinition [Name] RemoteSchemaInputValueDefinition)]
</span><a href="#local-6989586621691239608"><span class="hs-identifier hs-var hs-var">types'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-396"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-397"></span><span>            </span><span class="hs-comment">-- presets are only defined for non-admin roles,</span><span>
</span><span id="line-398"></span><span>            </span><span class="hs-comment">-- an admin will not have any presets</span><span>
</span><span id="line-399"></span><span>            </span><span class="hs-comment">-- defined and the admin will be the one,</span><span>
</span><span id="line-400"></span><span>            </span><span class="hs-comment">-- who'll be adding the remote schema,</span><span>
</span><span id="line-401"></span><span>            </span><span class="hs-comment">-- hence presets are set to `Nothing`</span><span>
</span><span id="line-402"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InputValueDefinition
-&gt; Maybe (Value RemoteSchemaVariable)
-&gt; RemoteSchemaInputValueDefinition
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaInputValueDefinition"><span class="hs-operator hs-var">`RemoteSchemaInputValueDefinition`</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-403"></span><span>            </span><span class="annot"><span class="annottext">[FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
</span><a href="#local-6989586621691239615"><span class="hs-identifier hs-var">types</span></a></span><span>
</span><span id="line-404"></span><span>        </span><span id="local-6989586621691239606"><span class="annot"><span class="annottext">r :: IntrospectionResult
</span><a href="#local-6989586621691239606"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-405"></span><span>          </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
-&gt; Name -&gt; Maybe Name -&gt; Maybe Name -&gt; IntrospectionResult
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-var">IntrospectionResult</span></a></span><span>
</span><span id="line-406"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; RemoteSchemaIntrospection
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-var">RemoteSchemaIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall k v. Hashable k =&gt; (v -&gt; k) -&gt; [v] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">HashMap.fromListOn</span></span><span> </span><span class="annot"><span class="annottext">forall possibleTypes inputType.
TypeDefinition possibleTypes inputType -&gt; Name
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#getTypeName"><span class="hs-identifier hs-var">getTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[FromIntrospection
   (TypeDefinition [Name] RemoteSchemaInputValueDefinition)]
</span><a href="#local-6989586621691239608"><span class="hs-identifier hs-var">types'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-407"></span><span>            </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239613"><span class="hs-identifier hs-var">queryRoot</span></a></span><span>
</span><span id="line-408"></span><span>            </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239611"><span class="hs-identifier hs-var">mutationRoot</span></a></span><span>
</span><span id="line-409"></span><span>            </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239609"><span class="hs-identifier hs-var">subsRoot</span></a></span><span>
</span><span id="line-410"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">IntrospectionResult
</span><a href="#local-6989586621691239606"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-413"></span><span class="hs-comment">-- Customization</span><span>
</span><span id="line-414"></span><span>
</span><span id="line-415"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#getCustomizer"><span class="hs-identifier hs-type">getCustomizer</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.Metadata.Customization.html#RemoteSchemaCustomization"><span class="hs-identifier hs-type">RemoteSchemaCustomization</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaCustomizer"><span class="hs-identifier hs-type">RemoteSchemaCustomizer</span></a></span><span>
</span><span id="line-416"></span><span id="getCustomizer"><span class="annot"><span class="annottext">getCustomizer :: IntrospectionResult
-&gt; Maybe RemoteSchemaCustomization -&gt; RemoteSchemaCustomizer
</span><a href="Hasura.GraphQL.RemoteServer.html#getCustomizer"><span class="hs-identifier hs-var hs-var">getCustomizer</span></a></span></span><span> </span><span class="annot"><span class="annottext">IntrospectionResult
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe RemoteSchemaCustomization
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#identityCustomizer"><span class="hs-identifier hs-var">identityCustomizer</span></a></span><span>
</span><span id="line-417"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#getCustomizer"><span class="hs-identifier hs-var">getCustomizer</span></a></span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621691239599"><span id="local-6989586621691239600"><span id="local-6989586621691239601"><span id="local-6989586621691239602"><span class="annot"><span class="annottext">Maybe Name
Name
RemoteSchemaIntrospection
irSubscriptionRoot :: Maybe Name
irMutationRoot :: Maybe Name
irQueryRoot :: Name
irDoc :: RemoteSchemaIntrospection
irSubscriptionRoot :: IntrospectionResult -&gt; Maybe Name
irMutationRoot :: IntrospectionResult -&gt; Maybe Name
irQueryRoot :: IntrospectionResult -&gt; Name
irDoc :: IntrospectionResult -&gt; RemoteSchemaIntrospection
</span><a href="#local-6989586621691239599"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.Metadata.Customization.html#RemoteSchemaCustomization"><span class="hs-identifier hs-type">RemoteSchemaCustomization</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621691239595"><span id="local-6989586621691239596"><span id="local-6989586621691239597"><span class="annot"><span class="annottext">Maybe [RemoteFieldCustomization]
Maybe Name
Maybe RemoteTypeCustomization
_rscFieldNames :: RemoteSchemaCustomization -&gt; Maybe [RemoteFieldCustomization]
_rscTypeNames :: RemoteSchemaCustomization -&gt; Maybe RemoteTypeCustomization
_rscRootFieldsNamespace :: RemoteSchemaCustomization -&gt; Maybe Name
_rscFieldNames :: Maybe [RemoteFieldCustomization]
_rscTypeNames :: Maybe RemoteTypeCustomization
_rscRootFieldsNamespace :: Maybe Name
</span><a href="Hasura.RemoteSchema.Metadata.Customization.html#_rscFieldNames"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaCustomizer"><span class="hs-identifier hs-type">RemoteSchemaCustomizer</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">Maybe Name
HashMap Name (HashMap Name Name)
HashMap Name Name
_rscCustomizeFieldName :: HashMap Name (HashMap Name Name)
_rscCustomizeTypeName :: HashMap Name Name
_rscNamespaceFieldName :: Maybe Name
_rscCustomizeFieldName :: HashMap Name (HashMap Name Name)
_rscCustomizeTypeName :: HashMap Name Name
_rscNamespaceFieldName :: Maybe Name
</span><a href="Hasura.RemoteSchema.SchemaCache.Types.html#_rscCustomizeFieldName"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-418"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-419"></span><span>    </span><span id="local-6989586621691239584"><span class="annot"><span class="annottext">rootTypeNames :: HashSet Name
</span><a href="#local-6989586621691239584"><span class="hs-identifier hs-var hs-var">rootTypeNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-420"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">isNothing</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239597"><span class="hs-identifier hs-var">_rscRootFieldsNamespace</span></a></span><span>
</span><span id="line-421"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><span class="hs-identifier hs-var">Set.fromList</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Filterable f =&gt; f (Maybe a) -&gt; f a
</span><span class="hs-identifier hs-var">catMaybes</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239601"><span class="hs-identifier hs-var">irQueryRoot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239600"><span class="hs-identifier hs-var">irMutationRoot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239599"><span class="hs-identifier hs-var">irSubscriptionRoot</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-422"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-423"></span><span>    </span><span class="hs-comment">-- root type names should not be prefixed or suffixed unless</span><span>
</span><span id="line-424"></span><span>    </span><span class="hs-comment">-- there is a custom root namespace field</span><span>
</span><span id="line-425"></span><span>    </span><span id="local-6989586621691239580"><span class="annot"><span class="annottext">protectedTypeNames :: HashSet Name
</span><a href="#local-6989586621691239580"><span class="hs-identifier hs-var hs-var">protectedTypeNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src"><span class="hs-identifier hs-var">GName.builtInScalars</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621691239584"><span class="hs-identifier hs-var">rootTypeNames</span></a></span><span>
</span><span id="line-426"></span><span>    </span><span id="local-6989586621691239578"><span class="annot"><span class="annottext">nameFilter :: Name -&gt; Bool
</span><a href="#local-6989586621691239578"><span class="hs-identifier hs-var hs-var">nameFilter</span></a></span></span><span> </span><span id="local-6989586621691239577"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239577"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">not</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;__&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool
</span><span class="hs-operator hs-var">`T.isPrefixOf`</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.unName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239577"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">||</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239577"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. (Eq a, Hashable a) =&gt; a -&gt; HashSet a -&gt; Bool
</span><span class="hs-operator hs-var">`Set.member`</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621691239580"><span class="hs-identifier hs-var">protectedTypeNames</span></a></span><span>
</span><span id="line-427"></span><span>
</span><span id="line-428"></span><span>    </span><span class="annot"><a href="#local-6989586621691239572"><span class="hs-identifier hs-type">mkPrefixSuffixMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span>
</span><span id="line-429"></span><span>    </span><span id="local-6989586621691239572"><span class="annot"><span class="annottext">mkPrefixSuffixMap :: Maybe Name -&gt; Maybe Name -&gt; [Name] -&gt; HashMap Name Name
</span><a href="#local-6989586621691239572"><span class="hs-identifier hs-var hs-var">mkPrefixSuffixMap</span></a></span></span><span> </span><span id="local-6989586621691239571"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239571"><span class="hs-identifier hs-var">mPrefix</span></a></span></span><span> </span><span id="local-6989586621691239570"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239570"><span class="hs-identifier hs-var">mSuffix</span></a></span></span><span> </span><span id="local-6989586621691239569"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621691239569"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">HashMap.fromList</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239571"><span class="hs-identifier hs-var">mPrefix</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239570"><span class="hs-identifier hs-var">mSuffix</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-430"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Name
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-431"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621691239568"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239568"><span class="hs-identifier hs-var">prefix</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621691239567"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239567"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239567"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239568"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239567"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621691239569"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-432"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Name
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621691239566"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239566"><span class="hs-identifier hs-var">suffix</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621691239565"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239565"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239565"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239565"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239566"><span class="hs-identifier hs-var">suffix</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621691239569"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-433"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621691239564"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239564"><span class="hs-identifier hs-var">prefix</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621691239563"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239563"><span class="hs-identifier hs-var">suffix</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621691239562"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239562"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239562"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239564"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239562"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239563"><span class="hs-identifier hs-var">suffix</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621691239569"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-434"></span><span>
</span><span id="line-435"></span><span>    </span><span class="annot"><a href="Hasura.RemoteSchema.SchemaCache.Types.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span id="local-6989586621691239561"><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621691239561"><span class="hs-identifier hs-var">typeDefinitions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621691239602"><span class="hs-identifier hs-var">irDoc</span></a></span><span>
</span><span id="line-436"></span><span>    </span><span id="local-6989586621691239560"><span class="annot"><span class="annottext">typesToRename :: [Name]
</span><a href="#local-6989586621691239560"><span class="hs-identifier hs-var hs-var">typesToRename</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Bool
</span><a href="#local-6989586621691239578"><span class="hs-identifier hs-var">nameFilter</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall k v. HashMap k v -&gt; [k]
</span><span class="hs-identifier hs-var">HashMap.keys</span></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621691239561"><span class="hs-identifier hs-var">typeDefinitions</span></a></span><span>
</span><span id="line-437"></span><span>
</span><span id="line-438"></span><span>    </span><span class="hs-comment">-- NOTE: We are creating a root type name mapping, this will be used to</span><span>
</span><span id="line-439"></span><span>    </span><span class="hs-comment">-- prefix the root field names with the root field namespace. We are doing</span><span>
</span><span id="line-440"></span><span>    </span><span class="hs-comment">-- this inorder to reduce typename conflicts while adding the root field</span><span>
</span><span id="line-441"></span><span>    </span><span class="hs-comment">-- namespace. Please note that this will have lower precedence order than</span><span>
</span><span id="line-442"></span><span>    </span><span class="hs-comment">-- the _rtcMapping. This means that a user can still change the root type</span><span>
</span><span id="line-443"></span><span>    </span><span class="hs-comment">-- name.</span><span>
</span><span id="line-444"></span><span>    </span><span id="local-6989586621691239559"><span class="annot"><span class="annottext">rootTypeNameMap :: HashMap Name Name
</span><a href="#local-6989586621691239559"><span class="hs-identifier hs-var hs-var">rootTypeNameMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-445"></span><span>      </span><span class="annot"><span class="annottext">Maybe Name -&gt; Maybe Name -&gt; [Name] -&gt; HashMap Name Name
</span><a href="#local-6989586621691239572"><span class="hs-identifier hs-var">mkPrefixSuffixMap</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239597"><span class="hs-identifier hs-var">_rscRootFieldsNamespace</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-446"></span><span>        </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Filterable f =&gt; f (Maybe a) -&gt; f a
</span><span class="hs-identifier hs-var">catMaybes</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621691239601"><span class="hs-identifier hs-var">irQueryRoot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239600"><span class="hs-identifier hs-var">irMutationRoot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239599"><span class="hs-identifier hs-var">irSubscriptionRoot</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span>    </span><span id="local-6989586621691239558"><span class="annot"><span class="annottext">typeRenameMap :: HashMap Name Name
</span><a href="#local-6989586621691239558"><span class="hs-identifier hs-var hs-var">typeRenameMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-449"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe RemoteTypeCustomization
</span><a href="#local-6989586621691239596"><span class="hs-identifier hs-var">_rscTypeNames</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-450"></span><span>        </span><span class="annot"><span class="annottext">Maybe RemoteTypeCustomization
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HashMap Name Name
</span><a href="#local-6989586621691239559"><span class="hs-identifier hs-var">rootTypeNameMap</span></a></span><span>
</span><span id="line-451"></span><span>        </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.Metadata.Customization.html#RemoteTypeCustomization"><span class="hs-identifier hs-type">RemoteTypeCustomization</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621691239554"><span id="local-6989586621691239555"><span id="local-6989586621691239556"><span class="annot"><span class="annottext">Maybe Name
HashMap Name Name
_rtcMapping :: RemoteTypeCustomization -&gt; HashMap Name Name
_rtcSuffix :: RemoteTypeCustomization -&gt; Maybe Name
_rtcPrefix :: RemoteTypeCustomization -&gt; Maybe Name
_rtcMapping :: HashMap Name Name
_rtcSuffix :: Maybe Name
_rtcPrefix :: Maybe Name
</span><a href="Hasura.RemoteSchema.Metadata.Customization.html#_rtcMapping"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-452"></span><span>          </span><span class="annot"><span class="annottext">HashMap Name Name
</span><a href="#local-6989586621691239554"><span class="hs-identifier hs-var">_rtcMapping</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name Name
</span><a href="#local-6989586621691239559"><span class="hs-identifier hs-var">rootTypeNameMap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name -&gt; Maybe Name -&gt; [Name] -&gt; HashMap Name Name
</span><a href="#local-6989586621691239572"><span class="hs-identifier hs-var">mkPrefixSuffixMap</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239556"><span class="hs-identifier hs-var">_rtcPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239555"><span class="hs-identifier hs-var">_rtcSuffix</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621691239560"><span class="hs-identifier hs-var">typesToRename</span></a></span><span>
</span><span id="line-453"></span><span>
</span><span id="line-454"></span><span>    </span><span class="annot"><a href="#local-6989586621691239550"><span class="hs-identifier hs-type">typeFieldMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- typeName -&gt; fieldNames</span><span>
</span><span id="line-455"></span><span>    </span><span id="local-6989586621691239550"><span class="annot"><span class="annottext">typeFieldMap :: HashMap Name [Name]
</span><a href="#local-6989586621691239550"><span class="hs-identifier hs-var hs-var">typeFieldMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-456"></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b.
Filterable f =&gt;
(a -&gt; Maybe b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">forall {possibleTypes} {inputType}.
TypeDefinition possibleTypes inputType -&gt; Maybe [Name]
</span><a href="#local-6989586621691239548"><span class="hs-identifier hs-var">getFieldsNames</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621691239561"><span class="hs-identifier hs-var">typeDefinitions</span></a></span><span>
</span><span id="line-457"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-458"></span><span>        </span><span id="local-6989586621691239548"><span class="annot"><span class="annottext">getFieldsNames :: TypeDefinition possibleTypes inputType -&gt; Maybe [Name]
</span><a href="#local-6989586621691239548"><span class="hs-identifier hs-var hs-var">getFieldsNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-459"></span><span>          </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.TypeDefinitionObject</span></a></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621691239541"><span id="local-6989586621691239542"><span id="local-6989586621691239543"><span id="local-6989586621691239544"><span id="local-6989586621691239545"><span class="annot"><span class="annottext">[Directive Void]
[FieldDefinition inputType]
[Name]
Maybe Description
Name
_otdFieldsDefinition :: [FieldDefinition inputType]
_otdDirectives :: [Directive Void]
_otdImplementsInterfaces :: [Name]
_otdName :: Name
_otdDescription :: Maybe Description
_otdDescription :: forall inputType.
ObjectTypeDefinition inputType -&gt; Maybe Description
_otdName :: forall inputType. ObjectTypeDefinition inputType -&gt; Name
_otdImplementsInterfaces :: forall inputType. ObjectTypeDefinition inputType -&gt; [Name]
_otdDirectives :: forall inputType.
ObjectTypeDefinition inputType -&gt; [Directive Void]
_otdFieldsDefinition :: forall inputType.
ObjectTypeDefinition inputType -&gt; [FieldDefinition inputType]
</span><a href="#local-6989586621691239541"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall inputType. FieldDefinition inputType -&gt; Name
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G._fldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition inputType]
</span><a href="#local-6989586621691239541"><span class="hs-identifier hs-var">_otdFieldsDefinition</span></a></span><span>
</span><span id="line-460"></span><span>          </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.TypeDefinitionInterface</span></a></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621691239536"><span id="local-6989586621691239537"><span id="local-6989586621691239538"><span id="local-6989586621691239539"><span id="local-6989586621691239540"><span class="annot"><span class="annottext">possibleTypes
[Directive Void]
[FieldDefinition inputType]
Maybe Description
Name
_itdPossibleTypes :: possibleTypes
_itdFieldsDefinition :: [FieldDefinition inputType]
_itdDirectives :: [Directive Void]
_itdName :: Name
_itdDescription :: Maybe Description
_itdDescription :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; Maybe Description
_itdName :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; Name
_itdDirectives :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; [Directive Void]
_itdFieldsDefinition :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; [FieldDefinition inputType]
_itdPossibleTypes :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; possibleTypes
</span><a href="#local-6989586621691239536"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall inputType. FieldDefinition inputType -&gt; Name
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G._fldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition inputType]
</span><a href="#local-6989586621691239537"><span class="hs-identifier hs-var">_itdFieldsDefinition</span></a></span><span>
</span><span id="line-461"></span><span>          </span><span class="annot"><span class="annottext">TypeDefinition possibleTypes inputType
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-462"></span><span>
</span><span id="line-463"></span><span>    </span><span id="local-6989586621691239532"><span class="annot"><span class="annottext">mkFieldRenameMap :: RemoteFieldCustomization -&gt; [Name] -&gt; HashMap Name Name
</span><a href="#local-6989586621691239532"><span class="hs-identifier hs-var hs-var">mkFieldRenameMap</span></a></span></span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.Metadata.Customization.html#RemoteFieldCustomization"><span class="hs-identifier hs-type">RemoteFieldCustomization</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621691239527"><span id="local-6989586621691239528"><span id="local-6989586621691239529"><span id="local-6989586621691239530"><span class="annot"><span class="annottext">Maybe Name
HashMap Name Name
Name
_rfcMapping :: RemoteFieldCustomization -&gt; HashMap Name Name
_rfcSuffix :: RemoteFieldCustomization -&gt; Maybe Name
_rfcPrefix :: RemoteFieldCustomization -&gt; Maybe Name
_rfcParentType :: RemoteFieldCustomization -&gt; Name
_rfcMapping :: HashMap Name Name
_rfcSuffix :: Maybe Name
_rfcPrefix :: Maybe Name
_rfcParentType :: Name
</span><a href="Hasura.RemoteSchema.Metadata.Customization.html#_rfcMapping"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621691239522"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621691239522"><span class="hs-identifier hs-var">fieldNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-464"></span><span>      </span><span class="annot"><span class="annottext">HashMap Name Name
</span><a href="#local-6989586621691239527"><span class="hs-identifier hs-var">_rfcMapping</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name -&gt; Maybe Name -&gt; [Name] -&gt; HashMap Name Name
</span><a href="#local-6989586621691239572"><span class="hs-identifier hs-var">mkPrefixSuffixMap</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239529"><span class="hs-identifier hs-var">_rfcPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239528"><span class="hs-identifier hs-var">_rfcSuffix</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621691239522"><span class="hs-identifier hs-var">fieldNames</span></a></span><span>
</span><span id="line-465"></span><span>
</span><span id="line-466"></span><span>    </span><span id="local-6989586621691239521"><span class="annot"><span class="annottext">fieldRenameMap :: HashMap Name (HashMap Name Name)
</span><a href="#local-6989586621691239521"><span class="hs-identifier hs-var hs-var">fieldRenameMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-467"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe [RemoteFieldCustomization]
</span><a href="#local-6989586621691239595"><span class="hs-identifier hs-var">_rscFieldNames</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-468"></span><span>        </span><span class="annot"><span class="annottext">Maybe [RemoteFieldCustomization]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall k v. HashMap k v
</span><span class="hs-identifier hs-var">HashMap.empty</span></span><span>
</span><span id="line-469"></span><span>        </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621691239520"><span class="annot"><span class="annottext">[RemoteFieldCustomization]
</span><a href="#local-6989586621691239520"><span class="hs-identifier hs-var">fieldNameCustomizations</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-470"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621691239519"><span class="annot"><span class="annottext">customizationMap :: HashMap Name RemoteFieldCustomization
</span><a href="#local-6989586621691239519"><span class="hs-identifier hs-var hs-var">customizationMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">HashMap.fromList</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621691239518"><span class="annot"><span class="annottext">RemoteFieldCustomization
</span><a href="#local-6989586621691239518"><span class="hs-identifier hs-var">rfc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RemoteFieldCustomization -&gt; Name
</span><a href="Hasura.RemoteSchema.Metadata.Customization.html#_rfcParentType"><span class="hs-identifier hs-var">_rfcParentType</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteFieldCustomization
</span><a href="#local-6989586621691239518"><span class="hs-identifier hs-var">rfc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RemoteFieldCustomization
</span><a href="#local-6989586621691239518"><span class="hs-identifier hs-var">rfc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RemoteFieldCustomization]
</span><a href="#local-6989586621691239520"><span class="hs-identifier hs-var">fieldNameCustomizations</span></a></span><span>
</span><span id="line-471"></span><span>           </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">forall k v1 v2 v3.
(Eq k, Hashable k) =&gt;
(v1 -&gt; v2 -&gt; v3) -&gt; HashMap k v1 -&gt; HashMap k v2 -&gt; HashMap k v3
</span><span class="hs-identifier hs-var">HashMap.intersectionWith</span></span><span> </span><span class="annot"><span class="annottext">RemoteFieldCustomization -&gt; [Name] -&gt; HashMap Name Name
</span><a href="#local-6989586621691239532"><span class="hs-identifier hs-var">mkFieldRenameMap</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name RemoteFieldCustomization
</span><a href="#local-6989586621691239519"><span class="hs-identifier hs-var">customizationMap</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name [Name]
</span><a href="#local-6989586621691239550"><span class="hs-identifier hs-var">typeFieldMap</span></a></span><span>
</span><span id="line-472"></span><span>
</span><span id="line-473"></span><span>    </span><span id="local-6989586621691239590"><span class="annot"><span class="annottext">_rscNamespaceFieldName :: Maybe Name
</span><a href="#local-6989586621691239590"><span class="hs-identifier hs-var hs-var">_rscNamespaceFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621691239597"><span class="hs-identifier hs-var">_rscRootFieldsNamespace</span></a></span><span>
</span><span id="line-474"></span><span>    </span><span id="local-6989586621691239589"><span class="annot"><span class="annottext">_rscCustomizeTypeName :: HashMap Name Name
</span><a href="#local-6989586621691239589"><span class="hs-identifier hs-var hs-var">_rscCustomizeTypeName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap Name Name
</span><a href="#local-6989586621691239558"><span class="hs-identifier hs-var">typeRenameMap</span></a></span><span>
</span><span id="line-475"></span><span>    </span><span id="local-6989586621691239588"><span class="annot"><span class="annottext">_rscCustomizeFieldName :: HashMap Name (HashMap Name Name)
</span><a href="#local-6989586621691239588"><span class="hs-identifier hs-var hs-var">_rscCustomizeFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap Name (HashMap Name Name)
</span><a href="#local-6989586621691239521"><span class="hs-identifier hs-var">fieldRenameMap</span></a></span><span>
</span><span id="line-476"></span><span>
</span><span id="line-477"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-478"></span><span class="hs-comment">-- Local error handling</span><span>
</span><span id="line-479"></span><span>
</span><span id="line-480"></span><span id="local-6989586621691240920"><span id="local-6989586621691240921"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-type">pErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">MonadFail</span></a></span><span> </span><span class="annot"><a href="#local-6989586621691240921"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621691240921"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621691240920"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-481"></span><span id="pErr"><span class="annot"><span class="annottext">pErr :: forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var hs-var">pErr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><span class="hs-identifier hs-var">T.unpack</span></span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span id="local-6989586621691241121"><span id="local-6989586621691241123"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-type">throwRemoteSchema</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">QErrM</span></span><span> </span><span class="annot"><a href="#local-6989586621691241123"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621691241123"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621691241121"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-484"></span><span id="throwRemoteSchema"><span class="annot"><span class="annottext">throwRemoteSchema :: forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var hs-var">throwRemoteSchema</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><span class="hs-identifier hs-var">throw400</span></span><span> </span><span class="annot"><span class="annottext">Code
</span><span class="hs-identifier hs-var">RemoteSchemaError</span></span><span>
</span><span id="line-485"></span><span>
</span><span id="line-486"></span><span id="local-6989586621691241044"><span id="local-6989586621691241045"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchemaHttp"><span class="hs-identifier hs-type">throwRemoteSchemaHttp</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-487"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">QErrM</span></span><span> </span><span class="annot"><a href="#local-6989586621691241045"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-488"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#EnvRecord"><span class="hs-identifier hs-type">EnvRecord</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">URI</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-489"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">HTTP.HttpException</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-490"></span><span>  </span><span class="annot"><a href="#local-6989586621691241045"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621691241044"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-491"></span><span id="throwRemoteSchemaHttp"><span class="annot"><span class="annottext">throwRemoteSchemaHttp :: forall (m :: * -&gt; *) a.
QErrM m =&gt;
EnvRecord URI -&gt; HttpException -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchemaHttp"><span class="hs-identifier hs-var hs-var">throwRemoteSchemaHttp</span></a></span></span><span> </span><span id="local-6989586621691239508"><span class="annot"><span class="annottext">EnvRecord URI
</span><a href="#local-6989586621691239508"><span class="hs-identifier hs-var">urlEnvRecord</span></a></span></span><span> </span><span id="local-6989586621691239507"><span class="annot"><span class="annottext">HttpException
</span><a href="#local-6989586621691239507"><span class="hs-identifier hs-var">exception</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-492"></span><span>  </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-var">throwError</span></a></span><span>
</span><span id="line-493"></span><span>    </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {a}. EnvRecord a -&gt; QErr
</span><a href="#local-6989586621691239505"><span class="hs-identifier hs-var">baseError</span></a></span><span> </span><span class="annot"><span class="annottext">EnvRecord URI
</span><a href="#local-6989586621691239508"><span class="hs-identifier hs-var">urlEnvRecord</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-494"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">qeInternal :: Maybe QErrExtra
</span><span class="hs-identifier hs-var">qeInternal</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; QErrExtra
</span><span class="hs-identifier hs-var">ExtraInternal</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShowErrorInfo -&gt; HttpException -&gt; Value
</span><a href="Hasura.HTTP.html#getHttpExceptionJson"><span class="hs-identifier hs-var">getHttpExceptionJson</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; ShowErrorInfo
</span><a href="Hasura.HTTP.html#ShowErrorInfo"><span class="hs-identifier hs-var">ShowErrorInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HttpException -&gt; HttpException
</span><a href="Hasura.HTTP.html#HttpException"><span class="hs-identifier hs-var">HttpException</span></a></span><span> </span><span class="annot"><span class="annottext">HttpException
</span><a href="#local-6989586621691239507"><span class="hs-identifier hs-var">exception</span></a></span><span>
</span><span id="line-495"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-496"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-497"></span><span>    </span><span id="local-6989586621691239505"><span class="annot"><span class="annottext">baseError :: EnvRecord a -&gt; QErr
</span><a href="#local-6989586621691239505"><span class="hs-identifier hs-var hs-var">baseError</span></a></span></span><span> </span><span id="local-6989586621691239499"><span class="annot"><span class="annottext">EnvRecord a
</span><a href="#local-6989586621691239499"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Code -&gt; Text -&gt; QErr
</span><span class="hs-identifier hs-var">err400</span></span><span> </span><span class="annot"><span class="annottext">Code
</span><span class="hs-identifier hs-var">RemoteSchemaError</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {a}. EnvRecord a -&gt; Text
</span><a href="#local-6989586621691239497"><span class="hs-identifier hs-var">httpExceptMsg</span></a></span><span> </span><span class="annot"><span class="annottext">EnvRecord a
</span><a href="#local-6989586621691239499"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-498"></span><span>    </span><span id="local-6989586621691239497"><span class="annot"><span class="annottext">httpExceptMsg :: EnvRecord a -&gt; Text
</span><a href="#local-6989586621691239497"><span class="hs-identifier hs-var hs-var">httpExceptMsg</span></a></span></span><span> </span><span id="local-6989586621691239492"><span class="annot"><span class="annottext">EnvRecord a
</span><a href="#local-6989586621691239492"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;HTTP exception occurred while sending the request to &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; Text
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {a}. EnvRecord a -&gt; Text
</span><a href="Hasura.RQL.Types.Common.html#_envVarName"><span class="hs-identifier hs-var">_envVarName</span></a></span><span> </span><span class="annot"><span class="annottext">EnvRecord a
</span><a href="#local-6989586621691239492"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-499"></span></pre></body></html>