<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Hasura.App.State</span><span>
</span><span id="line-2"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.App.State.html#AppEnv"><span class="hs-identifier">AppEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3"></span><span>    </span><span class="annot"><a href="Hasura.App.State.html#AppContext"><span class="hs-identifier">AppContext</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4"></span><span>    </span><span class="annot"><a href="Hasura.App.State.html#Loggers"><span class="hs-identifier">Loggers</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-5"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-6"></span><span class="hs-keyword">where</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/stm-2.5.0.2/src"><span class="hs-identifier">Control.Concurrent.STM</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">STM</span></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Environment.html"><span class="hs-identifier">Data.Environment</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Env</span></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashSet</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/pg-client-0.1.0/opt/doc/html/pg-client/src"><span class="hs-identifier">Database.PG.Query</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PG</span></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Eventing.Common.html"><span class="hs-identifier">Hasura.Eventing.Common</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Eventing.Common.html#LockedEventsCtx"><span class="hs-identifier">LockedEventsCtx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Subscription.Options.html"><span class="hs-identifier">Hasura.GraphQL.Execute.Subscription.Options</span></a></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Subscription.State.html"><span class="hs-identifier">Hasura.GraphQL.Execute.Subscription.State</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ES</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.NamingCase.html"><span class="hs-identifier">Hasura.GraphQL.Schema.NamingCase</span></a></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Options.html"><span class="hs-identifier">Hasura.GraphQL.Schema.Options</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Options</span></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Logging.html"><span class="hs-identifier">Hasura.Logging</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier">Hasura.Prelude</span></a></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html"><span class="hs-identifier">Hasura.RQL.Types.Common</span></a></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html"><span class="hs-identifier">Hasura.RQL.Types.Metadata</span></a></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html"><span class="hs-identifier">Hasura.RQL.Types.SchemaCache</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#MetadataResourceVersion"><span class="hs-identifier">MetadataResourceVersion</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Server.Auth.html"><span class="hs-identifier">Hasura.Server.Auth</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Server.Auth.html#AuthMode"><span class="hs-identifier">AuthMode</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Server.Init.html"><span class="hs-identifier">Hasura.Server.Init</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Server.Logging.html"><span class="hs-identifier">Hasura.Server.Logging</span></a></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Server.Metrics.html"><span class="hs-identifier">Hasura.Server.Metrics</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Server.Prometheus.html"><span class="hs-identifier">Hasura.Server.Prometheus</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Server.SchemaCacheRef.html"><span class="hs-identifier">Hasura.Server.SchemaCacheRef</span></a></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Server.Types.html"><span class="hs-identifier">Hasura.Server.Types</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.ShutdownLatch.html"><span class="hs-identifier">Hasura.ShutdownLatch</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Tracing.html"><span class="hs-identifier">Hasura.Tracing</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Tracing</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Network.HTTP.Client</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HTTP</span></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-comment">{- Note [Hasura Application State]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Hasura Application state represents the entire state of hasura.

Hasura Application State = AppEnv (static) + AppContext (dynamic)

Hasura Application State can be divided into two parts:

  1. Read-Only State (Static State):
  =================================
  The information required to build this state is provided only during the
  initialization of hasura. This information is immutable. If you want update any
  field in this state, you would need to shutdown the current instance and
  re-launch hausura with new information.

  Eg: If you want to run hasura in read-only mode, you would have to mention
      this information when hasura starts up. There is no way to make hasura
      run in read-only mode once it has booted up.

  2. Runtime Configurable State (Dynamic State):
  ==============================================
  The information present in this state can be updated during the runtime. This state
  is mutable and does not require a restart of hasura instance to take effect.

  The fields in the state are usually updated via Metadata API's or Hasura Console.

  Eg: You can change the entries in Allowlist via console and hasura need not restart
      for the changes to take effect.

-}</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-comment">-- | Represents the Read-Only Hasura State, these fields are immutable and the state</span><span>
</span><span id="line-65"></span><span class="hs-comment">-- cannot be changed during runtime.</span><span>
</span><span id="line-66"></span><span class="hs-keyword">data</span><span> </span><span id="AppEnv"><span class="annot"><a href="Hasura.App.State.html#AppEnv"><span class="hs-identifier hs-var">AppEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="AppEnv"><span class="annot"><a href="Hasura.App.State.html#AppEnv"><span class="hs-identifier hs-var">AppEnv</span></a></span></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="appEnvMetadataDbPool"><span class="annot"><span class="annottext">AppEnv -&gt; PGPool
</span><a href="Hasura.App.State.html#appEnvMetadataDbPool"><span class="hs-identifier hs-var hs-var">appEnvMetadataDbPool</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/pg-client-0.1.0/opt/doc/html/pg-client/src"><span class="hs-identifier hs-type">PG.PGPool</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>    </span><span id="appEnvManager"><span class="annot"><span class="annottext">AppEnv -&gt; Manager
</span><a href="Hasura.App.State.html#appEnvManager"><span class="hs-identifier hs-var hs-var">appEnvManager</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HTTP.Manager</span></span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>    </span><span id="appEnvLoggers"><span class="annot"><span class="annottext">AppEnv -&gt; Loggers
</span><a href="Hasura.App.State.html#appEnvLoggers"><span class="hs-identifier hs-var hs-var">appEnvLoggers</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.App.State.html#Loggers"><span class="hs-identifier hs-type">Loggers</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>    </span><span id="appEnvMetadataVersionRef"><span class="annot"><span class="annottext">AppEnv -&gt; TMVar MetadataResourceVersion
</span><a href="Hasura.App.State.html#appEnvMetadataVersionRef"><span class="hs-identifier hs-var hs-var">appEnvMetadataVersionRef</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/stm-2.5.0.2/src"><span class="hs-identifier hs-type">STM.TMVar</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#MetadataResourceVersion"><span class="hs-identifier hs-type">MetadataResourceVersion</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>    </span><span id="appEnvInstanceId"><span class="annot"><span class="annottext">AppEnv -&gt; InstanceId
</span><a href="Hasura.App.State.html#appEnvInstanceId"><span class="hs-identifier hs-var hs-var">appEnvInstanceId</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Server.Types.html#InstanceId"><span class="hs-identifier hs-type">InstanceId</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-72"></span><span>    </span><span id="appEnvEnableMaintenanceMode"><span class="annot"><span class="annottext">AppEnv -&gt; MaintenanceMode ()
</span><a href="Hasura.App.State.html#appEnvEnableMaintenanceMode"><span class="hs-identifier hs-var hs-var">appEnvEnableMaintenanceMode</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Server.Types.html#MaintenanceMode"><span class="hs-identifier hs-type">MaintenanceMode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-73"></span><span>    </span><span id="appEnvLoggingSettings"><span class="annot"><span class="annottext">AppEnv -&gt; LoggingSettings
</span><a href="Hasura.App.State.html#appEnvLoggingSettings"><span class="hs-identifier hs-var hs-var">appEnvLoggingSettings</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Server.Logging.html#LoggingSettings"><span class="hs-identifier hs-type">LoggingSettings</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>    </span><span id="appEnvEventingMode"><span class="annot"><span class="annottext">AppEnv -&gt; EventingMode
</span><a href="Hasura.App.State.html#appEnvEventingMode"><span class="hs-identifier hs-var hs-var">appEnvEventingMode</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Server.Types.html#EventingMode"><span class="hs-identifier hs-type">EventingMode</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-75"></span><span>    </span><span id="appEnvEnableReadOnlyMode"><span class="annot"><span class="annottext">AppEnv -&gt; ReadOnlyMode
</span><a href="Hasura.App.State.html#appEnvEnableReadOnlyMode"><span class="hs-identifier hs-var hs-var">appEnvEnableReadOnlyMode</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Server.Types.html#ReadOnlyMode"><span class="hs-identifier hs-type">ReadOnlyMode</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-76"></span><span>    </span><span id="appEnvServerMetrics"><span class="annot"><span class="annottext">AppEnv -&gt; ServerMetrics
</span><a href="Hasura.App.State.html#appEnvServerMetrics"><span class="hs-identifier hs-var hs-var">appEnvServerMetrics</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Server.Metrics.html#ServerMetrics"><span class="hs-identifier hs-type">ServerMetrics</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>    </span><span id="appEnvShutdownLatch"><span class="annot"><span class="annottext">AppEnv -&gt; ShutdownLatch
</span><a href="Hasura.App.State.html#appEnvShutdownLatch"><span class="hs-identifier hs-var hs-var">appEnvShutdownLatch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.ShutdownLatch.html#ShutdownLatch"><span class="hs-identifier hs-type">ShutdownLatch</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span>    </span><span id="appEnvMetaVersionRef"><span class="annot"><span class="annottext">AppEnv -&gt; TMVar MetadataResourceVersion
</span><a href="Hasura.App.State.html#appEnvMetaVersionRef"><span class="hs-identifier hs-var hs-var">appEnvMetaVersionRef</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/stm-2.5.0.2/src"><span class="hs-identifier hs-type">STM.TMVar</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#MetadataResourceVersion"><span class="hs-identifier hs-type">MetadataResourceVersion</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-79"></span><span>    </span><span id="appEnvPrometheusMetrics"><span class="annot"><span class="annottext">AppEnv -&gt; PrometheusMetrics
</span><a href="Hasura.App.State.html#appEnvPrometheusMetrics"><span class="hs-identifier hs-var hs-var">appEnvPrometheusMetrics</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Server.Prometheus.html#PrometheusMetrics"><span class="hs-identifier hs-type">PrometheusMetrics</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-80"></span><span>    </span><span id="appEnvTraceSamplingPolicy"><span class="annot"><span class="annottext">AppEnv -&gt; SamplingPolicy
</span><a href="Hasura.App.State.html#appEnvTraceSamplingPolicy"><span class="hs-identifier hs-var hs-var">appEnvTraceSamplingPolicy</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Tracing.html#SamplingPolicy"><span class="hs-identifier hs-type">Tracing.SamplingPolicy</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-81"></span><span>    </span><span id="appEnvSubscriptionState"><span class="annot"><span class="annottext">AppEnv -&gt; SubscriptionsState
</span><a href="Hasura.App.State.html#appEnvSubscriptionState"><span class="hs-identifier hs-var hs-var">appEnvSubscriptionState</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Subscription.State.html#SubscriptionsState"><span class="hs-identifier hs-type">ES.SubscriptionsState</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-82"></span><span>    </span><span id="appEnvLockedEventsCtx"><span class="annot"><span class="annottext">AppEnv -&gt; LockedEventsCtx
</span><a href="Hasura.App.State.html#appEnvLockedEventsCtx"><span class="hs-identifier hs-var hs-var">appEnvLockedEventsCtx</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Eventing.Common.html#LockedEventsCtx"><span class="hs-identifier hs-type">LockedEventsCtx</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-83"></span><span>    </span><span id="appEnvCheckFeatureFlag"><span class="annot"><span class="annottext">AppEnv -&gt; FeatureFlag -&gt; IO Bool
</span><a href="Hasura.App.State.html#appEnvCheckFeatureFlag"><span class="hs-identifier hs-var hs-var">appEnvCheckFeatureFlag</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Server.Init.FeatureFlag.html#FeatureFlag"><span class="hs-identifier hs-type">FeatureFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Bool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="hs-comment">-- | Represents the Dynamic Hasura State, these field are mutable and can be changed</span><span>
</span><span id="line-87"></span><span class="hs-comment">-- during runtime.</span><span>
</span><span id="line-88"></span><span class="hs-keyword">data</span><span> </span><span id="AppContext"><span class="annot"><a href="Hasura.App.State.html#AppContext"><span class="hs-identifier hs-var">AppContext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="AppContext"><span class="annot"><a href="Hasura.App.State.html#AppContext"><span class="hs-identifier hs-var">AppContext</span></a></span></span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="acCacheRef"><span class="annot"><span class="annottext">AppContext -&gt; SchemaCacheRef
</span><a href="Hasura.App.State.html#acCacheRef"><span class="hs-identifier hs-var hs-var">acCacheRef</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Server.SchemaCacheRef.html#SchemaCacheRef"><span class="hs-identifier hs-type">SchemaCacheRef</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-90"></span><span>    </span><span id="acAuthMode"><span class="annot"><span class="annottext">AppContext -&gt; AuthMode
</span><a href="Hasura.App.State.html#acAuthMode"><span class="hs-identifier hs-var hs-var">acAuthMode</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Server.Auth.html#AuthMode"><span class="hs-identifier hs-type">AuthMode</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-91"></span><span>    </span><span id="acSQLGenCtx"><span class="annot"><span class="annottext">AppContext -&gt; SQLGenCtx
</span><a href="Hasura.App.State.html#acSQLGenCtx"><span class="hs-identifier hs-var hs-var">acSQLGenCtx</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#SQLGenCtx"><span class="hs-identifier hs-type">SQLGenCtx</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-92"></span><span>    </span><span id="acEnabledAPIs"><span class="annot"><span class="annottext">AppContext -&gt; HashSet API
</span><a href="Hasura.App.State.html#acEnabledAPIs"><span class="hs-identifier hs-var hs-var">acEnabledAPIs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S.HashSet</span></span><span> </span><span class="annot"><a href="Hasura.Server.Init.Config.html#API"><span class="hs-identifier hs-type">API</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-93"></span><span>    </span><span id="acEnableAllowlist"><span class="annot"><span class="annottext">AppContext -&gt; AllowListStatus
</span><a href="Hasura.App.State.html#acEnableAllowlist"><span class="hs-identifier hs-var hs-var">acEnableAllowlist</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Server.Init.Config.html#AllowListStatus"><span class="hs-identifier hs-type">AllowListStatus</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-94"></span><span>    </span><span id="acResponseInternalErrorsConfig"><span class="annot"><span class="annottext">AppContext -&gt; ResponseInternalErrorsConfig
</span><a href="Hasura.App.State.html#acResponseInternalErrorsConfig"><span class="hs-identifier hs-var hs-var">acResponseInternalErrorsConfig</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Server.Init.Config.html#ResponseInternalErrorsConfig"><span class="hs-identifier hs-type">ResponseInternalErrorsConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-95"></span><span>    </span><span id="acEnvironment"><span class="annot"><span class="annottext">AppContext -&gt; Environment
</span><a href="Hasura.App.State.html#acEnvironment"><span class="hs-identifier hs-var hs-var">acEnvironment</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Environment.html#Environment"><span class="hs-identifier hs-type">Env.Environment</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-96"></span><span>    </span><span id="acRemoteSchemaPermsCtx"><span class="annot"><span class="annottext">AppContext -&gt; RemoteSchemaPermissions
</span><a href="Hasura.App.State.html#acRemoteSchemaPermsCtx"><span class="hs-identifier hs-var hs-var">acRemoteSchemaPermsCtx</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Options.html#RemoteSchemaPermissions"><span class="hs-identifier hs-type">Options.RemoteSchemaPermissions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-97"></span><span>    </span><span id="acFunctionPermsCtx"><span class="annot"><span class="annottext">AppContext -&gt; InferFunctionPermissions
</span><a href="Hasura.App.State.html#acFunctionPermsCtx"><span class="hs-identifier hs-var hs-var">acFunctionPermsCtx</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Options.html#InferFunctionPermissions"><span class="hs-identifier hs-type">Options.InferFunctionPermissions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-98"></span><span>    </span><span id="acExperimentalFeatures"><span class="annot"><span class="annottext">AppContext -&gt; HashSet ExperimentalFeature
</span><a href="Hasura.App.State.html#acExperimentalFeatures"><span class="hs-identifier hs-var hs-var">acExperimentalFeatures</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S.HashSet</span></span><span> </span><span class="annot"><a href="Hasura.Server.Types.html#ExperimentalFeature"><span class="hs-identifier hs-type">ExperimentalFeature</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-99"></span><span>    </span><span id="acDefaultNamingConvention"><span class="annot"><span class="annottext">AppContext -&gt; NamingCase
</span><a href="Hasura.App.State.html#acDefaultNamingConvention"><span class="hs-identifier hs-var hs-var">acDefaultNamingConvention</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.NamingCase.html#NamingCase"><span class="hs-identifier hs-type">NamingCase</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-100"></span><span>    </span><span id="acMetadataDefaults"><span class="annot"><span class="annottext">AppContext -&gt; MetadataDefaults
</span><a href="Hasura.App.State.html#acMetadataDefaults"><span class="hs-identifier hs-var hs-var">acMetadataDefaults</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataDefaults"><span class="hs-identifier hs-type">MetadataDefaults</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-101"></span><span>    </span><span id="acLiveQueryOptions"><span class="annot"><span class="annottext">AppContext -&gt; LiveQueriesOptions
</span><a href="Hasura.App.State.html#acLiveQueryOptions"><span class="hs-identifier hs-var hs-var">acLiveQueryOptions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Subscription.Options.html#LiveQueriesOptions"><span class="hs-identifier hs-type">LiveQueriesOptions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-102"></span><span>    </span><span id="acStreamQueryOptions"><span class="annot"><span class="annottext">AppContext -&gt; LiveQueriesOptions
</span><a href="Hasura.App.State.html#acStreamQueryOptions"><span class="hs-identifier hs-var hs-var">acStreamQueryOptions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Subscription.Options.html#StreamQueriesOptions"><span class="hs-identifier hs-type">StreamQueriesOptions</span></a></span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-comment">-- | Collection of the LoggerCtx, the regular Logger and the PGLogger</span><span>
</span><span id="line-106"></span><span class="hs-keyword">data</span><span> </span><span id="Loggers"><span class="annot"><a href="Hasura.App.State.html#Loggers"><span class="hs-identifier hs-var">Loggers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Loggers"><span class="annot"><a href="Hasura.App.State.html#Loggers"><span class="hs-identifier hs-var">Loggers</span></a></span></span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="_lsLoggerCtx"><span class="annot"><span class="annottext">Loggers -&gt; LoggerCtx Hasura
</span><a href="Hasura.App.State.html#_lsLoggerCtx"><span class="hs-identifier hs-var hs-var">_lsLoggerCtx</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Logging.html#LoggerCtx"><span class="hs-identifier hs-type">L.LoggerCtx</span></a></span><span> </span><span class="annot"><a href="Hasura.Logging.html#Hasura"><span class="hs-identifier hs-type">L.Hasura</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-108"></span><span>    </span><span id="_lsLogger"><span class="annot"><span class="annottext">Loggers -&gt; Logger Hasura
</span><a href="Hasura.App.State.html#_lsLogger"><span class="hs-identifier hs-var hs-var">_lsLogger</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Logging.html#Logger"><span class="hs-identifier hs-type">L.Logger</span></a></span><span> </span><span class="annot"><a href="Hasura.Logging.html#Hasura"><span class="hs-identifier hs-type">L.Hasura</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-109"></span><span>    </span><span id="_lsPgLogger"><span class="annot"><span class="annottext">Loggers -&gt; PGLogger
</span><a href="Hasura.App.State.html#_lsPgLogger"><span class="hs-identifier hs-var hs-var">_lsPgLogger</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/pg-client-0.1.0/opt/doc/html/pg-client/src"><span class="hs-identifier hs-type">PG.PGLogger</span></a></span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-111"></span></pre></body></html>