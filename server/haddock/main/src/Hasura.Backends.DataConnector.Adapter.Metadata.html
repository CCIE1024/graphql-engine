<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE Arrows #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-orphans #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Hasura.Backends.DataConnector.Adapter.Metadata</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Arrow.Extended.html"><span class="hs-identifier">Control.Arrow.Extended</span></a></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">J</span></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.Key</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">K</span></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.KeyMap</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">KM</span></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Environment.html"><span class="hs-identifier">Data.Environment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Environment.html#Environment"><span class="hs-identifier">Environment</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashMap.Strict</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.HashMap.Strict.Extended.html"><span class="hs-identifier">Data.HashMap.Strict.Extended</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HashMap</span></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashMap.Strict.InsOrd</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">OMap</span></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.HashMap.Strict.NonEmpty.html"><span class="hs-identifier">Data.HashMap.Strict.NonEmpty</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NEHashMap</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashSet</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HashSet</span></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier">Data.Sequence</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Seq</span></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Sequence.NonEmpty</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NESeq</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Text.Extended.html"><span class="hs-identifier">Data.Text.Extended</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Text.Extended.html#toTxt"><span class="hs-identifier">toTxt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator">(&lt;&lt;&gt;)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Extended.html#%3C%3E%3E"><span class="hs-operator">(&lt;&gt;&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier">Hasura.Backends.DataConnector.API</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier">capabilitiesCase</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier">errorResponseSummary</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier">schemaCase</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier">Hasura.Backends.DataConnector.API</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">API</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier">Hasura.Backends.DataConnector.API.V0.ErrorResponse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier">_crDetails</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.ConfigTransform.html"><span class="hs-identifier">Hasura.Backends.DataConnector.Adapter.ConfigTransform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.ConfigTransform.html#transformConnSourceConfig"><span class="hs-identifier">transformConnSourceConfig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html"><span class="hs-identifier">Hasura.Backends.DataConnector.Adapter.Types</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">DC</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Agent.Client.html"><span class="hs-identifier">Hasura.Backends.DataConnector.Agent.Client</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Backends.DataConnector.Agent.Client.html#AgentClientContext"><span class="hs-identifier">AgentClientContext</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Agent.Client.html#runAgentClientT"><span class="hs-identifier">runAgentClientT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html"><span class="hs-identifier">Hasura.Backends.Postgres.SQL.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html#PGDescription"><span class="hs-identifier">PGDescription</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Base.Error.html"><span class="hs-identifier">Hasura.Base.Error</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Base.Error.html#Code"><span class="hs-identifier">Code</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier">QErr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#decodeValue"><span class="hs-identifier">decodeValue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#throw400"><span class="hs-identifier">throw400</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#throw400WithDetail"><span class="hs-identifier">throw400WithDetail</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#throw500"><span class="hs-identifier">throw500</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#withPathK"><span class="hs-identifier">withPathK</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Incremental.html"><span class="hs-identifier">Hasura.Incremental</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Inc</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Logging.html"><span class="hs-identifier">Hasura.Logging</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Logging.html#Hasura"><span class="hs-identifier">Hasura</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Logging.html#Logger"><span class="hs-identifier">Logger</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier">Hasura.Prelude</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html"><span class="hs-identifier">Hasura.RQL.IR.BoolExp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#OpExpG"><span class="hs-identifier">OpExpG</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#PartialSQLExp"><span class="hs-identifier">PartialSQLExp</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#RootOrCurrent"><span class="hs-identifier">RootOrCurrent</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#RootOrCurrentColumn"><span class="hs-identifier">RootOrCurrentColumn</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Column.html"><span class="hs-identifier">Hasura.RQL.Types.Column</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">RQL.T.C</span></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html"><span class="hs-identifier">Hasura.RQL.Types.Common</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Common.html#OID"><span class="hs-identifier">OID</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#SourceName"><span class="hs-identifier">SourceName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.EventTrigger.html"><span class="hs-identifier">Hasura.RQL.Types.EventTrigger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.EventTrigger.html#RecreateEventTriggers"><span class="hs-identifier">RecreateEventTriggers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.EventTrigger.html#RETDoNothing"><span class="hs-identifier">RETDoNothing</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html"><span class="hs-identifier">Hasura.RQL.Types.Metadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#SourceMetadata"><span class="hs-identifier">SourceMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Backend.html"><span class="hs-identifier">Hasura.RQL.Types.Metadata.Backend</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Backend.html#BackendMetadata"><span class="hs-identifier">BackendMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Object.html"><span class="hs-identifier">Hasura.RQL.Types.Metadata.Object</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html"><span class="hs-identifier">Hasura.RQL.Types.SchemaCache</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SchemaCache</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html"><span class="hs-identifier">Hasura.RQL.Types.SchemaCache.Build</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Source.html"><span class="hs-identifier">Hasura.RQL.Types.Source</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Source.html#ResolvedSource"><span class="hs-identifier">ResolvedSource</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SourceCustomization.html"><span class="hs-identifier">Hasura.RQL.Types.SourceCustomization</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.SourceCustomization.html#SourceTypeCustomization"><span class="hs-identifier">SourceTypeCustomization</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Table.html"><span class="hs-identifier">Hasura.RQL.Types.Table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Table.html#ForeignKey"><span class="hs-identifier">ForeignKey</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Table.html#_fkConstraint"><span class="hs-identifier">_fkConstraint</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Table.html"><span class="hs-identifier">Hasura.RQL.Types.Table</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">RQL.T.T</span></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.SQL.Backend.html"><span class="hs-identifier">Hasura.SQL.Backend</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.SQL.Backend.html#BackendSourceKind"><span class="hs-identifier">BackendSourceKind</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.SQL.Backend.html#BackendType"><span class="hs-identifier">BackendType</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.SQL.Types.html"><span class="hs-identifier">Hasura.SQL.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.SQL.Types.html#CollectableType"><span class="hs-identifier">CollectableType</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Server.Utils.html"><span class="hs-identifier">Hasura.Server.Utils</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HSU</span></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Session.html"><span class="hs-identifier">Hasura.Session</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Session.html#SessionVariable"><span class="hs-identifier">SessionVariable</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Session.html#mkSessionVariable"><span class="hs-identifier">mkSessionVariable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Tracing.html"><span class="hs-identifier">Hasura.Tracing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Tracing.html#noReporter"><span class="hs-identifier">noReporter</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Tracing.html#runTraceTWithReporter"><span class="hs-identifier">runTraceTWithReporter</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier">Language.GraphQL.Draft.Syntax</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GQL</span></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Network.HTTP.Client</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HTTP</span></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Network.HTTP.Client.Manager.html"><span class="hs-identifier">Network.HTTP.Client.Manager</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Servant.Client.Core.HasClient</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(//)</span></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Servant.Client.Generic</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">genericClient</span></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Witch</span></span><span> </span><span class="hs-keyword">qualified</span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690503603"><span class="annot"><a href="Hasura.RQL.Types.Metadata.Backend.html#BackendMetadata"><span class="hs-identifier hs-type">BackendMetadata</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-57"></span><span>  </span><span id="local-6989586621690503558"><span class="annot"><span class="annottext">prepareCatalog :: forall (m :: * -&gt; *).
(MonadIO m, MonadBaseControl IO m) =&gt;
SourceConfig 'DataConnector -&gt; ExceptT QErr m RecreateEventTriggers
</span><a href="Hasura.RQL.Types.Metadata.Backend.html#prepareCatalog"><span class="hs-identifier hs-var hs-var hs-var hs-var">prepareCatalog</span></a></span></span><span> </span><span class="annot"><span class="annottext">SourceConfig 'DataConnector
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">RecreateEventTriggers
</span><a href="Hasura.RQL.Types.EventTrigger.html#RETDoNothing"><span class="hs-identifier hs-var">RETDoNothing</span></a></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="BackendInvalidationKeys"><span class="annot"><a href="Hasura.RQL.Types.Metadata.Backend.html#BackendInvalidationKeys"><span class="hs-identifier hs-var">BackendInvalidationKeys</span></a></span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorName"><span class="hs-identifier hs-type">DC.DataConnectorName</span></a></span><span> </span><span class="annot"><a href="Hasura.Incremental.html#InvalidationKey"><span class="hs-identifier hs-type">Inc.InvalidationKey</span></a></span><span>
</span><span id="line-59"></span><span>  </span><span id="local-6989586621690503544"><span class="annot"><span class="annottext">resolveBackendInfo :: forall (arr :: * -&gt; * -&gt; *) (m :: * -&gt; *).
(ArrowChoice arr, ArrowCache m arr, ArrowDistribute arr,
 ArrowWriter (Seq CollectedInfo) arr, MonadIO m,
 HasHttpManagerM m) =&gt;
Logger Hasura
-&gt; arr
     (Dependency (BackendInvalidationKeys 'DataConnector),
      BackendConfig 'DataConnector)
     (BackendInfo 'DataConnector)
</span><a href="Hasura.RQL.Types.Metadata.Backend.html#resolveBackendInfo"><span class="hs-identifier hs-var hs-var hs-var hs-var">resolveBackendInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (arr :: * -&gt; * -&gt; *) (m :: * -&gt; *).
(ArrowChoice arr, ArrowCache m arr, ArrowDistribute arr,
 ArrowWriter (Seq CollectedInfo) arr, MonadIO m,
 HasHttpManagerM m) =&gt;
Logger Hasura
-&gt; arr
     (Dependency (HashMap DataConnectorName InvalidationKey),
      InsOrdHashMap DataConnectorName DataConnectorOptions)
     (HashMap DataConnectorName DataConnectorInfo)
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#resolveBackendInfo%27"><span class="hs-identifier hs-var">resolveBackendInfo'</span></a></span><span>
</span><span id="line-60"></span><span>  </span><span id="local-6989586621690503538"><span class="annot"><span class="annottext">resolveSourceConfig :: forall (m :: * -&gt; *).
(MonadIO m, MonadResolveSource m) =&gt;
Logger Hasura
-&gt; SourceName
-&gt; SourceConnConfiguration 'DataConnector
-&gt; BackendSourceKind 'DataConnector
-&gt; BackendInfo 'DataConnector
-&gt; Environment
-&gt; Manager
-&gt; m (Either QErr (SourceConfig 'DataConnector))
</span><a href="Hasura.RQL.Types.Metadata.Backend.html#resolveSourceConfig"><span class="hs-identifier hs-var hs-var hs-var hs-var">resolveSourceConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadIO m =&gt;
Logger Hasura
-&gt; SourceName
-&gt; ConnSourceConfig
-&gt; BackendSourceKind 'DataConnector
-&gt; HashMap DataConnectorName DataConnectorInfo
-&gt; Environment
-&gt; Manager
-&gt; m (Either QErr SourceConfig)
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#resolveSourceConfig%27"><span class="hs-identifier hs-var">resolveSourceConfig'</span></a></span><span>
</span><span id="line-61"></span><span>  </span><span id="local-6989586621690503529"><span class="annot"><span class="annottext">resolveDatabaseMetadata :: forall (m :: * -&gt; *).
(MonadIO m, MonadBaseControl IO m, MonadResolveSource m) =&gt;
SourceMetadata 'DataConnector
-&gt; SourceConfig 'DataConnector
-&gt; SourceTypeCustomization
-&gt; m (Either QErr (ResolvedSource 'DataConnector))
</span><a href="Hasura.RQL.Types.Metadata.Backend.html#resolveDatabaseMetadata"><span class="hs-identifier hs-var hs-var hs-var hs-var">resolveDatabaseMetadata</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
Applicative m =&gt;
SourceMetadata 'DataConnector
-&gt; SourceConfig
-&gt; SourceTypeCustomization
-&gt; m (Either QErr (ResolvedSource 'DataConnector))
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#resolveDatabaseMetadata%27"><span class="hs-identifier hs-var">resolveDatabaseMetadata'</span></a></span><span>
</span><span id="line-62"></span><span>  </span><span id="local-6989586621690503522"><span class="annot"><span class="annottext">parseBoolExpOperations :: forall (m :: * -&gt; *) v.
(MonadError QErr m, TableCoreInfoRM 'DataConnector m) =&gt;
ValueParser 'DataConnector m v
-&gt; TableName 'DataConnector
-&gt; FieldInfoMap (FieldInfo 'DataConnector)
-&gt; ColumnReference 'DataConnector
-&gt; Value
-&gt; m [OpExpG 'DataConnector v]
</span><a href="Hasura.RQL.Types.Metadata.Backend.html#parseBoolExpOperations"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseBoolExpOperations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) v.
(MonadError QErr m, TableCoreInfoRM 'DataConnector m) =&gt;
ValueParser 'DataConnector m v
-&gt; TableName
-&gt; FieldInfoMap (FieldInfo 'DataConnector)
-&gt; ColumnReference 'DataConnector
-&gt; Value
-&gt; m [OpExpG 'DataConnector v]
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#parseBoolExpOperations%27"><span class="hs-identifier hs-var">parseBoolExpOperations'</span></a></span><span>
</span><span id="line-63"></span><span>  </span><span id="local-6989586621690503517"><span class="annot"><span class="annottext">parseCollectableType :: forall (m :: * -&gt; *).
MonadError QErr m =&gt;
CollectableType (ColumnType 'DataConnector)
-&gt; Value -&gt; m (PartialSQLExp 'DataConnector)
</span><a href="Hasura.RQL.Types.Metadata.Backend.html#parseCollectableType"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseCollectableType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadError QErr m =&gt;
CollectableType (ColumnType 'DataConnector)
-&gt; Value -&gt; m (PartialSQLExp 'DataConnector)
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#parseCollectableType%27"><span class="hs-identifier hs-var">parseCollectableType'</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span id="local-6989586621690503511"><span class="annot"><span class="annottext">buildComputedFieldInfo :: forall (m :: * -&gt; *).
MonadError QErr m =&gt;
HashSet (TableName 'DataConnector)
-&gt; TableName 'DataConnector
-&gt; HashSet (Column 'DataConnector)
-&gt; ComputedFieldName
-&gt; ComputedFieldDefinition 'DataConnector
-&gt; RawFunctionInfo 'DataConnector
-&gt; Comment
-&gt; m (ComputedFieldInfo 'DataConnector)
</span><a href="Hasura.RQL.Types.Metadata.Backend.html#buildComputedFieldInfo"><span class="hs-identifier hs-var hs-var hs-var hs-var">buildComputedFieldInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;buildComputedFieldInfo: not implemented for the Data Connector backend.&quot;</span></span><span>
</span><span id="line-65"></span><span>  </span><span id="local-6989586621690503504"><span class="annot"><span class="annottext">fetchAndValidateEnumValues :: forall (m :: * -&gt; *).
(MonadIO m, MonadBaseControl IO m) =&gt;
SourceConfig 'DataConnector
-&gt; TableName 'DataConnector
-&gt; Maybe (PrimaryKey 'DataConnector (RawColumnInfo 'DataConnector))
-&gt; [RawColumnInfo 'DataConnector]
-&gt; m (Either QErr EnumValues)
</span><a href="Hasura.RQL.Types.Metadata.Backend.html#fetchAndValidateEnumValues"><span class="hs-identifier hs-var hs-var hs-var hs-var">fetchAndValidateEnumValues</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;fetchAndValidateEnumValues: not implemented for the Data Connector backend.&quot;</span></span><span>
</span><span id="line-66"></span><span>  </span><span id="local-6989586621690503499"><span class="annot"><span class="annottext">buildFunctionInfo :: forall (m :: * -&gt; *).
MonadError QErr m =&gt;
SourceName
-&gt; FunctionName 'DataConnector
-&gt; SystemDefined
-&gt; FunctionConfig
-&gt; FunctionPermissionsMap
-&gt; RawFunctionInfo 'DataConnector
-&gt; Maybe Text
-&gt; NamingCase
-&gt; m (FunctionInfo 'DataConnector, SchemaDependency)
</span><a href="Hasura.RQL.Types.Metadata.Backend.html#buildFunctionInfo"><span class="hs-identifier hs-var hs-var hs-var hs-var">buildFunctionInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;buildFunctionInfo: not implemented for the Data Connector backend.&quot;</span></span><span>
</span><span id="line-67"></span><span>  </span><span id="local-6989586621690503495"><span class="annot"><span class="annottext">updateColumnInEventTrigger :: TableName 'DataConnector
-&gt; Column 'DataConnector
-&gt; Column 'DataConnector
-&gt; TableName 'DataConnector
-&gt; EventTriggerConf 'DataConnector
-&gt; EventTriggerConf 'DataConnector
</span><a href="Hasura.RQL.Types.Metadata.Backend.html#updateColumnInEventTrigger"><span class="hs-identifier hs-var hs-var hs-var hs-var">updateColumnInEventTrigger</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;updateColumnInEventTrigger: not implemented for the Data Connector backend.&quot;</span></span><span>
</span><span id="line-68"></span><span>  </span><span id="local-6989586621690503486"><span class="annot"><span class="annottext">postDropSourceHook :: forall (m :: * -&gt; *).
(MonadError QErr m, MonadIO m, MonadBaseControl IO m) =&gt;
SourceConfig 'DataConnector
-&gt; TableEventTriggers 'DataConnector -&gt; m ()
</span><a href="Hasura.RQL.Types.Metadata.Backend.html#postDropSourceHook"><span class="hs-identifier hs-var hs-var hs-var hs-var">postDropSourceHook</span></a></span></span><span> </span><span id="local-6989586621690503484"><span class="annot"><span class="annottext">SourceConfig 'DataConnector
</span><a href="#local-6989586621690503484"><span class="hs-identifier hs-var">_sourceConfig</span></a></span></span><span> </span><span id="local-6989586621690503483"><span class="annot"><span class="annottext">TableEventTriggers 'DataConnector
</span><a href="#local-6989586621690503483"><span class="hs-identifier hs-var">_tableTriggerMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>  </span><span id="local-6989586621690503478"><span class="annot"><span class="annottext">buildComputedFieldBooleanExp :: forall (m :: * -&gt; *) v.
(MonadError QErr m, TableCoreInfoRM 'DataConnector m) =&gt;
BoolExpResolver 'DataConnector m v
-&gt; BoolExpRHSParser 'DataConnector m v
-&gt; TableName 'DataConnector
-&gt; FieldInfoMap (FieldInfo 'DataConnector)
-&gt; ComputedFieldInfo 'DataConnector
-&gt; Value
-&gt; m (AnnComputedFieldBoolExp 'DataConnector v)
</span><a href="Hasura.RQL.Types.Metadata.Backend.html#buildComputedFieldBooleanExp"><span class="hs-identifier hs-var hs-var hs-var hs-var">buildComputedFieldBooleanExp</span></a></span></span><span> </span><span class="annot"><span class="annottext">BoolExpResolver 'DataConnector m v
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">BoolExpRHSParser 'DataConnector m v
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TableName 'DataConnector
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">FieldInfoMap (FieldInfo 'DataConnector)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ComputedFieldInfo 'DataConnector
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-70"></span><span>    </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;buildComputedFieldBooleanExp: not implemented for the Data Connector backend.&quot;</span></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span id="local-6989586621690504116"><span id="local-6989586621690504117"><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#resolveBackendInfo%27"><span class="hs-identifier hs-type">resolveBackendInfo'</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">ArrowChoice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504117"><span class="hs-identifier hs-type">arr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>    </span><span class="annot"><a href="Hasura.Incremental.Internal.Cache.html#ArrowCache"><span class="hs-identifier hs-type">Inc.ArrowCache</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504116"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504117"><span class="hs-identifier hs-type">arr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-75"></span><span>    </span><span class="annot"><a href="Hasura.Incremental.Internal.Rule.html#ArrowDistribute"><span class="hs-identifier hs-type">Inc.ArrowDistribute</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504117"><span class="hs-identifier hs-type">arr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-76"></span><span>    </span><span class="annot"><a href="Control.Arrow.Trans.html#ArrowWriter"><span class="hs-identifier hs-type">ArrowWriter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Seq</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#CollectedInfo"><span class="hs-identifier hs-type">CollectedInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621690504117"><span class="hs-identifier hs-type">arr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>    </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504116"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span>    </span><span class="annot"><a href="Network.HTTP.Client.Manager.html#HasHttpManagerM"><span class="hs-identifier hs-type">HasHttpManagerM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504116"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-80"></span><span>  </span><span class="annot"><a href="Hasura.Logging.html#Logger"><span class="hs-identifier hs-type">Logger</span></a></span><span> </span><span class="annot"><a href="Hasura.Logging.html#Hasura"><span class="hs-identifier hs-type">Hasura</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Incremental.Internal.Dependency.html#Dependency"><span class="hs-identifier hs-type">Inc.Dependency</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorName"><span class="hs-identifier hs-type">DC.DataConnectorName</span></a></span><span> </span><span class="annot"><a href="Hasura.Incremental.html#InvalidationKey"><span class="hs-identifier hs-type">Inc.InvalidationKey</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">InsOrdHashMap</span></span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorName"><span class="hs-identifier hs-type">DC.DataConnectorName</span></a></span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorOptions"><span class="hs-identifier hs-type">DC.DataConnectorOptions</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621690504117"><span class="hs-operator hs-type">`arr`</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorName"><span class="hs-identifier hs-type">DC.DataConnectorName</span></a></span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorInfo"><span class="hs-identifier hs-type">DC.DataConnectorInfo</span></a></span></span></span><span>
</span><span id="line-82"></span><span id="resolveBackendInfo%27"><span class="annot"><span class="annottext">resolveBackendInfo' :: forall (arr :: * -&gt; * -&gt; *) (m :: * -&gt; *).
(ArrowChoice arr, ArrowCache m arr, ArrowDistribute arr,
 ArrowWriter (Seq CollectedInfo) arr, MonadIO m,
 HasHttpManagerM m) =&gt;
Logger Hasura
-&gt; arr
     (Dependency (HashMap DataConnectorName InvalidationKey),
      InsOrdHashMap DataConnectorName DataConnectorOptions)
     (HashMap DataConnectorName DataConnectorInfo)
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#resolveBackendInfo%27"><span class="hs-identifier hs-var hs-var">resolveBackendInfo'</span></a></span></span><span> </span><span id="local-6989586621690503456"><span class="annot"><span class="annottext">Logger Hasura
</span><a href="#local-6989586621690503456"><span class="hs-identifier hs-var">logger</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">proc</span><span> </span><span class="hs-special">(</span><span id="local-6989586621690503455"><span class="annot"><span class="annottext">Dependency (HashMap DataConnectorName InvalidationKey)
</span><a href="#local-6989586621690503455"><span class="hs-identifier hs-var">invalidationKeys</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621690503454"><span class="annot"><span class="annottext">InsOrdHashMap DataConnectorName DataConnectorOptions
</span><a href="#local-6989586621690503454"><span class="hs-identifier hs-var">optionsMap</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-83"></span><span>  </span><span id="local-6989586621690503453"><span class="annot"><span class="annottext">HashMap DataConnectorName (Maybe DataConnectorInfo)
</span><a href="#local-6989586621690503453"><span class="hs-identifier hs-var">maybeDataConnectorCapabilities</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-glyph">(|</span><span>
</span><span id="line-85"></span><span>      </span><span class="annot"><span class="annottext">forall (arr :: * -&gt; * -&gt; *) k e a s b.
(ArrowDistribute arr, Eq k, Hashable k) =&gt;
arr (e, (k, (a, s))) b -&gt; arr (e, (HashMap k a, s)) (HashMap k b)
</span><a href="Hasura.Incremental.Internal.Rule.html#keyed"><span class="hs-identifier hs-var">Inc.keyed</span></a></span><span>
</span><span id="line-86"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621690503448"><span class="annot"><span class="annottext">DataConnectorName
</span><a href="#local-6989586621690503448"><span class="hs-identifier hs-var">dataConnectorName</span></a></span></span><span> </span><span id="local-6989586621690503447"><span class="annot"><span class="annottext">DataConnectorOptions
</span><a href="#local-6989586621690503447"><span class="hs-identifier hs-var">dataConnectorOptions</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-87"></span><span>            </span><span class="annot"><span class="annottext">forall (arr :: * -&gt; * -&gt; *) (m :: * -&gt; *).
(ArrowChoice arr, ArrowCache m arr,
 ArrowWriter (Seq CollectedInfo) arr, MonadIO m,
 HasHttpManagerM m) =&gt;
arr
  (Dependency (HashMap DataConnectorName InvalidationKey),
   DataConnectorName, DataConnectorOptions)
  (Maybe DataConnectorInfo)
</span><a href="#local-6989586621690503446"><span class="hs-identifier hs-var">getDataConnectorCapabilitiesIfNeeded</span></a></span><span> </span><span class="hs-glyph">-&lt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dependency (HashMap DataConnectorName InvalidationKey)
</span><a href="#local-6989586621690503455"><span class="hs-identifier hs-var">invalidationKeys</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DataConnectorName
</span><a href="#local-6989586621690503448"><span class="hs-identifier hs-var">dataConnectorName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DataConnectorOptions
</span><a href="#local-6989586621690503447"><span class="hs-identifier hs-var">dataConnectorOptions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>      </span><span class="hs-glyph">|)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k v. InsOrdHashMap k v -&gt; HashMap k v
</span><span class="hs-identifier hs-var">OMap.toHashMap</span></span><span> </span><span class="annot"><span class="annottext">InsOrdHashMap DataConnectorName DataConnectorOptions
</span><a href="#local-6989586621690503454"><span class="hs-identifier hs-var">optionsMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>  </span><span class="annot"><span class="annottext">forall (a :: * -&gt; * -&gt; *) b. Arrow a =&gt; a b b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">returnA</span></a></span><span> </span><span class="hs-glyph">-&lt;</span><span> </span><span class="annot"><span class="annottext">forall k v. HashMap k (Maybe v) -&gt; HashMap k v
</span><a href="Data.HashMap.Strict.Extended.html#catMaybes"><span class="hs-identifier hs-var">HashMap.catMaybes</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap DataConnectorName (Maybe DataConnectorInfo)
</span><a href="#local-6989586621690503453"><span class="hs-identifier hs-var">maybeDataConnectorCapabilities</span></a></span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-92"></span><span>    </span><span class="annot"><a href="#local-6989586621690503446"><span class="hs-identifier hs-type">getDataConnectorCapabilitiesIfNeeded</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-93"></span><span>      </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621690504081"><span class="annot"><a href="#local-6989586621690504081"><span class="hs-identifier hs-type">arr</span></a></span></span><span> </span><span id="local-6989586621690504080"><span class="annot"><a href="#local-6989586621690504080"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-94"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">ArrowChoice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504081"><span class="hs-identifier hs-type">arr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-95"></span><span>        </span><span class="annot"><a href="Hasura.Incremental.Internal.Cache.html#ArrowCache"><span class="hs-identifier hs-type">Inc.ArrowCache</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504080"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504081"><span class="hs-identifier hs-type">arr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-96"></span><span>        </span><span class="annot"><a href="Control.Arrow.Trans.html#ArrowWriter"><span class="hs-identifier hs-type">ArrowWriter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Seq</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#CollectedInfo"><span class="hs-identifier hs-type">CollectedInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621690504081"><span class="hs-identifier hs-type">arr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-97"></span><span>        </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504080"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-98"></span><span>        </span><span class="annot"><a href="Network.HTTP.Client.Manager.html#HasHttpManagerM"><span class="hs-identifier hs-type">HasHttpManagerM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504080"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-99"></span><span>      </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-100"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Incremental.Internal.Dependency.html#Dependency"><span class="hs-identifier hs-type">Inc.Dependency</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorName"><span class="hs-identifier hs-type">DC.DataConnectorName</span></a></span><span> </span><span class="annot"><a href="Hasura.Incremental.html#InvalidationKey"><span class="hs-identifier hs-type">Inc.InvalidationKey</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorName"><span class="hs-identifier hs-type">DC.DataConnectorName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorOptions"><span class="hs-identifier hs-type">DC.DataConnectorOptions</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621690504081"><span class="hs-operator hs-type">`arr`</span></a></span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorInfo"><span class="hs-identifier hs-type">DC.DataConnectorInfo</span></a></span><span>
</span><span id="line-101"></span><span>    </span><span id="local-6989586621690503446"><span class="annot"><span class="annottext">getDataConnectorCapabilitiesIfNeeded :: forall (arr :: * -&gt; * -&gt; *) (m :: * -&gt; *).
(ArrowChoice arr, ArrowCache m arr,
 ArrowWriter (Seq CollectedInfo) arr, MonadIO m,
 HasHttpManagerM m) =&gt;
arr
  (Dependency (HashMap DataConnectorName InvalidationKey),
   DataConnectorName, DataConnectorOptions)
  (Maybe DataConnectorInfo)
</span><a href="#local-6989586621690503446"><span class="hs-identifier hs-var hs-var">getDataConnectorCapabilitiesIfNeeded</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) (arr :: * -&gt; * -&gt; *) a b.
(ArrowCache m arr, Cacheable a) =&gt;
arr a b -&gt; arr a b
</span><a href="Hasura.Incremental.Internal.Cache.html#cache"><span class="hs-identifier hs-var">Inc.cache</span></a></span><span> </span><span class="hs-keyword">proc</span><span> </span><span class="hs-special">(</span><span id="local-6989586621690503392"><span class="annot"><span class="annottext">Dependency (HashMap DataConnectorName InvalidationKey)
</span><a href="#local-6989586621690503392"><span class="hs-identifier hs-var">invalidationKeys</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621690503391"><span class="annot"><span class="annottext">DataConnectorName
</span><a href="#local-6989586621690503391"><span class="hs-identifier hs-var">dataConnectorName</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621690503390"><span class="annot"><span class="annottext">DataConnectorOptions
</span><a href="#local-6989586621690503390"><span class="hs-identifier hs-var">dataConnectorOptions</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-102"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690503389"><span class="annot"><span class="annottext">metadataObj :: MetadataObject
</span><a href="#local-6989586621690503389"><span class="hs-identifier hs-var hs-var">metadataObj</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MetadataObjId -&gt; Value -&gt; MetadataObject
</span><a href="Hasura.RQL.Types.Metadata.Object.html#MetadataObject"><span class="hs-identifier hs-var">MetadataObject</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataConnectorName -&gt; MetadataObjId
</span><a href="Hasura.RQL.Types.Metadata.Object.html#MODataConnectorAgent"><span class="hs-identifier hs-var">MODataConnectorAgent</span></a></span><span> </span><span class="annot"><span class="annottext">DataConnectorName
</span><a href="#local-6989586621690503391"><span class="hs-identifier hs-var">dataConnectorName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">J.toJSON</span></span><span> </span><span class="annot"><span class="annottext">DataConnectorName
</span><a href="#local-6989586621690503391"><span class="hs-identifier hs-var">dataConnectorName</span></a></span><span>
</span><span id="line-103"></span><span>      </span><span id="local-6989586621690503385"><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621690503385"><span class="hs-identifier hs-var">httpMgr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) (arr :: * -&gt; * -&gt; *) a.
ArrowKleisli m arr =&gt;
arr (m a) a
</span><a href="Control.Arrow.Extended.html#bindA"><span class="hs-identifier hs-var">bindA</span></a></span><span> </span><span class="hs-glyph">-&lt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). HasHttpManagerM m =&gt; m Manager
</span><a href="Network.HTTP.Client.Manager.html#askHttpManager"><span class="hs-identifier hs-var">askHttpManager</span></a></span><span>
</span><span id="line-104"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) (arr :: * -&gt; * -&gt; *) a.
(ArrowCache m arr, Cacheable a) =&gt;
arr (Dependency a) a
</span><a href="Hasura.Incremental.Internal.Cache.html#dependOn"><span class="hs-identifier hs-var">Inc.dependOn</span></a></span><span> </span><span class="hs-glyph">-&lt;</span><span> </span><span class="annot"><span class="annottext">forall a k v.
(Select a, Selector a ~ ConstS k v) =&gt;
k -&gt; Dependency a -&gt; Dependency v
</span><a href="Hasura.Incremental.Internal.Dependency.html#selectKeyD"><span class="hs-identifier hs-var">Inc.selectKeyD</span></a></span><span> </span><span class="annot"><span class="annottext">DataConnectorName
</span><a href="#local-6989586621690503391"><span class="hs-identifier hs-var">dataConnectorName</span></a></span><span> </span><span class="annot"><span class="annottext">Dependency (HashMap DataConnectorName InvalidationKey)
</span><a href="#local-6989586621690503392"><span class="hs-identifier hs-var">invalidationKeys</span></a></span><span>
</span><span id="line-105"></span><span>      </span><span class="hs-glyph">(|</span><span>
</span><span id="line-106"></span><span>        </span><span class="annot"><span class="annottext">forall (arr :: * -&gt; * -&gt; *) w e s a.
(ArrowChoice arr, ArrowWriter (Seq w) arr,
 AsInconsistentMetadata w) =&gt;
ErrorA QErr arr (e, s) a -&gt; arr (e, (MetadataObject, s)) (Maybe a)
</span><a href="Hasura.RQL.Types.SchemaCache.Build.html#withRecordInconsistency"><span class="hs-identifier hs-var">withRecordInconsistency</span></a></span><span>
</span><span id="line-107"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">forall (arr :: * -&gt; * -&gt; *) e a.
(ArrowChoice arr, ArrowError e arr) =&gt;
arr (Either e a) a
</span><a href="Control.Arrow.Trans.html#liftEitherA"><span class="hs-identifier hs-var">liftEitherA</span></a></span><span> </span><span class="annot"><span class="annottext">forall {k} (cat :: k -&gt; k -&gt; *) (b :: k) (c :: k) (a :: k).
Category cat =&gt;
cat b c -&gt; cat a b -&gt; cat a c
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) (arr :: * -&gt; * -&gt; *) a.
ArrowKleisli m arr =&gt;
arr (m a) a
</span><a href="Control.Arrow.Extended.html#bindA"><span class="hs-identifier hs-var">bindA</span></a></span><span> </span><span class="hs-glyph">-&lt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadIO m =&gt;
DataConnectorOptions
-&gt; Manager -&gt; m (Either QErr DataConnectorInfo)
</span><a href="#local-6989586621690503373"><span class="hs-identifier hs-var">getDataConnectorCapabilities</span></a></span><span> </span><span class="annot"><span class="annottext">DataConnectorOptions
</span><a href="#local-6989586621690503390"><span class="hs-identifier hs-var">dataConnectorOptions</span></a></span><span> </span><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621690503385"><span class="hs-identifier hs-var">httpMgr</span></a></span><span>
</span><span id="line-108"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>        </span><span class="hs-glyph">|)</span><span> </span><span class="annot"><span class="annottext">MetadataObject
</span><a href="#local-6989586621690503389"><span class="hs-identifier hs-var">metadataObj</span></a></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span>    </span><span id="local-6989586621690504013"><span class="annot"><a href="#local-6989586621690503373"><span class="hs-identifier hs-type">getDataConnectorCapabilities</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-112"></span><span>      </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504013"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-113"></span><span>      </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorOptions"><span class="hs-identifier hs-type">DC.DataConnectorOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-114"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">HTTP.Manager</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-115"></span><span>      </span><span class="annot"><a href="#local-6989586621690504013"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorInfo"><span class="hs-identifier hs-type">DC.DataConnectorInfo</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-116"></span><span>    </span><span id="local-6989586621690503373"><span class="annot"><span class="annottext">getDataConnectorCapabilities :: forall (m :: * -&gt; *).
MonadIO m =&gt;
DataConnectorOptions
-&gt; Manager -&gt; m (Either QErr DataConnectorInfo)
</span><a href="#local-6989586621690503373"><span class="hs-identifier hs-var hs-var">getDataConnectorCapabilities</span></a></span></span><span> </span><span id="local-6989586621690503156"><span class="annot"><span class="annottext">options :: DataConnectorOptions
</span><a href="#local-6989586621690503156"><span class="hs-identifier hs-var">options</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorOptions"><span class="hs-identifier hs-type">DC.DataConnectorOptions</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621690503154"><span class="annot"><span class="annottext">BaseUrl
_dcoUri :: DataConnectorOptions -&gt; BaseUrl
_dcoUri :: BaseUrl
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#_dcoUri"><span class="hs-glyph hs-var hs-var">..</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621690503152"><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621690503152"><span class="hs-identifier hs-var">manager</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-var">runExceptT</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-117"></span><span>      </span><span id="local-6989586621690503150"><span class="annot"><span class="annottext">Union '[CapabilitiesResponse, ErrorResponse]
</span><a href="#local-6989586621690503150"><span class="hs-identifier hs-var">capabilitiesU</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-118"></span><span>        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
MonadIO m =&gt;
Reporter -&gt; Text -&gt; TraceT m a -&gt; m a
</span><a href="Hasura.Tracing.html#runTraceTWithReporter"><span class="hs-identifier hs-var">runTraceTWithReporter</span></a></span><span> </span><span class="annot"><span class="annottext">Reporter
</span><a href="Hasura.Tracing.html#noReporter"><span class="hs-identifier hs-var">noReporter</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;capabilities&quot;</span></span><span>
</span><span id="line-119"></span><span>          </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
AgentClientT m a -&gt; AgentClientContext -&gt; m a
</span><a href="Hasura.Backends.DataConnector.Agent.Client.html#runAgentClientT"><span class="hs-identifier hs-var">runAgentClientT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Logger Hasura
-&gt; BaseUrl -&gt; Manager -&gt; Maybe Int -&gt; AgentClientContext
</span><a href="Hasura.Backends.DataConnector.Agent.Client.html#AgentClientContext"><span class="hs-identifier hs-var">AgentClientContext</span></a></span><span> </span><span class="annot"><span class="annottext">Logger Hasura
</span><a href="#local-6989586621690503456"><span class="hs-identifier hs-var">logger</span></a></span><span> </span><span class="annot"><span class="annottext">BaseUrl
</span><a href="#local-6989586621690503154"><span class="hs-identifier hs-var">_dcoUri</span></a></span><span> </span><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621690503152"><span class="hs-identifier hs-var">manager</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span>          </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (routes :: * -&gt; *) (m :: * -&gt; *).
(HasClient m (ToServantApi routes),
 GenericServant routes (AsClientT m),
 Client m (ToServantApi routes) ~ ToServant routes (AsClientT m)) =&gt;
routes (AsClientT m)
</span><span class="hs-identifier hs-var">genericClient</span></span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">//</span></span><span> </span><span class="annot"><span class="annottext">forall mode.
Routes mode
-&gt; mode
   :- (&quot;capabilities&quot;
       :&gt; UVerb 'GET '[JSON] '[CapabilitiesResponse, ErrorResponse])
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-var">API._capabilities</span></a></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690503143"><span class="annot"><span class="annottext">defaultAction :: ExceptT QErr m a
</span><a href="#local-6989586621690503143"><span class="hs-identifier hs-var hs-var">defaultAction</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><a href="Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-var">throw400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="Hasura.Base.Error.html#DataConnectorError"><span class="hs-identifier hs-var">DataConnectorError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Unexpected data connector capabilities response - Unexpected Type&quot;</span></span><span>
</span><span id="line-123"></span><span>          </span><span id="local-6989586621690503141"><span class="annot"><span class="annottext">capabilitiesAction :: CapabilitiesResponse -&gt; ExceptT QErr m DataConnectorInfo
</span><a href="#local-6989586621690503141"><span class="hs-identifier hs-var hs-var">capabilitiesAction</span></a></span></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-type">API.CapabilitiesResponse</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621690503138"><span id="local-6989586621690503139"><span class="annot"><span class="annottext">Capabilities
ConfigSchemaResponse
_crCapabilities :: CapabilitiesResponse -&gt; Capabilities
_crConfigSchemaResponse :: CapabilitiesResponse -&gt; ConfigSchemaResponse
_crConfigSchemaResponse :: ConfigSchemaResponse
_crCapabilities :: Capabilities
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataConnectorOptions
-&gt; Capabilities -&gt; ConfigSchemaResponse -&gt; DataConnectorInfo
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorInfo"><span class="hs-identifier hs-var">DC.DataConnectorInfo</span></a></span><span> </span><span class="annot"><span class="annottext">DataConnectorOptions
</span><a href="#local-6989586621690503156"><span class="hs-identifier hs-var">options</span></a></span><span> </span><span class="annot"><span class="annottext">Capabilities
</span><a href="#local-6989586621690503139"><span class="hs-identifier hs-var">_crCapabilities</span></a></span><span> </span><span class="annot"><span class="annottext">ConfigSchemaResponse
</span><a href="#local-6989586621690503138"><span class="hs-identifier hs-var">_crConfigSchemaResponse</span></a></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span>      </span><span class="annot"><span class="annottext">forall a.
a
-&gt; (CapabilitiesResponse -&gt; a)
-&gt; (ErrorResponse -&gt; a)
-&gt; Union '[CapabilitiesResponse, ErrorResponse]
-&gt; a
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-var">capabilitiesCase</span></a></span><span> </span><span class="annot"><span class="annottext">forall {a}. ExceptT QErr m a
</span><a href="#local-6989586621690503143"><span class="hs-identifier hs-var">defaultAction</span></a></span><span> </span><span class="annot"><span class="annottext">CapabilitiesResponse -&gt; ExceptT QErr m DataConnectorInfo
</span><a href="#local-6989586621690503141"><span class="hs-identifier hs-var">capabilitiesAction</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadError QErr m =&gt; ErrorResponse -&gt; m a
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#errorAction"><span class="hs-identifier hs-var">errorAction</span></a></span><span> </span><span class="annot"><span class="annottext">Union '[CapabilitiesResponse, ErrorResponse]
</span><a href="#local-6989586621690503150"><span class="hs-identifier hs-var">capabilitiesU</span></a></span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span id="local-6989586621690504111"><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#resolveSourceConfig%27"><span class="hs-identifier hs-type">resolveSourceConfig'</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-128"></span><span>  </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504111"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-129"></span><span>  </span><span class="annot"><a href="Hasura.Logging.html#Logger"><span class="hs-identifier hs-type">Logger</span></a></span><span> </span><span class="annot"><a href="Hasura.Logging.html#Hasura"><span class="hs-identifier hs-type">Hasura</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-130"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#SourceName"><span class="hs-identifier hs-type">SourceName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-131"></span><span>  </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#ConnSourceConfig"><span class="hs-identifier hs-type">DC.ConnSourceConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-132"></span><span>  </span><span class="annot"><a href="Hasura.SQL.Backend.html#BackendSourceKind"><span class="hs-identifier hs-type">BackendSourceKind</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-133"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorName"><span class="hs-identifier hs-type">DC.DataConnectorName</span></a></span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorInfo"><span class="hs-identifier hs-type">DC.DataConnectorInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-134"></span><span>  </span><span class="annot"><a href="Data.Environment.html#Environment"><span class="hs-identifier hs-type">Environment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-135"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">HTTP.Manager</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-136"></span><span>  </span><span class="annot"><a href="#local-6989586621690504111"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#SourceConfig"><span class="hs-identifier hs-type">DC.SourceConfig</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-137"></span><span id="resolveSourceConfig%27"><span class="annot"><span class="annottext">resolveSourceConfig' :: forall (m :: * -&gt; *).
MonadIO m =&gt;
Logger Hasura
-&gt; SourceName
-&gt; ConnSourceConfig
-&gt; BackendSourceKind 'DataConnector
-&gt; HashMap DataConnectorName DataConnectorInfo
-&gt; Environment
-&gt; Manager
-&gt; m (Either QErr SourceConfig)
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#resolveSourceConfig%27"><span class="hs-identifier hs-var hs-var">resolveSourceConfig'</span></a></span></span><span>
</span><span id="line-138"></span><span>  </span><span id="local-6989586621690503129"><span class="annot"><span class="annottext">Logger Hasura
</span><a href="#local-6989586621690503129"><span class="hs-identifier hs-var">logger</span></a></span></span><span>
</span><span id="line-139"></span><span>  </span><span id="local-6989586621690503128"><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621690503128"><span class="hs-identifier hs-var">sourceName</span></a></span></span><span>
</span><span id="line-140"></span><span>  </span><span id="local-6989586621690503127"><span class="annot"><span class="annottext">csc :: ConnSourceConfig
</span><a href="#local-6989586621690503127"><span class="hs-identifier hs-var">csc</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#ConnSourceConfig"><span class="hs-identifier hs-type">DC.ConnSourceConfig</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621690503125"><span class="annot"><span class="annottext">Maybe Text
template :: ConnSourceConfig -&gt; Maybe Text
template :: Maybe Text
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#template"><span class="hs-identifier hs-var hs-var">template</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621690503123"><span class="annot"><span class="annottext">Maybe SourceTimeout
timeout :: ConnSourceConfig -&gt; Maybe SourceTimeout
timeout :: Maybe SourceTimeout
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#timeout"><span class="hs-identifier hs-var hs-var">timeout</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">value :: ConnSourceConfig -&gt; Config
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#value"><span class="hs-identifier hs-var">value</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621690503120"><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621690503120"><span class="hs-identifier hs-var">originalConfig</span></a></span></span><span class="hs-special">}</span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnectorKind"><span class="hs-identifier hs-type">DataConnectorKind</span></a></span><span> </span><span id="local-6989586621690502928"><span class="annot"><span class="annottext">DataConnectorName
</span><a href="#local-6989586621690502928"><span class="hs-identifier hs-var">dataConnectorName</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>  </span><span id="local-6989586621690502927"><span class="annot"><span class="annottext">HashMap DataConnectorName DataConnectorInfo
</span><a href="#local-6989586621690502927"><span class="hs-identifier hs-var">backendInfo</span></a></span></span><span>
</span><span id="line-143"></span><span>  </span><span id="local-6989586621690502926"><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621690502926"><span class="hs-identifier hs-var">env</span></a></span></span><span>
</span><span id="line-144"></span><span>  </span><span id="local-6989586621690502925"><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621690502925"><span class="hs-identifier hs-var">manager</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-var">runExceptT</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-145"></span><span>    </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorInfo"><span class="hs-identifier hs-type">DC.DataConnectorInfo</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">_dciOptions :: DataConnectorInfo -&gt; DataConnectorOptions
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#_dciOptions"><span class="hs-identifier hs-var">DC._dciOptions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorOptions"><span class="hs-identifier hs-type">DC.DataConnectorOptions</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621690502923"><span class="annot"><span class="annottext">BaseUrl
_dcoUri :: BaseUrl
_dcoUri :: DataConnectorOptions -&gt; BaseUrl
</span><a href="#local-6989586621690502923"><span class="hs-glyph hs-var hs-var">..</span></a></span></span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span id="local-6989586621690502921"><span id="local-6989586621690502922"><span class="annot"><span class="annottext">Capabilities
ConfigSchemaResponse
_dciConfigSchemaResponse :: DataConnectorInfo -&gt; ConfigSchemaResponse
_dciCapabilities :: DataConnectorInfo -&gt; Capabilities
_dciConfigSchemaResponse :: ConfigSchemaResponse
_dciCapabilities :: Capabilities
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#_dciConfigSchemaResponse"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-146"></span><span>      </span><span class="annot"><span class="annottext">forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">DataConnectorName
</span><a href="#local-6989586621690502928"><span class="hs-identifier hs-var">dataConnectorName</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap DataConnectorName DataConnectorInfo
</span><a href="#local-6989586621690502927"><span class="hs-identifier hs-var">backendInfo</span></a></span><span>
</span><span id="line-147"></span><span>        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-operator hs-var">`onNothing`</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><a href="Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-var">throw400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="Hasura.Base.Error.html#DataConnectorError"><span class="hs-identifier hs-var">DataConnectorError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Data connector named &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. ToTxt a =&gt; a -&gt; Text
</span><a href="Data.Text.Extended.html#toTxt"><span class="hs-identifier hs-var">toTxt</span></a></span><span> </span><span class="annot"><span class="annottext">DataConnectorName
</span><a href="#local-6989586621690502928"><span class="hs-identifier hs-var">dataConnectorName</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; was not found in the data connector backend info&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span>    </span><span id="local-6989586621690502916"><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621690502916"><span class="hs-identifier hs-var">transformedConfig</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadError QErr m =&gt;
ConnSourceConfig -&gt; [(Text, Value)] -&gt; Environment -&gt; m Config
</span><a href="Hasura.Backends.DataConnector.Adapter.ConfigTransform.html#transformConnSourceConfig"><span class="hs-identifier hs-var">transformConnSourceConfig</span></a></span><span> </span><span class="annot"><span class="annottext">ConnSourceConfig
</span><a href="#local-6989586621690503127"><span class="hs-identifier hs-var">csc</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;$session&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">J.object</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;$env&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">J.toJSON</span></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621690502926"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621690502926"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadError QErr m =&gt;
SourceName
-&gt; DataConnectorName -&gt; ConfigSchemaResponse -&gt; Config -&gt; m ()
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#validateConfiguration"><span class="hs-identifier hs-var">validateConfiguration</span></a></span><span> </span><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621690503128"><span class="hs-identifier hs-var">sourceName</span></a></span><span> </span><span class="annot"><span class="annottext">DataConnectorName
</span><a href="#local-6989586621690502928"><span class="hs-identifier hs-var">dataConnectorName</span></a></span><span> </span><span class="annot"><span class="annottext">ConfigSchemaResponse
</span><a href="#local-6989586621690502921"><span class="hs-identifier hs-var">_dciConfigSchemaResponse</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621690502916"><span class="hs-identifier hs-var">transformedConfig</span></a></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span>    </span><span id="local-6989586621690502913"><span class="annot"><span class="annottext">Union '[SchemaResponse, ErrorResponse]
</span><a href="#local-6989586621690502913"><span class="hs-identifier hs-var">schemaResponseU</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-154"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
MonadIO m =&gt;
Reporter -&gt; Text -&gt; TraceT m a -&gt; m a
</span><a href="Hasura.Tracing.html#runTraceTWithReporter"><span class="hs-identifier hs-var">runTraceTWithReporter</span></a></span><span> </span><span class="annot"><span class="annottext">Reporter
</span><a href="Hasura.Tracing.html#noReporter"><span class="hs-identifier hs-var">noReporter</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;resolve source&quot;</span></span><span>
</span><span id="line-155"></span><span>        </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
AgentClientT m a -&gt; AgentClientContext -&gt; m a
</span><a href="Hasura.Backends.DataConnector.Agent.Client.html#runAgentClientT"><span class="hs-identifier hs-var">runAgentClientT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Logger Hasura
-&gt; BaseUrl -&gt; Manager -&gt; Maybe Int -&gt; AgentClientContext
</span><a href="Hasura.Backends.DataConnector.Agent.Client.html#AgentClientContext"><span class="hs-identifier hs-var">AgentClientContext</span></a></span><span> </span><span class="annot"><span class="annottext">Logger Hasura
</span><a href="#local-6989586621690503129"><span class="hs-identifier hs-var">logger</span></a></span><span> </span><span class="annot"><span class="annottext">BaseUrl
</span><a href="#local-6989586621690502923"><span class="hs-identifier hs-var">_dcoUri</span></a></span><span> </span><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621690502925"><span class="hs-identifier hs-var">manager</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceTimeout -&gt; Int
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#sourceTimeoutMicroseconds"><span class="hs-identifier hs-var">DC.sourceTimeoutMicroseconds</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SourceTimeout
</span><a href="#local-6989586621690503123"><span class="hs-identifier hs-var">timeout</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span>        </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (routes :: * -&gt; *) (m :: * -&gt; *).
(HasClient m (ToServantApi routes),
 GenericServant routes (AsClientT m),
 Client m (ToServantApi routes) ~ ToServant routes (AsClientT m)) =&gt;
routes (AsClientT m)
</span><span class="hs-identifier hs-var">genericClient</span></span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">//</span></span><span> </span><span class="annot"><span class="annottext">forall mode.
Routes mode
-&gt; mode
   :- (&quot;schema&quot;
       :&gt; (SourceNameHeader Required
           :&gt; (ConfigHeader Required
               :&gt; UVerb 'GET '[JSON] '[SchemaResponse, ErrorResponse])))
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-var">API._schema</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. ToTxt a =&gt; a -&gt; Text
</span><a href="Data.Text.Extended.html#toTxt"><span class="hs-identifier hs-var">toTxt</span></a></span><span> </span><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621690503128"><span class="hs-identifier hs-var">sourceName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621690502916"><span class="hs-identifier hs-var">transformedConfig</span></a></span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690502907"><span class="annot"><span class="annottext">defaultAction :: ExceptT QErr m a
</span><a href="#local-6989586621690502907"><span class="hs-identifier hs-var hs-var">defaultAction</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><a href="Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-var">throw400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="Hasura.Base.Error.html#DataConnectorError"><span class="hs-identifier hs-var">DataConnectorError</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Unexpected data connector schema response - Unexpected Type&quot;</span></span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span>    </span><span id="local-6989586621690502906"><span class="annot"><span class="annottext">SchemaResponse
</span><a href="#local-6989586621690502906"><span class="hs-identifier hs-var">schemaResponse</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
Monad m =&gt;
m a
-&gt; (SchemaResponse -&gt; m a)
-&gt; (ErrorResponse -&gt; m a)
-&gt; Union '[SchemaResponse, ErrorResponse]
-&gt; m a
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-var">schemaCase</span></a></span><span> </span><span class="annot"><span class="annottext">forall {a}. ExceptT QErr m a
</span><a href="#local-6989586621690502907"><span class="hs-identifier hs-var">defaultAction</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadError QErr m =&gt; ErrorResponse -&gt; m a
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#errorAction"><span class="hs-identifier hs-var">errorAction</span></a></span><span> </span><span class="annot"><span class="annottext">Union '[SchemaResponse, ErrorResponse]
</span><a href="#local-6989586621690502913"><span class="hs-identifier hs-var">schemaResponseU</span></a></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span>
</span><span id="line-163"></span><span>      </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#SourceConfig"><span class="hs-identifier hs-type">DC.SourceConfig</span></a></span><span>
</span><span id="line-164"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_scEndpoint :: BaseUrl
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#_scEndpoint"><span class="hs-identifier hs-var">_scEndpoint</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BaseUrl
</span><a href="#local-6989586621690502923"><span class="hs-identifier hs-var">_dcoUri</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-165"></span><span>          </span><span class="annot"><span class="annottext">_scConfig :: Config
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#_scConfig"><span class="hs-identifier hs-var">_scConfig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621690503120"><span class="hs-identifier hs-var">originalConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-166"></span><span>          </span><span class="annot"><span class="annottext">_scTemplate :: Maybe Text
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#_scTemplate"><span class="hs-identifier hs-var">_scTemplate</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621690503125"><span class="hs-identifier hs-var">template</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-167"></span><span>          </span><span class="annot"><span class="annottext">_scCapabilities :: Capabilities
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#_scCapabilities"><span class="hs-identifier hs-var">_scCapabilities</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Capabilities
</span><a href="#local-6989586621690502922"><span class="hs-identifier hs-var">_dciCapabilities</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-168"></span><span>          </span><span class="annot"><span class="annottext">_scSchema :: SchemaResponse
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#_scSchema"><span class="hs-identifier hs-var">_scSchema</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SchemaResponse
</span><a href="#local-6989586621690502906"><span class="hs-identifier hs-var">schemaResponse</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-169"></span><span>          </span><span class="annot"><span class="annottext">_scManager :: Manager
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#_scManager"><span class="hs-identifier hs-var">_scManager</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621690502925"><span class="hs-identifier hs-var">manager</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-170"></span><span>          </span><span class="annot"><span class="annottext">_scTimeoutMicroseconds :: Maybe Int
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#_scTimeoutMicroseconds"><span class="hs-identifier hs-var">_scTimeoutMicroseconds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceTimeout -&gt; Int
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#sourceTimeoutMicroseconds"><span class="hs-identifier hs-var">DC.sourceTimeoutMicroseconds</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SourceTimeout
</span><a href="#local-6989586621690503123"><span class="hs-identifier hs-var">timeout</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-171"></span><span>          </span><span class="annot"><span class="annottext">_scDataConnectorName :: DataConnectorName
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#_scDataConnectorName"><span class="hs-identifier hs-var">_scDataConnectorName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataConnectorName
</span><a href="#local-6989586621690502928"><span class="hs-identifier hs-var">dataConnectorName</span></a></span><span>
</span><span id="line-172"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span id="local-6989586621690503829"><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#validateConfiguration"><span class="hs-identifier hs-type">validateConfiguration</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-175"></span><span>  </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-type">MonadError</span></a></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690503829"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-176"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#SourceName"><span class="hs-identifier hs-type">SourceName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-177"></span><span>  </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#DataConnectorName"><span class="hs-identifier hs-type">DC.DataConnectorName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-178"></span><span>  </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-type">API.ConfigSchemaResponse</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-179"></span><span>  </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-type">API.Config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-180"></span><span>  </span><span class="annot"><a href="#local-6989586621690503829"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-181"></span><span id="validateConfiguration"><span class="annot"><span class="annottext">validateConfiguration :: forall (m :: * -&gt; *).
MonadError QErr m =&gt;
SourceName
-&gt; DataConnectorName -&gt; ConfigSchemaResponse -&gt; Config -&gt; m ()
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#validateConfiguration"><span class="hs-identifier hs-var hs-var">validateConfiguration</span></a></span></span><span> </span><span id="local-6989586621690502878"><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621690502878"><span class="hs-identifier hs-var">sourceName</span></a></span></span><span> </span><span id="local-6989586621690502877"><span class="annot"><span class="annottext">DataConnectorName
</span><a href="#local-6989586621690502877"><span class="hs-identifier hs-var">dataConnectorName</span></a></span></span><span> </span><span id="local-6989586621690502876"><span class="annot"><span class="annottext">ConfigSchemaResponse
</span><a href="#local-6989586621690502876"><span class="hs-identifier hs-var">configSchema</span></a></span></span><span> </span><span id="local-6989586621690502875"><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621690502875"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690502874"><span class="annot"><span class="annottext">errors :: [[Char]]
</span><a href="#local-6989586621690502874"><span class="hs-identifier hs-var hs-var">errors</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConfigSchemaResponse -&gt; Config -&gt; [[Char]]
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-var">API.validateConfigAgainstConfigSchema</span></a></span><span> </span><span class="annot"><span class="annottext">ConfigSchemaResponse
</span><a href="#local-6989586621690502876"><span class="hs-identifier hs-var">configSchema</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621690502875"><span class="hs-identifier hs-var">config</span></a></span><span>
</span><span id="line-183"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[[Char]]
</span><a href="#local-6989586621690502874"><span class="hs-identifier hs-var">errors</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-184"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690502870"><span class="annot"><span class="annottext">errorsText :: Text
</span><a href="#local-6989586621690502870"><span class="hs-identifier hs-var hs-var">errorsText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Text
</span><span class="hs-identifier hs-var">Text.unlines</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;- &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Text
</span><span class="hs-identifier hs-var">Text.pack</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[[Char]]
</span><a href="#local-6989586621690502874"><span class="hs-identifier hs-var">errors</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><a href="Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-var">throw400</span></a></span><span>
</span><span id="line-186"></span><span>          </span><span class="annot"><span class="annottext">Code
</span><a href="Hasura.Base.Error.html#DataConnectorError"><span class="hs-identifier hs-var">DataConnectorError</span></a></span><span>
</span><span id="line-187"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Configuration for source &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621690502878"><span class="hs-identifier hs-var">sourceName</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; is not valid based on the configuration schema declared by the &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">DataConnectorName
</span><a href="#local-6989586621690502877"><span class="hs-identifier hs-var">dataConnectorName</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; data connector agent. Errors:\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690502870"><span class="hs-identifier hs-var">errorsText</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span id="local-6989586621690504107"><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#resolveDatabaseMetadata%27"><span class="hs-identifier hs-type">resolveDatabaseMetadata'</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-190"></span><span>  </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504107"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-191"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#SourceMetadata"><span class="hs-identifier hs-type">SourceMetadata</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-192"></span><span>  </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#SourceConfig"><span class="hs-identifier hs-type">DC.SourceConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-193"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.SourceCustomization.html#SourceTypeCustomization"><span class="hs-identifier hs-type">SourceTypeCustomization</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-194"></span><span>  </span><span class="annot"><a href="#local-6989586621690504107"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Source.html#ResolvedSource"><span class="hs-identifier hs-type">ResolvedSource</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-195"></span><span id="resolveDatabaseMetadata%27"><span class="annot"><span class="annottext">resolveDatabaseMetadata' :: forall (m :: * -&gt; *).
Applicative m =&gt;
SourceMetadata 'DataConnector
-&gt; SourceConfig
-&gt; SourceTypeCustomization
-&gt; m (Either QErr (ResolvedSource 'DataConnector))
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#resolveDatabaseMetadata%27"><span class="hs-identifier hs-var hs-var">resolveDatabaseMetadata'</span></a></span></span><span> </span><span class="annot"><span class="annottext">SourceMetadata 'DataConnector
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621690502829"><span class="annot"><span class="annottext">sc :: SourceConfig
</span><a href="#local-6989586621690502829"><span class="hs-identifier hs-var">sc</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#SourceConfig"><span class="hs-identifier hs-type">DC.SourceConfig</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">_scSchema :: SourceConfig -&gt; SchemaResponse
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#_scSchema"><span class="hs-identifier hs-var">_scSchema</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-type">API.SchemaResponse</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621690502827"><span class="annot"><span class="annottext">[TableInfo]
_srTables :: SchemaResponse -&gt; [TableInfo]
_srTables :: [TableInfo]
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-glyph hs-var hs-var">..</span></a></span></span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span id="local-6989586621690502825"><span class="annot"><span class="annottext">SourceTypeCustomization
</span><a href="#local-6989586621690502825"><span class="hs-identifier hs-var">customization</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-comment">-- We need agents to provide the foreign key contraints inside 'API.SchemaResponse'</span><span>
</span><span id="line-197"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690502824"><span class="annot"><span class="annottext">foreignKeys :: [ForeignKeys]
</span><a href="#local-6989586621690502824"><span class="hs-identifier hs-var hs-var">foreignKeys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo -&gt; ForeignKeys
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-var">API._tiForeignKeys</span></a></span><span> </span><span class="annot"><span class="annottext">[TableInfo]
</span><a href="#local-6989586621690502827"><span class="hs-identifier hs-var">_srTables</span></a></span><span>
</span><span id="line-198"></span><span>      </span><span id="local-6989586621690502822"><span class="annot"><span class="annottext">tables :: HashMap TableName (DBTableMetadata 'DataConnector)
</span><a href="#local-6989586621690502822"><span class="hs-identifier hs-var hs-var">tables</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">Map.fromList</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-199"></span><span>        </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-type">API.TableInfo</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621690502815"><span id="local-6989586621690502816"><span id="local-6989586621690502817"><span id="local-6989586621690502818"><span id="local-6989586621690502819"><span class="annot"><span class="annottext">[ColumnName]
[ColumnInfo]
Maybe Text
TableName
ForeignKeys
_tiName :: TableInfo -&gt; TableName
_tiColumns :: TableInfo -&gt; [ColumnInfo]
_tiPrimaryKey :: TableInfo -&gt; [ColumnName]
_tiDescription :: TableInfo -&gt; Maybe Text
_tiDescription :: Maybe Text
_tiForeignKeys :: ForeignKeys
_tiPrimaryKey :: [ColumnName]
_tiColumns :: [ColumnInfo]
_tiName :: TableName
_tiForeignKeys :: TableInfo -&gt; ForeignKeys
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[TableInfo]
</span><a href="#local-6989586621690502827"><span class="hs-identifier hs-var">_srTables</span></a></span><span>
</span><span id="line-200"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690502810"><span class="annot"><span class="annottext">primaryKeyColumns :: Seq ColumnName
</span><a href="#local-6989586621690502810"><span class="hs-identifier hs-var hs-var">primaryKeyColumns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; Seq a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Seq.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">coerce :: forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[ColumnName]
</span><a href="#local-6989586621690502817"><span class="hs-identifier hs-var">_tiPrimaryKey</span></a></span><span>
</span><span id="line-201"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690502808"><span class="annot"><span class="annottext">meta :: DBTableMetadata 'DataConnector
</span><a href="#local-6989586621690502808"><span class="hs-identifier hs-var hs-var">meta</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-202"></span><span>              </span><span class="annot"><a href="Hasura.RQL.Types.Table.html#DBTableMetadata"><span class="hs-identifier hs-type">RQL.T.T.DBTableMetadata</span></a></span><span>
</span><span id="line-203"></span><span>                </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_ptmiOid :: OID
</span><a href="Hasura.RQL.Types.Table.html#_ptmiOid"><span class="hs-identifier hs-var">_ptmiOid</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; OID
</span><a href="Hasura.RQL.Types.Common.html#OID"><span class="hs-identifier hs-var">OID</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span>
</span><span id="line-204"></span><span>                  </span><span class="annot"><span class="annottext">_ptmiColumns :: [RawColumnInfo 'DataConnector]
</span><a href="Hasura.RQL.Types.Table.html#_ptmiColumns"><span class="hs-identifier hs-var">_ptmiColumns</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-205"></span><span>                    </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-type">API.ColumnInfo</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621690502799"><span id="local-6989586621690502800"><span id="local-6989586621690502801"><span id="local-6989586621690502802"><span class="annot"><span class="annottext">Bool
Maybe Text
ColumnName
ScalarType
_ciName :: ColumnInfo -&gt; ColumnName
_ciType :: ColumnInfo -&gt; ScalarType
_ciNullable :: ColumnInfo -&gt; Bool
_ciDescription :: ColumnInfo -&gt; Maybe Text
_ciDescription :: Maybe Text
_ciNullable :: Bool
_ciType :: ScalarType
_ciName :: ColumnName
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ColumnInfo]
</span><a href="#local-6989586621690502818"><span class="hs-identifier hs-var">_tiColumns</span></a></span><span>
</span><span id="line-206"></span><span>                    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-207"></span><span>                      </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#RawColumnInfo"><span class="hs-identifier hs-type">RQL.T.C.RawColumnInfo</span></a></span><span>
</span><span id="line-208"></span><span>                        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rciName :: Column 'DataConnector
</span><a href="Hasura.RQL.Types.Column.html#rciName"><span class="hs-identifier hs-var">rciName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall source target. From source target =&gt; source -&gt; target
</span><span class="hs-identifier hs-var">Witch.from</span></span><span> </span><span class="annot"><span class="annottext">ColumnName
</span><a href="#local-6989586621690502802"><span class="hs-identifier hs-var">_ciName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-209"></span><span>                          </span><span class="annot"><span class="annottext">rciPosition :: Int
</span><a href="Hasura.RQL.Types.Column.html#rciPosition"><span class="hs-identifier hs-var">rciPosition</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span>
</span><span id="line-210"></span><span>                          </span><span class="annot"><span class="annottext">rciType :: ScalarType 'DataConnector
</span><a href="Hasura.RQL.Types.Column.html#rciType"><span class="hs-identifier hs-var">rciType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall source target. From source target =&gt; source -&gt; target
</span><span class="hs-identifier hs-var">Witch.from</span></span><span> </span><span class="annot"><span class="annottext">ScalarType
</span><a href="#local-6989586621690502801"><span class="hs-identifier hs-var">_ciType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-211"></span><span>                          </span><span class="annot"><span class="annottext">rciIsNullable :: Bool
</span><a href="Hasura.RQL.Types.Column.html#rciIsNullable"><span class="hs-identifier hs-var">rciIsNullable</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621690502800"><span class="hs-identifier hs-var">_ciNullable</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-212"></span><span>                          </span><span class="annot"><span class="annottext">rciDescription :: Maybe Description
</span><a href="Hasura.RQL.Types.Column.html#rciDescription"><span class="hs-identifier hs-var">rciDescription</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">GQL.Description</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621690502799"><span class="hs-identifier hs-var">_ciDescription</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-213"></span><span>                          </span><span class="hs-comment">-- TODO: Add Column Mutability to the 'TableInfo'</span><span>
</span><span id="line-214"></span><span>                          </span><span class="annot"><span class="annottext">rciMutability :: ColumnMutability
</span><a href="Hasura.RQL.Types.Column.html#rciMutability"><span class="hs-identifier hs-var">rciMutability</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; ColumnMutability
</span><a href="Hasura.RQL.Types.Column.html#ColumnMutability"><span class="hs-identifier hs-var">RQL.T.C.ColumnMutability</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-215"></span><span>                        </span><span class="hs-special">}</span><span class="hs-special">,</span><span>
</span><span id="line-216"></span><span>                  </span><span class="annot"><span class="annottext">_ptmiPrimaryKey :: Maybe (PrimaryKey 'DataConnector (Column 'DataConnector))
</span><a href="Hasura.RQL.Types.Table.html#_ptmiPrimaryKey"><span class="hs-identifier hs-var">_ptmiPrimaryKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType) a.
Constraint b -&gt; NESeq a -&gt; PrimaryKey b a
</span><a href="Hasura.RQL.Types.Table.html#PrimaryKey"><span class="hs-identifier hs-var">RQL.T.T.PrimaryKey</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (b :: BackendType). ConstraintName b -&gt; OID -&gt; Constraint b
</span><a href="Hasura.RQL.Types.Table.html#Constraint"><span class="hs-identifier hs-var">RQL.T.T.Constraint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; ConstraintName
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#ConstraintName"><span class="hs-identifier hs-var">DC.ConstraintName</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; OID
</span><a href="Hasura.RQL.Types.Common.html#OID"><span class="hs-identifier hs-var">OID</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Seq a -&gt; Maybe (NESeq a)
</span><span class="hs-identifier hs-var">NESeq.nonEmptySeq</span></span><span> </span><span class="annot"><span class="annottext">Seq ColumnName
</span><a href="#local-6989586621690502810"><span class="hs-identifier hs-var">primaryKeyColumns</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-217"></span><span>                  </span><span class="annot"><span class="annottext">_ptmiUniqueConstraints :: HashSet (UniqueConstraint 'DataConnector)
</span><a href="Hasura.RQL.Types.Table.html#_ptmiUniqueConstraints"><span class="hs-identifier hs-var">_ptmiUniqueConstraints</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-218"></span><span>                  </span><span class="annot"><span class="annottext">_ptmiForeignKeys :: HashSet (ForeignKeyMetadata 'DataConnector)
</span><a href="Hasura.RQL.Types.Table.html#_ptmiForeignKeys"><span class="hs-identifier hs-var">_ptmiForeignKeys</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ForeignKeys] -&gt; HashSet (ForeignKeyMetadata 'DataConnector)
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#buildForeignKeySet"><span class="hs-identifier hs-var">buildForeignKeySet</span></a></span><span> </span><span class="annot"><span class="annottext">[ForeignKeys]
</span><a href="#local-6989586621690502824"><span class="hs-identifier hs-var">foreignKeys</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-219"></span><span>                  </span><span class="annot"><span class="annottext">_ptmiViewInfo :: Maybe ViewInfo
</span><a href="Hasura.RQL.Types.Table.html#_ptmiViewInfo"><span class="hs-identifier hs-var">_ptmiViewInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool -&gt; ViewInfo
</span><a href="Hasura.RQL.Types.Table.html#ViewInfo"><span class="hs-identifier hs-var">RQL.T.T.ViewInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-220"></span><span>                  </span><span class="annot"><span class="annottext">_ptmiDescription :: Maybe PGDescription
</span><a href="Hasura.RQL.Types.Table.html#_ptmiDescription"><span class="hs-identifier hs-var">_ptmiDescription</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; PGDescription
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#PGDescription"><span class="hs-identifier hs-var">PGDescription</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621690502815"><span class="hs-identifier hs-var">_tiDescription</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-221"></span><span>                  </span><span class="annot"><span class="annottext">_ptmiExtraTableMetadata :: ExtraTableMetadata 'DataConnector
</span><a href="Hasura.RQL.Types.Table.html#_ptmiExtraTableMetadata"><span class="hs-identifier hs-var">_ptmiExtraTableMetadata</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-223"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">coerce :: forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">TableName
</span><a href="#local-6989586621690502819"><span class="hs-identifier hs-var">_tiName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DBTableMetadata 'DataConnector
</span><a href="#local-6989586621690502808"><span class="hs-identifier hs-var">meta</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-225"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-226"></span><span>          </span><span class="annot"><a href="Hasura.RQL.Types.Source.html#ResolvedSource"><span class="hs-identifier hs-type">ResolvedSource</span></a></span><span>
</span><span id="line-227"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_rsConfig :: SourceConfig 'DataConnector
</span><a href="Hasura.RQL.Types.Source.html#_rsConfig"><span class="hs-identifier hs-var">_rsConfig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceConfig
</span><a href="#local-6989586621690502829"><span class="hs-identifier hs-var">sc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-228"></span><span>              </span><span class="annot"><span class="annottext">_rsCustomization :: SourceTypeCustomization
</span><a href="Hasura.RQL.Types.Source.html#_rsCustomization"><span class="hs-identifier hs-var">_rsCustomization</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceTypeCustomization
</span><a href="#local-6989586621690502825"><span class="hs-identifier hs-var">customization</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-229"></span><span>              </span><span class="annot"><span class="annottext">_rsTables :: DBTablesMetadata 'DataConnector
</span><a href="Hasura.RQL.Types.Source.html#_rsTables"><span class="hs-identifier hs-var">_rsTables</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap TableName (DBTableMetadata 'DataConnector)
</span><a href="#local-6989586621690502822"><span class="hs-identifier hs-var">tables</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-230"></span><span>              </span><span class="annot"><span class="annottext">_rsFunctions :: DBFunctionsMetadata 'DataConnector
</span><a href="Hasura.RQL.Types.Source.html#_rsFunctions"><span class="hs-identifier hs-var">_rsFunctions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-231"></span><span>              </span><span class="annot"><span class="annottext">_rsScalars :: ScalarMap 'DataConnector
</span><a href="Hasura.RQL.Types.Source.html#_rsScalars"><span class="hs-identifier hs-var">_rsScalars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-232"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="hs-comment">-- | Construct a 'HashSet' 'RQL.T.T.ForeignKeyMetadata'</span><span>
</span><span id="line-235"></span><span class="hs-comment">-- 'DataConnector' to build the foreign key constraints in the table</span><span>
</span><span id="line-236"></span><span class="hs-comment">-- metadata.</span><span>
</span><span id="line-237"></span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#buildForeignKeySet"><span class="hs-identifier hs-type">buildForeignKeySet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-type">API.ForeignKeys</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HashSet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Table.html#ForeignKeyMetadata"><span class="hs-identifier hs-type">RQL.T.T.ForeignKeyMetadata</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span id="buildForeignKeySet"><span class="annot"><span class="annottext">buildForeignKeySet :: [ForeignKeys] -&gt; HashSet (ForeignKeyMetadata 'DataConnector)
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#buildForeignKeySet"><span class="hs-identifier hs-var hs-var">buildForeignKeySet</span></a></span></span><span> </span><span id="local-6989586621690502765"><span class="annot"><span class="annottext">[ForeignKeys]
</span><a href="#local-6989586621690502765"><span class="hs-identifier hs-var">foreignKeys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-239"></span><span>  </span><span class="annot"><span class="annottext">forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><span class="hs-identifier hs-var">HashSet.fromList</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-240"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">join</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-241"></span><span>      </span><span class="annot"><span class="annottext">[ForeignKeys]
</span><a href="#local-6989586621690502765"><span class="hs-identifier hs-var">foreignKeys</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;&amp;&gt;</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-type">API.ForeignKeys</span></a></span><span> </span><span id="local-6989586621690502761"><span class="annot"><span class="annottext">HashMap ConstraintName Constraint
</span><a href="#local-6989586621690502761"><span class="hs-identifier hs-var">constraints</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-242"></span><span>        </span><span class="annot"><span class="annottext">HashMap ConstraintName Constraint
</span><a href="#local-6989586621690502761"><span class="hs-identifier hs-var">constraints</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">forall m k v. Monoid m =&gt; (k -&gt; v -&gt; m) -&gt; HashMap k v -&gt; m
</span><span class="hs-identifier hs-var">HashMap.foldMapWithKey</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.Types.Table.html#ForeignKeyMetadata"><span class="hs-identifier hs-type">RQL.T.T.ForeignKeyMetadata</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-243"></span><span>          </span><span class="hs-glyph">\</span><span id="local-6989586621690502758"><span class="annot"><span class="annottext">ConstraintName
</span><a href="#local-6989586621690502758"><span class="hs-identifier hs-var">constraintName</span></a></span></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-type">API.Constraint</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621690502755"><span id="local-6989586621690502756"><span class="annot"><span class="annottext">TableName
HashMap ColumnName ColumnName
_cForeignTable :: Constraint -&gt; TableName
_cColumnMapping :: Constraint -&gt; HashMap ColumnName ColumnName
_cColumnMapping :: HashMap ColumnName ColumnName
_cForeignTable :: TableName
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; [a]
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">maybeToList</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-244"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690502751"><span class="annot"><span class="annottext">columnMapAssocList :: [(ColumnName, ColumnName)]
</span><a href="#local-6989586621690502751"><span class="hs-identifier hs-var hs-var">columnMapAssocList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k v a. (k -&gt; v -&gt; a -&gt; a) -&gt; a -&gt; HashMap k v -&gt; a
</span><span class="hs-identifier hs-var">HashMap.foldrWithKey'</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-type">API.ColumnName</span></a></span><span> </span><span id="local-6989586621690502748"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690502748"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-type">API.ColumnName</span></a></span><span> </span><span id="local-6989586621690502747"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690502747"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621690502746"><span class="annot"><span class="annottext">[(ColumnName, ColumnName)]
</span><a href="#local-6989586621690502746"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; ColumnName
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#ColumnName"><span class="hs-identifier hs-var">DC.ColumnName</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690502748"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; ColumnName
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#ColumnName"><span class="hs-identifier hs-var">DC.ColumnName</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690502747"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/ghc-prim-0.8.0/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[(ColumnName, ColumnName)]
</span><a href="#local-6989586621690502746"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">HashMap ColumnName ColumnName
</span><a href="#local-6989586621690502755"><span class="hs-identifier hs-var">_cColumnMapping</span></a></span><span>
</span><span id="line-245"></span><span>            </span><span id="local-6989586621690502744"><span class="annot"><span class="annottext">NEHashMap ColumnName ColumnName
</span><a href="#local-6989586621690502744"><span class="hs-identifier hs-var">columnMapping</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; Maybe (NEHashMap k v)
</span><a href="Data.HashMap.Strict.NonEmpty.html#fromList"><span class="hs-identifier hs-var">NEHashMap.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[(ColumnName, ColumnName)]
</span><a href="#local-6989586621690502751"><span class="hs-identifier hs-var">columnMapAssocList</span></a></span><span>
</span><span id="line-246"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690502742"><span class="annot"><span class="annottext">foreignKey :: ForeignKey 'DataConnector
</span><a href="#local-6989586621690502742"><span class="hs-identifier hs-var hs-var">foreignKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-247"></span><span>                  </span><span class="annot"><a href="Hasura.RQL.Types.Table.html#ForeignKey"><span class="hs-identifier hs-type">RQL.T.T.ForeignKey</span></a></span><span>
</span><span id="line-248"></span><span>                    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_fkConstraint :: Constraint 'DataConnector
</span><a href="Hasura.RQL.Types.Table.html#_fkConstraint"><span class="hs-identifier hs-var">_fkConstraint</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType). ConstraintName b -&gt; OID -&gt; Constraint b
</span><a href="Hasura.RQL.Types.Table.html#Constraint"><span class="hs-identifier hs-var">RQL.T.T.Constraint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall source target. From source target =&gt; source -&gt; target
</span><span class="hs-identifier hs-var">Witch.from</span></span><span> </span><span class="annot"><span class="annottext">ConstraintName
</span><a href="#local-6989586621690502758"><span class="hs-identifier hs-var">constraintName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; OID
</span><a href="Hasura.RQL.Types.Common.html#OID"><span class="hs-identifier hs-var">OID</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-249"></span><span>                      </span><span class="annot"><span class="annottext">_fkForeignTable :: TableName 'DataConnector
</span><a href="Hasura.RQL.Types.Table.html#_fkForeignTable"><span class="hs-identifier hs-var">_fkForeignTable</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall source target. From source target =&gt; source -&gt; target
</span><span class="hs-identifier hs-var">Witch.from</span></span><span> </span><span class="annot"><span class="annottext">TableName
</span><a href="#local-6989586621690502756"><span class="hs-identifier hs-var">_cForeignTable</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-250"></span><span>                      </span><span class="annot"><span class="annottext">_fkColumnMapping :: NEHashMap (Column 'DataConnector) (Column 'DataConnector)
</span><a href="Hasura.RQL.Types.Table.html#_fkColumnMapping"><span class="hs-identifier hs-var">_fkColumnMapping</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NEHashMap ColumnName ColumnName
</span><a href="#local-6989586621690502744"><span class="hs-identifier hs-var">columnMapping</span></a></span><span>
</span><span id="line-251"></span><span>                    </span><span class="hs-special">}</span><span>
</span><span id="line-252"></span><span>            </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType). ForeignKey b -&gt; ForeignKeyMetadata b
</span><a href="Hasura.RQL.Types.Table.html#ForeignKeyMetadata"><span class="hs-identifier hs-var">RQL.T.T.ForeignKeyMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignKey 'DataConnector
</span><a href="#local-6989586621690502742"><span class="hs-identifier hs-var">foreignKey</span></a></span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span class="hs-comment">-- | This is needed to get permissions to work</span><span>
</span><span id="line-255"></span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#parseBoolExpOperations%27"><span class="hs-identifier hs-type">parseBoolExpOperations'</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-256"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621690504105"><span class="annot"><a href="#local-6989586621690504105"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621690504104"><span class="annot"><a href="#local-6989586621690504104"><span class="hs-identifier hs-type">v</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-257"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-type">MonadError</span></a></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504105"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#TableCoreInfoRM"><span class="hs-identifier hs-type">SchemaCache.TableCoreInfoRM</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504105"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-258"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ValueParser"><span class="hs-identifier hs-type">RQL.T.C.ValueParser</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504105"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504104"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-259"></span><span>  </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#TableName"><span class="hs-identifier hs-type">DC.TableName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-260"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Table.html#FieldInfoMap"><span class="hs-identifier hs-type">RQL.T.T.FieldInfoMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Table.html#FieldInfo"><span class="hs-identifier hs-type">RQL.T.T.FieldInfo</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-261"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnReference"><span class="hs-identifier hs-type">RQL.T.C.ColumnReference</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-262"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">J.Value</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-263"></span><span>  </span><span class="annot"><a href="#local-6989586621690504105"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#OpExpG"><span class="hs-identifier hs-type">OpExpG</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504104"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-264"></span><span id="parseBoolExpOperations%27"><span class="annot"><span class="annottext">parseBoolExpOperations' :: forall (m :: * -&gt; *) v.
(MonadError QErr m, TableCoreInfoRM 'DataConnector m) =&gt;
ValueParser 'DataConnector m v
-&gt; TableName
-&gt; FieldInfoMap (FieldInfo 'DataConnector)
-&gt; ColumnReference 'DataConnector
-&gt; Value
-&gt; m [OpExpG 'DataConnector v]
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#parseBoolExpOperations%27"><span class="hs-identifier hs-var hs-var">parseBoolExpOperations'</span></a></span></span><span> </span><span id="local-6989586621690502590"><span class="annot"><span class="annottext">ValueParser 'DataConnector m v
</span><a href="#local-6989586621690502590"><span class="hs-identifier hs-var">rhsParser</span></a></span></span><span> </span><span id="local-6989586621690502589"><span class="annot"><span class="annottext">TableName
</span><a href="#local-6989586621690502589"><span class="hs-identifier hs-var">rootTable</span></a></span></span><span> </span><span id="local-6989586621690502588"><span class="annot"><span class="annottext">FieldInfoMap (FieldInfo 'DataConnector)
</span><a href="#local-6989586621690502588"><span class="hs-identifier hs-var">fieldInfoMap</span></a></span></span><span> </span><span id="local-6989586621690502587"><span class="annot"><span class="annottext">ColumnReference 'DataConnector
</span><a href="#local-6989586621690502587"><span class="hs-identifier hs-var">columnRef</span></a></span></span><span> </span><span id="local-6989586621690502586"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502586"><span class="hs-identifier hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-265"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a -&gt; m a
</span><a href="Hasura.Base.Error.html#withPathK"><span class="hs-identifier hs-var">withPathK</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. ToTxt a =&gt; a -&gt; Text
</span><a href="Data.Text.Extended.html#toTxt"><span class="hs-identifier hs-var">toTxt</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnReference 'DataConnector
</span><a href="#local-6989586621690502587"><span class="hs-identifier hs-var">columnRef</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; m [OpExpG 'DataConnector v]
</span><a href="#local-6989586621690502585"><span class="hs-identifier hs-var">parseOperations</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502586"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-266"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-267"></span><span>    </span><span class="annot"><a href="#local-6989586621690502584"><span class="hs-identifier hs-type">columnType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnType"><span class="hs-identifier hs-type">RQL.T.C.ColumnType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span>
</span><span id="line-268"></span><span>    </span><span id="local-6989586621690502584"><span class="annot"><span class="annottext">columnType :: ColumnType 'DataConnector
</span><a href="#local-6989586621690502584"><span class="hs-identifier hs-var hs-var">columnType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (backend :: BackendType).
ColumnReference backend -&gt; ColumnType backend
</span><a href="Hasura.RQL.Types.Column.html#columnReferenceType"><span class="hs-identifier hs-var">RQL.T.C.columnReferenceType</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnReference 'DataConnector
</span><a href="#local-6989586621690502587"><span class="hs-identifier hs-var">columnRef</span></a></span><span>
</span><span id="line-269"></span><span>
</span><span id="line-270"></span><span>    </span><span id="local-6989586621690502582"><span class="annot"><span class="annottext">parseWithTy :: ColumnType 'DataConnector -&gt; Value -&gt; m v
</span><a href="#local-6989586621690502582"><span class="hs-identifier hs-var hs-var">parseWithTy</span></a></span></span><span> </span><span id="local-6989586621690502581"><span class="annot"><span class="annottext">ColumnType 'DataConnector
</span><a href="#local-6989586621690502581"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ValueParser 'DataConnector m v
</span><a href="#local-6989586621690502590"><span class="hs-identifier hs-var">rhsParser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; CollectableType a
</span><a href="Hasura.SQL.Types.html#CollectableTypeScalar"><span class="hs-identifier hs-var">CollectableTypeScalar</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType 'DataConnector
</span><a href="#local-6989586621690502581"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span>    </span><span class="annot"><a href="#local-6989586621690502585"><span class="hs-identifier hs-type">parseOperations</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">J.Value</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621690504105"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#OpExpG"><span class="hs-identifier hs-type">OpExpG</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504104"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-273"></span><span>    </span><span id="local-6989586621690502585"><span class="annot"><span class="annottext">parseOperations :: Value -&gt; m [OpExpG 'DataConnector v]
</span><a href="#local-6989586621690502585"><span class="hs-identifier hs-var hs-var">parseOperations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-274"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">J.Object</span></span><span> </span><span id="local-6989586621690502578"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621690502578"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Text, Value) -&gt; m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502576"><span class="hs-identifier hs-var">parseOperation</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: * -&gt; * -&gt; *) b c d.
Arrow a =&gt;
a b c -&gt; a (b, d) (c, d)
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Text
</span><span class="hs-identifier hs-var">K.toText</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall v. KeyMap v -&gt; [(Key, v)]
</span><span class="hs-identifier hs-var">KM.toList</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621690502578"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-275"></span><span>      </span><span id="local-6989586621690502573"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502573"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (backend :: BackendType) field.
Bool -&gt; field -&gt; OpExpG backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#AEQ"><span class="hs-identifier hs-var">AEQ</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType 'DataConnector -&gt; Value -&gt; m v
</span><a href="#local-6989586621690502582"><span class="hs-identifier hs-var">parseWithTy</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType 'DataConnector
</span><a href="#local-6989586621690502584"><span class="hs-identifier hs-var">columnType</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502573"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span>    </span><span class="annot"><a href="#local-6989586621690502576"><span class="hs-identifier hs-type">parseOperation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">J.Value</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621690504105"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#OpExpG"><span class="hs-identifier hs-type">OpExpG</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690504104"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-278"></span><span>    </span><span id="local-6989586621690502576"><span class="annot"><span class="annottext">parseOperation :: (Text, Value) -&gt; m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502576"><span class="hs-identifier hs-var hs-var">parseOperation</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621690502571"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690502571"><span class="hs-identifier hs-var">opStr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621690502570"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502570"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a -&gt; m a
</span><a href="Hasura.Base.Error.html#withPathK"><span class="hs-identifier hs-var">withPathK</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690502571"><span class="hs-identifier hs-var">opStr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-279"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690502571"><span class="hs-identifier hs-var">opStr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-280"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;_eq&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502569"><span class="hs-identifier hs-var">parseEq</span></a></span><span>
</span><span id="line-281"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;$eq&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502569"><span class="hs-identifier hs-var">parseEq</span></a></span><span>
</span><span id="line-282"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;_neq&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502568"><span class="hs-identifier hs-var">parseNeq</span></a></span><span>
</span><span id="line-283"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;$neq&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502568"><span class="hs-identifier hs-var">parseNeq</span></a></span><span>
</span><span id="line-284"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;_gt&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502567"><span class="hs-identifier hs-var">parseGt</span></a></span><span>
</span><span id="line-285"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;$gt&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502567"><span class="hs-identifier hs-var">parseGt</span></a></span><span>
</span><span id="line-286"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;_lt&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502566"><span class="hs-identifier hs-var">parseLt</span></a></span><span>
</span><span id="line-287"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;$lt&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502566"><span class="hs-identifier hs-var">parseLt</span></a></span><span>
</span><span id="line-288"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;_gte&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502565"><span class="hs-identifier hs-var">parseGte</span></a></span><span>
</span><span id="line-289"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;$gte&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502565"><span class="hs-identifier hs-var">parseGte</span></a></span><span>
</span><span id="line-290"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;_lte&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502564"><span class="hs-identifier hs-var">parseLte</span></a></span><span>
</span><span id="line-291"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;$lte&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502564"><span class="hs-identifier hs-var">parseLte</span></a></span><span>
</span><span id="line-292"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;_in&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502563"><span class="hs-identifier hs-var">parseIn</span></a></span><span>
</span><span id="line-293"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;$in&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502563"><span class="hs-identifier hs-var">parseIn</span></a></span><span>
</span><span id="line-294"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;_nin&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502562"><span class="hs-identifier hs-var">parseNin</span></a></span><span>
</span><span id="line-295"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;$nin&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502562"><span class="hs-identifier hs-var">parseNin</span></a></span><span>
</span><span id="line-296"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;_is_null&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502561"><span class="hs-identifier hs-var">parseIsNull</span></a></span><span>
</span><span id="line-297"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;$is_null&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502561"><span class="hs-identifier hs-var">parseIsNull</span></a></span><span>
</span><span id="line-298"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;_ceq&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502560"><span class="hs-identifier hs-var">parseCeq</span></a></span><span>
</span><span id="line-299"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;$ceq&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502560"><span class="hs-identifier hs-var">parseCeq</span></a></span><span>
</span><span id="line-300"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;_cneq&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502559"><span class="hs-identifier hs-var">parseCne</span></a></span><span>
</span><span id="line-301"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;$cneq&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502559"><span class="hs-identifier hs-var">parseCne</span></a></span><span>
</span><span id="line-302"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;_cgt&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502558"><span class="hs-identifier hs-var">parseCgt</span></a></span><span>
</span><span id="line-303"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;$cgt&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502558"><span class="hs-identifier hs-var">parseCgt</span></a></span><span>
</span><span id="line-304"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;_clt&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502557"><span class="hs-identifier hs-var">parseClt</span></a></span><span>
</span><span id="line-305"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;$clt&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502557"><span class="hs-identifier hs-var">parseClt</span></a></span><span>
</span><span id="line-306"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;_cgte&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502556"><span class="hs-identifier hs-var">parseCgte</span></a></span><span>
</span><span id="line-307"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;$cgte&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502556"><span class="hs-identifier hs-var">parseCgte</span></a></span><span>
</span><span id="line-308"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;_clte&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502555"><span class="hs-identifier hs-var">parseClte</span></a></span><span>
</span><span id="line-309"></span><span>        </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;$clte&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502555"><span class="hs-identifier hs-var">parseClte</span></a></span><span>
</span><span id="line-310"></span><span>        </span><span class="hs-comment">-- &quot;_like&quot;          -&gt; parseLike</span><span>
</span><span id="line-311"></span><span>        </span><span class="hs-comment">-- &quot;$like&quot;          -&gt; parseLike</span><span>
</span><span id="line-312"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-313"></span><span>        </span><span class="hs-comment">-- &quot;_nlike&quot;         -&gt; parseNlike</span><span>
</span><span id="line-314"></span><span>        </span><span class="hs-comment">-- &quot;$nlike&quot;         -&gt; parseNlike</span><span>
</span><span id="line-315"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-316"></span><span>        </span><span class="hs-comment">-- &quot;_cast&quot; -&gt; parseCast</span><span>
</span><span id="line-317"></span><span>        </span><span class="hs-comment">-- &quot;$cast&quot; -&gt; parseCast</span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span>        </span><span id="local-6989586621690502554"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690502554"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><a href="Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-var">throw400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="Hasura.Base.Error.html#UnexpectedPayload"><span class="hs-identifier hs-var">UnexpectedPayload</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Unknown operator: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690502554"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-320"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-321"></span><span>        </span><span id="local-6989586621690502552"><span class="annot"><span class="annottext">parseOne :: m v
</span><a href="#local-6989586621690502552"><span class="hs-identifier hs-var hs-var">parseOne</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ColumnType 'DataConnector -&gt; Value -&gt; m v
</span><a href="#local-6989586621690502582"><span class="hs-identifier hs-var">parseWithTy</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType 'DataConnector
</span><a href="#local-6989586621690502584"><span class="hs-identifier hs-var">columnType</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502570"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-322"></span><span>        </span><span id="local-6989586621690502551"><span class="annot"><span class="annottext">parseManyWithType :: ColumnType 'DataConnector -&gt; m v
</span><a href="#local-6989586621690502551"><span class="hs-identifier hs-var hs-var">parseManyWithType</span></a></span></span><span> </span><span id="local-6989586621690502550"><span class="annot"><span class="annottext">ColumnType 'DataConnector
</span><a href="#local-6989586621690502550"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ValueParser 'DataConnector m v
</span><a href="#local-6989586621690502590"><span class="hs-identifier hs-var">rhsParser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; CollectableType a
</span><a href="Hasura.SQL.Types.html#CollectableTypeArray"><span class="hs-identifier hs-var">CollectableTypeArray</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType 'DataConnector
</span><a href="#local-6989586621690502550"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502570"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span>        </span><span id="local-6989586621690502569"><span class="annot"><span class="annottext">parseEq :: m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502569"><span class="hs-identifier hs-var hs-var">parseEq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (backend :: BackendType) field.
Bool -&gt; field -&gt; OpExpG backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#AEQ"><span class="hs-identifier hs-var">AEQ</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">m v
</span><a href="#local-6989586621690502552"><span class="hs-identifier hs-var">parseOne</span></a></span><span>
</span><span id="line-325"></span><span>        </span><span id="local-6989586621690502568"><span class="annot"><span class="annottext">parseNeq :: m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502568"><span class="hs-identifier hs-var hs-var">parseNeq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (backend :: BackendType) field.
Bool -&gt; field -&gt; OpExpG backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#ANE"><span class="hs-identifier hs-var">ANE</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">m v
</span><a href="#local-6989586621690502552"><span class="hs-identifier hs-var">parseOne</span></a></span><span>
</span><span id="line-326"></span><span>        </span><span id="local-6989586621690502563"><span class="annot"><span class="annottext">parseIn :: m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502563"><span class="hs-identifier hs-var hs-var">parseIn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (backend :: BackendType) field.
field -&gt; OpExpG backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#AIN"><span class="hs-identifier hs-var">AIN</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType 'DataConnector -&gt; m v
</span><a href="#local-6989586621690502551"><span class="hs-identifier hs-var">parseManyWithType</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType 'DataConnector
</span><a href="#local-6989586621690502584"><span class="hs-identifier hs-var">columnType</span></a></span><span>
</span><span id="line-327"></span><span>        </span><span id="local-6989586621690502562"><span class="annot"><span class="annottext">parseNin :: m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502562"><span class="hs-identifier hs-var hs-var">parseNin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (backend :: BackendType) field.
field -&gt; OpExpG backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#ANIN"><span class="hs-identifier hs-var">ANIN</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType 'DataConnector -&gt; m v
</span><a href="#local-6989586621690502551"><span class="hs-identifier hs-var">parseManyWithType</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType 'DataConnector
</span><a href="#local-6989586621690502584"><span class="hs-identifier hs-var">columnType</span></a></span><span>
</span><span id="line-328"></span><span>        </span><span id="local-6989586621690502567"><span class="annot"><span class="annottext">parseGt :: m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502567"><span class="hs-identifier hs-var hs-var">parseGt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (backend :: BackendType) field.
field -&gt; OpExpG backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#AGT"><span class="hs-identifier hs-var">AGT</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">m v
</span><a href="#local-6989586621690502552"><span class="hs-identifier hs-var">parseOne</span></a></span><span>
</span><span id="line-329"></span><span>        </span><span id="local-6989586621690502566"><span class="annot"><span class="annottext">parseLt :: m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502566"><span class="hs-identifier hs-var hs-var">parseLt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (backend :: BackendType) field.
field -&gt; OpExpG backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#ALT"><span class="hs-identifier hs-var">ALT</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">m v
</span><a href="#local-6989586621690502552"><span class="hs-identifier hs-var">parseOne</span></a></span><span>
</span><span id="line-330"></span><span>        </span><span id="local-6989586621690502565"><span class="annot"><span class="annottext">parseGte :: m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502565"><span class="hs-identifier hs-var hs-var">parseGte</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (backend :: BackendType) field.
field -&gt; OpExpG backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#AGTE"><span class="hs-identifier hs-var">AGTE</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">m v
</span><a href="#local-6989586621690502552"><span class="hs-identifier hs-var">parseOne</span></a></span><span>
</span><span id="line-331"></span><span>        </span><span id="local-6989586621690502564"><span class="annot"><span class="annottext">parseLte :: m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502564"><span class="hs-identifier hs-var hs-var">parseLte</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (backend :: BackendType) field.
field -&gt; OpExpG backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#ALTE"><span class="hs-identifier hs-var">ALTE</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">m v
</span><a href="#local-6989586621690502552"><span class="hs-identifier hs-var">parseOne</span></a></span><span>
</span><span id="line-332"></span><span>        </span><span id="local-6989586621690502561"><span class="annot"><span class="annottext">parseIsNull :: m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502561"><span class="hs-identifier hs-var hs-var">parseIsNull</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a -&gt; Bool -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">bool</span></a></span><span> </span><span class="annot"><span class="annottext">forall (backend :: BackendType) field. OpExpG backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#ANISNOTNULL"><span class="hs-identifier hs-var">ANISNOTNULL</span></a></span><span> </span><span class="annot"><span class="annottext">forall (backend :: BackendType) field. OpExpG backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#ANISNULL"><span class="hs-identifier hs-var">ANISNULL</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a (m :: * -&gt; *). (FromJSON a, QErrM m) =&gt; Value -&gt; m a
</span><a href="Hasura.Base.Error.html#decodeValue"><span class="hs-identifier hs-var">decodeValue</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502570"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-333"></span><span>        </span><span id="local-6989586621690502560"><span class="annot"><span class="annottext">parseCeq :: m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502560"><span class="hs-identifier hs-var hs-var">parseCeq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (backend :: BackendType) field.
RootOrCurrentColumn backend -&gt; OpExpG backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#CEQ"><span class="hs-identifier hs-var">CEQ</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; m (RootOrCurrentColumn 'DataConnector)
</span><a href="#local-6989586621690502537"><span class="hs-identifier hs-var">decodeAndValidateRhsCol</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502570"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-334"></span><span>        </span><span id="local-6989586621690502559"><span class="annot"><span class="annottext">parseCne :: m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502559"><span class="hs-identifier hs-var hs-var">parseCne</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (backend :: BackendType) field.
RootOrCurrentColumn backend -&gt; OpExpG backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#CNE"><span class="hs-identifier hs-var">CNE</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; m (RootOrCurrentColumn 'DataConnector)
</span><a href="#local-6989586621690502537"><span class="hs-identifier hs-var">decodeAndValidateRhsCol</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502570"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-335"></span><span>        </span><span id="local-6989586621690502558"><span class="annot"><span class="annottext">parseCgt :: m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502558"><span class="hs-identifier hs-var hs-var">parseCgt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (backend :: BackendType) field.
RootOrCurrentColumn backend -&gt; OpExpG backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#CGT"><span class="hs-identifier hs-var">CGT</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; m (RootOrCurrentColumn 'DataConnector)
</span><a href="#local-6989586621690502537"><span class="hs-identifier hs-var">decodeAndValidateRhsCol</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502570"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-336"></span><span>        </span><span id="local-6989586621690502557"><span class="annot"><span class="annottext">parseClt :: m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502557"><span class="hs-identifier hs-var hs-var">parseClt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (backend :: BackendType) field.
RootOrCurrentColumn backend -&gt; OpExpG backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#CLT"><span class="hs-identifier hs-var">CLT</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; m (RootOrCurrentColumn 'DataConnector)
</span><a href="#local-6989586621690502537"><span class="hs-identifier hs-var">decodeAndValidateRhsCol</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502570"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-337"></span><span>        </span><span id="local-6989586621690502556"><span class="annot"><span class="annottext">parseCgte :: m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502556"><span class="hs-identifier hs-var hs-var">parseCgte</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (backend :: BackendType) field.
RootOrCurrentColumn backend -&gt; OpExpG backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#CGTE"><span class="hs-identifier hs-var">CGTE</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; m (RootOrCurrentColumn 'DataConnector)
</span><a href="#local-6989586621690502537"><span class="hs-identifier hs-var">decodeAndValidateRhsCol</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502570"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-338"></span><span>        </span><span id="local-6989586621690502555"><span class="annot"><span class="annottext">parseClte :: m (OpExpG 'DataConnector v)
</span><a href="#local-6989586621690502555"><span class="hs-identifier hs-var hs-var">parseClte</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (backend :: BackendType) field.
RootOrCurrentColumn backend -&gt; OpExpG backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#CLTE"><span class="hs-identifier hs-var">CLTE</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; m (RootOrCurrentColumn 'DataConnector)
</span><a href="#local-6989586621690502537"><span class="hs-identifier hs-var">decodeAndValidateRhsCol</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502570"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span>        </span><span class="annot"><a href="#local-6989586621690502537"><span class="hs-identifier hs-type">decodeAndValidateRhsCol</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">J.Value</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621690504105"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#RootOrCurrentColumn"><span class="hs-identifier hs-type">RootOrCurrentColumn</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span>        </span><span id="local-6989586621690502537"><span class="annot"><span class="annottext">decodeAndValidateRhsCol :: Value -&gt; m (RootOrCurrentColumn 'DataConnector)
</span><a href="#local-6989586621690502537"><span class="hs-identifier hs-var hs-var">decodeAndValidateRhsCol</span></a></span></span><span> </span><span id="local-6989586621690502531"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502531"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502531"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-342"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">J.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RootOrCurrent
-&gt; FieldInfoMap (FieldInfo 'DataConnector)
-&gt; Value
-&gt; m (RootOrCurrentColumn 'DataConnector)
</span><a href="#local-6989586621690502529"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">RootOrCurrent
</span><a href="Hasura.RQL.IR.BoolExp.html#IsCurrent"><span class="hs-identifier hs-var">IsCurrent</span></a></span><span> </span><span class="annot"><span class="annottext">FieldInfoMap (FieldInfo 'DataConnector)
</span><a href="#local-6989586621690502588"><span class="hs-identifier hs-var">fieldInfoMap</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502531"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-343"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">J.Array</span></span><span> </span><span id="local-6989586621690502526"><span class="annot"><span class="annottext">Array
</span><a href="#local-6989586621690502526"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">toList</span></a></span><span> </span><span class="annot"><span class="annottext">Array
</span><a href="#local-6989586621690502526"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-344"></span><span>            </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><a href="Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-var">throw400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="Hasura.Base.Error.html#Unexpected"><span class="hs-identifier hs-var">Unexpected</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;path cannot be empty&quot;</span></span><span>
</span><span id="line-345"></span><span>            </span><span class="hs-special">[</span><span id="local-6989586621690502523"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502523"><span class="hs-identifier hs-var">col</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RootOrCurrent
-&gt; FieldInfoMap (FieldInfo 'DataConnector)
-&gt; Value
-&gt; m (RootOrCurrentColumn 'DataConnector)
</span><a href="#local-6989586621690502529"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">RootOrCurrent
</span><a href="Hasura.RQL.IR.BoolExp.html#IsCurrent"><span class="hs-identifier hs-var">IsCurrent</span></a></span><span> </span><span class="annot"><span class="annottext">FieldInfoMap (FieldInfo 'DataConnector)
</span><a href="#local-6989586621690502588"><span class="hs-identifier hs-var">fieldInfoMap</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502523"><span class="hs-identifier hs-var">col</span></a></span><span>
</span><span id="line-346"></span><span>            </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">J.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;$&quot;</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621690502522"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502522"><span class="hs-identifier hs-var">col</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-347"></span><span>              </span><span id="local-6989586621690502521"><span class="annot"><span class="annottext">TableCoreInfo 'DataConnector
</span><a href="#local-6989586621690502521"><span class="hs-identifier hs-var">rootTableInfo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-348"></span><span>                </span><span class="annot"><span class="annottext">forall (b :: BackendType) (m :: * -&gt; *).
TableCoreInfoRM b m =&gt;
TableName b -&gt; m (Maybe (TableCoreInfo b))
</span><a href="Hasura.RQL.Types.SchemaCache.html#lookupTableCoreInfo"><span class="hs-identifier hs-var">SchemaCache.lookupTableCoreInfo</span></a></span><span> </span><span class="annot"><span class="annottext">TableName
</span><a href="#local-6989586621690502589"><span class="hs-identifier hs-var">rootTable</span></a></span><span>
</span><span id="line-349"></span><span>                  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier hs-var">onNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.Base.Error.html#throw500"><span class="hs-identifier hs-var">throw500</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;unexpected: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TableName
</span><a href="#local-6989586621690502589"><span class="hs-identifier hs-var">rootTable</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; doesn't exist&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-350"></span><span>              </span><span class="annot"><span class="annottext">RootOrCurrent
-&gt; FieldInfoMap (FieldInfo 'DataConnector)
-&gt; Value
-&gt; m (RootOrCurrentColumn 'DataConnector)
</span><a href="#local-6989586621690502529"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">RootOrCurrent
</span><a href="Hasura.RQL.IR.BoolExp.html#IsRoot"><span class="hs-identifier hs-var">IsRoot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (b :: BackendType) field primaryKeyColumn.
TableCoreInfoG b field primaryKeyColumn -&gt; FieldInfoMap field
</span><a href="Hasura.RQL.Types.Table.html#_tciFieldInfoMap"><span class="hs-identifier hs-var">RQL.T.T._tciFieldInfoMap</span></a></span><span> </span><span class="annot"><span class="annottext">TableCoreInfo 'DataConnector
</span><a href="#local-6989586621690502521"><span class="hs-identifier hs-var">rootTableInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502522"><span class="hs-identifier hs-var">col</span></a></span><span>
</span><span id="line-351"></span><span>            </span><span class="annot"><span class="annottext">[Value]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><a href="Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-var">throw400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="Hasura.Base.Error.html#NotSupported"><span class="hs-identifier hs-var">NotSupported</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Relationship references are not supported in column comparison RHS&quot;</span></span><span>
</span><span id="line-352"></span><span>          </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><a href="Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-var">throw400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="Hasura.Base.Error.html#Unexpected"><span class="hs-identifier hs-var">Unexpected</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;a boolean expression JSON must be either a string or an array&quot;</span></span><span>
</span><span id="line-353"></span><span>          </span><span class="hs-keyword">where</span><span>
</span><span id="line-354"></span><span>            </span><span id="local-6989586621690502529"><span class="annot"><span class="annottext">go :: RootOrCurrent
-&gt; FieldInfoMap (FieldInfo 'DataConnector)
-&gt; Value
-&gt; m (RootOrCurrentColumn 'DataConnector)
</span><a href="#local-6989586621690502529"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621690502516"><span class="annot"><span class="annottext">RootOrCurrent
</span><a href="#local-6989586621690502516"><span class="hs-identifier hs-var">rootInfo</span></a></span></span><span> </span><span id="local-6989586621690502515"><span class="annot"><span class="annottext">FieldInfoMap (FieldInfo 'DataConnector)
</span><a href="#local-6989586621690502515"><span class="hs-identifier hs-var">fieldInfoMap'</span></a></span></span><span> </span><span id="local-6989586621690502514"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502514"><span class="hs-identifier hs-var">columnValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-355"></span><span>              </span><span id="local-6989586621690502513"><span class="annot"><span class="annottext">ColumnName
</span><a href="#local-6989586621690502513"><span class="hs-identifier hs-var">colName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a (m :: * -&gt; *). (FromJSON a, QErrM m) =&gt; Value -&gt; m a
</span><a href="Hasura.Base.Error.html#decodeValue"><span class="hs-identifier hs-var">decodeValue</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502514"><span class="hs-identifier hs-var">columnValue</span></a></span><span>
</span><span id="line-356"></span><span>              </span><span id="local-6989586621690502512"><span class="annot"><span class="annottext">ColumnName
</span><a href="#local-6989586621690502512"><span class="hs-identifier hs-var">colInfo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FieldInfoMap (FieldInfo 'DataConnector)
-&gt; ColumnName -&gt; m ColumnName
</span><a href="#local-6989586621690502511"><span class="hs-identifier hs-var">validateRhsColumn</span></a></span><span> </span><span class="annot"><span class="annottext">FieldInfoMap (FieldInfo 'DataConnector)
</span><a href="#local-6989586621690502515"><span class="hs-identifier hs-var">fieldInfoMap'</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnName
</span><a href="#local-6989586621690502513"><span class="hs-identifier hs-var">colName</span></a></span><span>
</span><span id="line-357"></span><span>              </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType).
RootOrCurrent -&gt; Column b -&gt; RootOrCurrentColumn b
</span><a href="Hasura.RQL.IR.BoolExp.html#RootOrCurrentColumn"><span class="hs-identifier hs-var">RootOrCurrentColumn</span></a></span><span> </span><span class="annot"><span class="annottext">RootOrCurrent
</span><a href="#local-6989586621690502516"><span class="hs-identifier hs-var">rootInfo</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnName
</span><a href="#local-6989586621690502512"><span class="hs-identifier hs-var">colInfo</span></a></span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span>        </span><span class="annot"><a href="#local-6989586621690502511"><span class="hs-identifier hs-type">validateRhsColumn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Table.html#FieldInfoMap"><span class="hs-identifier hs-type">RQL.T.T.FieldInfoMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Table.html#FieldInfo"><span class="hs-identifier hs-type">RQL.T.T.FieldInfo</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#ColumnName"><span class="hs-identifier hs-type">DC.ColumnName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621690504105"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#ColumnName"><span class="hs-identifier hs-type">DC.ColumnName</span></a></span><span>
</span><span id="line-360"></span><span>        </span><span id="local-6989586621690502511"><span class="annot"><span class="annottext">validateRhsColumn :: FieldInfoMap (FieldInfo 'DataConnector)
-&gt; ColumnName -&gt; m ColumnName
</span><a href="#local-6989586621690502511"><span class="hs-identifier hs-var hs-var">validateRhsColumn</span></a></span></span><span> </span><span id="local-6989586621690502509"><span class="annot"><span class="annottext">FieldInfoMap (FieldInfo 'DataConnector)
</span><a href="#local-6989586621690502509"><span class="hs-identifier hs-var">fieldInfoMap'</span></a></span></span><span> </span><span id="local-6989586621690502508"><span class="annot"><span class="annottext">ColumnName
</span><a href="#local-6989586621690502508"><span class="hs-identifier hs-var">rhsCol</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-361"></span><span>          </span><span id="local-6989586621690502507"><span class="annot"><span class="annottext">ColumnType 'DataConnector
</span><a href="#local-6989586621690502507"><span class="hs-identifier hs-var">rhsType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) (backend :: BackendType).
(MonadError QErr m, Backend backend) =&gt;
FieldInfoMap (FieldInfo backend)
-&gt; Column backend -&gt; Text -&gt; m (ColumnType backend)
</span><a href="Hasura.RQL.Types.Table.html#askColumnType"><span class="hs-identifier hs-var">RQL.T.T.askColumnType</span></a></span><span> </span><span class="annot"><span class="annottext">FieldInfoMap (FieldInfo 'DataConnector)
</span><a href="#local-6989586621690502509"><span class="hs-identifier hs-var">fieldInfoMap'</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnName
</span><a href="#local-6989586621690502508"><span class="hs-identifier hs-var">rhsCol</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;column operators can only compare table columns&quot;</span></span><span>
</span><span id="line-362"></span><span>          </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnType 'DataConnector
</span><a href="#local-6989586621690502584"><span class="hs-identifier hs-var">columnType</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType 'DataConnector
</span><a href="#local-6989586621690502507"><span class="hs-identifier hs-var">rhsType</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-363"></span><span>            </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><a href="Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-var">throw400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="Hasura.Base.Error.html#UnexpectedPayload"><span class="hs-identifier hs-var">UnexpectedPayload</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-364"></span><span>              </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;incompatible column types: &quot;</span></span><span>
</span><span id="line-365"></span><span>                </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnReference 'DataConnector
</span><a href="#local-6989586621690502587"><span class="hs-identifier hs-var">columnRef</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; has type &quot;</span></span><span>
</span><span id="line-366"></span><span>                </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType 'DataConnector
</span><a href="#local-6989586621690502584"><span class="hs-identifier hs-var">columnType</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;, but &quot;</span></span><span>
</span><span id="line-367"></span><span>                </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnName
</span><a href="#local-6989586621690502508"><span class="hs-identifier hs-var">rhsCol</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; has type &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; Text -&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3E%3E"><span class="hs-operator hs-var">&lt;&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType 'DataConnector
</span><a href="#local-6989586621690502507"><span class="hs-identifier hs-var">rhsType</span></a></span><span>
</span><span id="line-368"></span><span>          </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnName
</span><a href="#local-6989586621690502508"><span class="hs-identifier hs-var">rhsCol</span></a></span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span id="local-6989586621690502503"><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#parseCollectableType%27"><span class="hs-identifier hs-type">parseCollectableType'</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-371"></span><span>  </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-type">MonadError</span></a></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690502503"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-372"></span><span>  </span><span class="annot"><a href="Hasura.SQL.Types.html#CollectableType"><span class="hs-identifier hs-type">CollectableType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnType"><span class="hs-identifier hs-type">RQL.T.C.ColumnType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-373"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">J.Value</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-374"></span><span>  </span><span class="annot"><a href="#local-6989586621690502503"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#PartialSQLExp"><span class="hs-identifier hs-type">PartialSQLExp</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-375"></span><span id="parseCollectableType%27"><span class="annot"><span class="annottext">parseCollectableType' :: forall (m :: * -&gt; *).
MonadError QErr m =&gt;
CollectableType (ColumnType 'DataConnector)
-&gt; Value -&gt; m (PartialSQLExp 'DataConnector)
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#parseCollectableType%27"><span class="hs-identifier hs-var hs-var">parseCollectableType'</span></a></span></span><span> </span><span id="local-6989586621690502489"><span class="annot"><span class="annottext">CollectableType (ColumnType 'DataConnector)
</span><a href="#local-6989586621690502489"><span class="hs-identifier hs-var">collectableType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-376"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">J.String</span></span><span> </span><span id="local-6989586621690502488"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690502488"><span class="hs-identifier hs-var">t</span></a></span></span><span>
</span><span id="line-377"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><a href="Hasura.Server.Utils.html#isSessionVariable"><span class="hs-identifier hs-var">HSU.isSessionVariable</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690502488"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CollectableType (ColumnType 'DataConnector)
-&gt; SessionVariable -&gt; PartialSQLExp 'DataConnector
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#mkTypedSessionVar"><span class="hs-identifier hs-var">mkTypedSessionVar</span></a></span><span> </span><span class="annot"><span class="annottext">CollectableType (ColumnType 'DataConnector)
</span><a href="#local-6989586621690502489"><span class="hs-identifier hs-var">collectableType</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; SessionVariable
</span><a href="Hasura.Session.html#mkSessionVariable"><span class="hs-identifier hs-var">mkSessionVariable</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690502488"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-378"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><a href="Hasura.Server.Utils.html#isReqUserId"><span class="hs-identifier hs-var">HSU.isReqUserId</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690502488"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CollectableType (ColumnType 'DataConnector)
-&gt; SessionVariable -&gt; PartialSQLExp 'DataConnector
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#mkTypedSessionVar"><span class="hs-identifier hs-var">mkTypedSessionVar</span></a></span><span> </span><span class="annot"><span class="annottext">CollectableType (ColumnType 'DataConnector)
</span><a href="#local-6989586621690502489"><span class="hs-identifier hs-var">collectableType</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. IsString a =&gt; a
</span><a href="Hasura.Server.Utils.html#userIdHeader"><span class="hs-identifier hs-var">HSU.userIdHeader</span></a></span><span>
</span><span id="line-379"></span><span>  </span><span id="local-6989586621690502483"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502483"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CollectableType (ColumnType 'DataConnector)
</span><a href="#local-6989586621690502489"><span class="hs-identifier hs-var">collectableType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-380"></span><span>    </span><span class="annot"><a href="Hasura.SQL.Types.html#CollectableTypeScalar"><span class="hs-identifier hs-type">CollectableTypeScalar</span></a></span><span> </span><span id="local-6989586621690502482"><span class="annot"><span class="annottext">ColumnType 'DataConnector
</span><a href="#local-6989586621690502482"><span class="hs-identifier hs-var">scalarType</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-381"></span><span>      </span><span class="annot"><span class="annottext">forall (backend :: BackendType).
SQLExpression backend -&gt; PartialSQLExp backend
</span><a href="Hasura.RQL.IR.BoolExp.html#PSESQLExp"><span class="hs-identifier hs-var">PSESQLExp</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Literal
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#ValueLiteral"><span class="hs-identifier hs-var">DC.ValueLiteral</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) (b :: BackendType).
(MonadError QErr m, Backend b) =&gt;
ColumnType b -&gt; Value -&gt; m (ScalarValue b)
</span><a href="Hasura.RQL.Types.Column.html#parseScalarValueColumnType"><span class="hs-identifier hs-var">RQL.T.C.parseScalarValueColumnType</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType 'DataConnector
</span><a href="#local-6989586621690502482"><span class="hs-identifier hs-var">scalarType</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690502483"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-382"></span><span>    </span><span class="annot"><a href="Hasura.SQL.Types.html#CollectableTypeArray"><span class="hs-identifier hs-type">CollectableTypeArray</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType 'DataConnector
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-383"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><a href="Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-var">throw400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="Hasura.Base.Error.html#NotSupported"><span class="hs-identifier hs-var">NotSupported</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Array types are not supported by the Data Connector backend&quot;</span></span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#mkTypedSessionVar"><span class="hs-identifier hs-type">mkTypedSessionVar</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-386"></span><span>  </span><span class="annot"><a href="Hasura.SQL.Types.html#CollectableType"><span class="hs-identifier hs-type">CollectableType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnType"><span class="hs-identifier hs-type">RQL.T.C.ColumnType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-387"></span><span>  </span><span class="annot"><a href="Hasura.Session.html#SessionVariable"><span class="hs-identifier hs-type">SessionVariable</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-388"></span><span>  </span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#PartialSQLExp"><span class="hs-identifier hs-type">PartialSQLExp</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span>
</span><span id="line-389"></span><span id="mkTypedSessionVar"><span class="annot"><span class="annottext">mkTypedSessionVar :: CollectableType (ColumnType 'DataConnector)
-&gt; SessionVariable -&gt; PartialSQLExp 'DataConnector
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#mkTypedSessionVar"><span class="hs-identifier hs-var hs-var">mkTypedSessionVar</span></a></span></span><span> </span><span id="local-6989586621690502478"><span class="annot"><span class="annottext">CollectableType (ColumnType 'DataConnector)
</span><a href="#local-6989586621690502478"><span class="hs-identifier hs-var">columnType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-390"></span><span>  </span><span class="annot"><span class="annottext">forall (backend :: BackendType).
SessionVarType backend -&gt; SessionVariable -&gt; PartialSQLExp backend
</span><a href="Hasura.RQL.IR.BoolExp.html#PSESessVar"><span class="hs-identifier hs-var">PSESessVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnType 'DataConnector -&gt; ScalarType
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#columnTypeToScalarType"><span class="hs-identifier hs-var">columnTypeToScalarType</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CollectableType (ColumnType 'DataConnector)
</span><a href="#local-6989586621690502478"><span class="hs-identifier hs-var">columnType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#columnTypeToScalarType"><span class="hs-identifier hs-type">columnTypeToScalarType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnType"><span class="hs-identifier hs-type">RQL.T.C.ColumnType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#DataConnector"><span class="hs-identifier hs-type">DataConnector</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Types.html#ScalarType"><span class="hs-identifier hs-type">DC.ScalarType</span></a></span><span>
</span><span id="line-393"></span><span id="columnTypeToScalarType"><span class="annot"><span class="annottext">columnTypeToScalarType :: ColumnType 'DataConnector -&gt; ScalarType
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#columnTypeToScalarType"><span class="hs-identifier hs-var hs-var">columnTypeToScalarType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-394"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnScalar"><span class="hs-identifier hs-type">RQL.T.C.ColumnScalar</span></a></span><span> </span><span id="local-6989586621690502474"><span class="annot"><span class="annottext">ScalarType 'DataConnector
</span><a href="#local-6989586621690502474"><span class="hs-identifier hs-var">scalarType</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ScalarType 'DataConnector
</span><a href="#local-6989586621690502474"><span class="hs-identifier hs-var">scalarType</span></a></span><span>
</span><span id="line-395"></span><span>  </span><span class="hs-comment">-- NOTE: This should be unreachable:</span><span>
</span><span id="line-396"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnEnumReference"><span class="hs-identifier hs-type">RQL.T.C.ColumnEnumReference</span></a></span><span> </span><span class="annot"><span class="annottext">EnumReference 'DataConnector
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ScalarType
</span><a href="Hasura.Backends.DataConnector.Adapter.Types.html#StringTy"><span class="hs-identifier hs-var">DC.StringTy</span></a></span><span>
</span><span id="line-397"></span><span>
</span><span id="line-398"></span><span id="local-6989586621690503842"><span id="local-6989586621690503843"><span class="annot"><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#errorAction"><span class="hs-identifier hs-type">errorAction</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.4/share/doc/ghc-9.2.4.20220919/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-type">MonadError</span></a></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690503843"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-type">API.ErrorResponse</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621690503843"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690503842"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-399"></span><span id="errorAction"><span class="annot"><span class="annottext">errorAction :: forall (m :: * -&gt; *) a. MonadError QErr m =&gt; ErrorResponse -&gt; m a
</span><a href="Hasura.Backends.DataConnector.Adapter.Metadata.html#errorAction"><span class="hs-identifier hs-var hs-var">errorAction</span></a></span></span><span> </span><span id="local-6989586621690502469"><span class="annot"><span class="annottext">ErrorResponse
</span><a href="#local-6989586621690502469"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; Value -&gt; m a
</span><a href="Hasura.Base.Error.html#throw400WithDetail"><span class="hs-identifier hs-var">throw400WithDetail</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="Hasura.Base.Error.html#DataConnectorError"><span class="hs-identifier hs-var">DataConnectorError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ErrorResponse -&gt; Text
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-var">errorResponseSummary</span></a></span><span> </span><span class="annot"><span class="annottext">ErrorResponse
</span><a href="#local-6989586621690502469"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ErrorResponse -&gt; Value
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.4.20220919/dc-api-1.0.0/opt/doc/html/dc-api/src"><span class="hs-identifier hs-var">_crDetails</span></a></span><span> </span><span class="annot"><span class="annottext">ErrorResponse
</span><a href="#local-6989586621690502469"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-400"></span></pre></body></html>