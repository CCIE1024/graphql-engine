<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE TemplateHaskell #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-orphans #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-comment">-- | MSSQL Connection</span><span>
</span><span id="line-5"></span><span class="hs-comment">--</span><span>
</span><span id="line-6"></span><span class="hs-comment">--   This module handles the connection against an MS SQL Server.</span><span>
</span><span id="line-7"></span><span class="hs-comment">--   It defines the connection string, connection pool, default settings,</span><span>
</span><span id="line-8"></span><span class="hs-comment">--   and conversion functions between MSSQL and graphql-engine.</span><span>
</span><span id="line-9"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Hasura.Backends.MSSQL.Connection</span><span>
</span><span id="line-10"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnConfiguration"><span class="hs-identifier">MSSQLConnConfiguration</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnConfiguration"><span class="hs-identifier">MSSQLConnConfiguration</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLSourceConfig"><span class="hs-identifier">MSSQLSourceConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLSourceConfig"><span class="hs-identifier">MSSQLSourceConfig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#_mscExecCtx"><span class="hs-identifier">_mscExecCtx</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnectionInfo"><span class="hs-identifier">MSSQLConnectionInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLPoolSettings"><span class="hs-identifier">MSSQLPoolSettings</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLExecCtx"><span class="hs-identifier">MSSQLExecCtx</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MonadMSSQLTx"><span class="hs-identifier">MonadMSSQLTx</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#defaultMSSQLMaxConnections"><span class="hs-identifier">defaultMSSQLMaxConnections</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#createMSSQLPool"><span class="hs-identifier">createMSSQLPool</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#resizeMSSQLPool"><span class="hs-identifier">resizeMSSQLPool</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#getEnv"><span class="hs-identifier">getEnv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#odbcValueToJValue"><span class="hs-identifier">odbcValueToJValue</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#mkMSSQLExecCtx"><span class="hs-identifier">mkMSSQLExecCtx</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#mkMSSQLAnyQueryTx"><span class="hs-identifier">mkMSSQLAnyQueryTx</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#runMSSQLSourceReadTx"><span class="hs-identifier">runMSSQLSourceReadTx</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#runMSSQLSourceWriteTx"><span class="hs-identifier">runMSSQLSourceWriteTx</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">where</span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Autodocodec</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">HasCodec</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">codec</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">dimapCodec</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">disjointEitherCodec</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">optionalFieldOrNull'</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">optionalFieldWithDefault'</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">requiredField'</span></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Autodocodec</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">AC</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Morph</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">hoist</span></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Control</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">J</span></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.TH</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Environment.html"><span class="hs-identifier">Data.Environment</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Env</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">pack</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">unpack</span></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/time-1.11.1.1/src"><span class="hs-identifier">Data.Time</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/time-1.11.1.1/src"><span class="hs-identifier">localTimeToUTC</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.MSSQL.Pool.html"><span class="hs-identifier">Database.MSSQL.Pool</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">MSPool</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.MSSQL.Transaction.html"><span class="hs-identifier">Database.MSSQL.Transaction</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">MSTx</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Database.ODBC.SQLServer</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ODBC</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.SQL.Error.html"><span class="hs-identifier">Hasura.Backends.MSSQL.SQL.Error</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Base.Error.html"><span class="hs-identifier">Hasura.Base.Error</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Metadata.DTO.Utils.html"><span class="hs-identifier">Hasura.Metadata.DTO.Utils</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Metadata.DTO.Utils.html#fromEnvCodec"><span class="hs-identifier">fromEnvCodec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier">Hasura.Prelude</span></a></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.ResizePool.html"><span class="hs-identifier">Hasura.RQL.Types.ResizePool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.ResizePool.html#ResizePoolStrategy"><span class="hs-identifier">ResizePoolStrategy</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.ResizePool.html#ServerReplicas"><span class="hs-identifier">ServerReplicas</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.ResizePool.html#getServerReplicasInt"><span class="hs-identifier">getServerReplicasInt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-type">MonadError</span></a></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280605"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="MonadMSSQLTx"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MonadMSSQLTx"><span class="hs-identifier hs-var">MonadMSSQLTx</span></a></span></span><span> </span><span id="local-6989586621690280605"><span class="annot"><a href="#local-6989586621690280605"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-48"></span><span>  </span><span id="liftMSSQLTx"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#liftMSSQLTx"><span class="hs-identifier hs-type">liftMSSQLTx</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621690280602"><span class="annot"><a href="Database.MSSQL.Transaction.html#TxE"><span class="hs-identifier hs-type">MSTx.TxE</span></a></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280602"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621690280605"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280602"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690280591"><span id="local-6989586621690280592"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MonadMSSQLTx"><span class="hs-identifier hs-type">MonadMSSQLTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280592"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MonadMSSQLTx"><span class="hs-identifier hs-type">MonadMSSQLTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">ReaderT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280591"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280592"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-51"></span><span>  </span><span id="local-6989586621690280100"><span class="annot"><span class="annottext">liftMSSQLTx :: forall a. TxE QErr a -&gt; ReaderT s m a
</span><a href="#local-6989586621690280100"><span class="hs-identifier hs-var hs-var hs-var hs-var">liftMSSQLTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadMSSQLTx m =&gt; TxE QErr a -&gt; m a
</span><a href="Hasura.Backends.MSSQL.Connection.html#liftMSSQLTx"><span class="hs-identifier hs-var">liftMSSQLTx</span></a></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690280574"><span id="local-6989586621690280575"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MonadMSSQLTx"><span class="hs-identifier hs-type">MonadMSSQLTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280575"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MonadMSSQLTx"><span class="hs-identifier hs-type">MonadMSSQLTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">StateT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280574"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280575"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-54"></span><span>  </span><span id="local-6989586621690280085"><span class="annot"><span class="annottext">liftMSSQLTx :: forall a. TxE QErr a -&gt; StateT s m a
</span><a href="#local-6989586621690280085"><span class="hs-identifier hs-var hs-var hs-var hs-var">liftMSSQLTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadMSSQLTx m =&gt; TxE QErr a -&gt; m a
</span><a href="Hasura.Backends.MSSQL.Connection.html#liftMSSQLTx"><span class="hs-identifier hs-var">liftMSSQLTx</span></a></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690280564"><span id="local-6989586621690280565"><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280565"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MonadMSSQLTx"><span class="hs-identifier hs-type">MonadMSSQLTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280564"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MonadMSSQLTx"><span class="hs-identifier hs-type">MonadMSSQLTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">WriterT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280565"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280564"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-57"></span><span>  </span><span id="local-6989586621690280071"><span class="annot"><span class="annottext">liftMSSQLTx :: forall a. TxE QErr a -&gt; WriterT w m a
</span><a href="#local-6989586621690280071"><span class="hs-identifier hs-var hs-var hs-var hs-var">liftMSSQLTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadMSSQLTx m =&gt; TxE QErr a -&gt; m a
</span><a href="Hasura.Backends.MSSQL.Connection.html#liftMSSQLTx"><span class="hs-identifier hs-var">liftMSSQLTx</span></a></span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690280557"><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280557"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MonadMSSQLTx"><span class="hs-identifier hs-type">MonadMSSQLTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.MSSQL.Transaction.html#TxET"><span class="hs-identifier hs-type">MSTx.TxET</span></a></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280557"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-60"></span><span>  </span><span id="local-6989586621690280059"><span class="annot"><span class="annottext">liftMSSQLTx :: forall a. TxE QErr a -&gt; TxET QErr m a
</span><a href="#local-6989586621690280059"><span class="hs-identifier hs-var hs-var hs-var hs-var">liftMSSQLTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {k} (t :: (* -&gt; *) -&gt; k -&gt; *) (m :: * -&gt; *) (n :: * -&gt; *)
       (b :: k).
(MFunctor t, Monad m) =&gt;
(forall a. m a -&gt; n a) -&gt; t m b -&gt; t n b
</span><span class="hs-identifier hs-var">hoist</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="hs-comment">-- | ODBC connection string for MSSQL server</span><span>
</span><span id="line-63"></span><span class="hs-keyword">newtype</span><span> </span><span id="MSSQLConnectionString"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnectionString"><span class="hs-identifier hs-var">MSSQLConnectionString</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MSSQLConnectionString"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnectionString"><span class="hs-identifier hs-var">MSSQLConnectionString</span></a></span></span><span> </span><span class="hs-special">{</span><span id="unMSSQLConnectionString"><span class="annot"><span class="annottext">MSSQLConnectionString -&gt; Text
</span><a href="Hasura.Backends.MSSQL.Connection.html#unMSSQLConnectionString"><span class="hs-identifier hs-var hs-var">unMSSQLConnectionString</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">}</span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621690280045"><span id="local-6989586621690280047"><span id="local-6989586621690280053"><span class="annot"><span class="annottext">Int -&gt; MSSQLConnectionString -&gt; ShowS
[MSSQLConnectionString] -&gt; ShowS
MSSQLConnectionString -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [MSSQLConnectionString] -&gt; ShowS
$cshowList :: [MSSQLConnectionString] -&gt; ShowS
show :: MSSQLConnectionString -&gt; String
$cshow :: MSSQLConnectionString -&gt; String
showsPrec :: Int -&gt; MSSQLConnectionString -&gt; ShowS
$cshowsPrec :: Int -&gt; MSSQLConnectionString -&gt; ShowS
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621690280037"><span id="local-6989586621690280042"><span class="annot"><span class="annottext">MSSQLConnectionString -&gt; MSSQLConnectionString -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: MSSQLConnectionString -&gt; MSSQLConnectionString -&gt; Bool
$c/= :: MSSQLConnectionString -&gt; MSSQLConnectionString -&gt; Bool
== :: MSSQLConnectionString -&gt; MSSQLConnectionString -&gt; Bool
$c== :: MSSQLConnectionString -&gt; MSSQLConnectionString -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621690280018"><span id="local-6989586621690280022"><span id="local-6989586621690280026"><span id="local-6989586621690280031"><span class="annot"><span class="annottext">[MSSQLConnectionString] -&gt; Value
[MSSQLConnectionString] -&gt; Encoding
MSSQLConnectionString -&gt; Value
MSSQLConnectionString -&gt; Encoding
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [MSSQLConnectionString] -&gt; Encoding
$ctoEncodingList :: [MSSQLConnectionString] -&gt; Encoding
toJSONList :: [MSSQLConnectionString] -&gt; Value
$ctoJSONList :: [MSSQLConnectionString] -&gt; Value
toEncoding :: MSSQLConnectionString -&gt; Encoding
$ctoEncoding :: MSSQLConnectionString -&gt; Encoding
toJSON :: MSSQLConnectionString -&gt; Value
$ctoJSON :: MSSQLConnectionString -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621690280007"><span id="local-6989586621690280012"><span class="annot"><span class="annottext">Value -&gt; Parser [MSSQLConnectionString]
Value -&gt; Parser MSSQLConnectionString
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [MSSQLConnectionString]
$cparseJSONList :: Value -&gt; Parser [MSSQLConnectionString]
parseJSON :: Value -&gt; Parser MSSQLConnectionString
$cparseJSON :: Value -&gt; Parser MSSQLConnectionString
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621690279995"><span id="local-6989586621690279999"><span class="annot"><span class="annottext">Eq MSSQLConnectionString
Int -&gt; MSSQLConnectionString -&gt; Int
MSSQLConnectionString -&gt; Int
forall a. Eq a -&gt; (Int -&gt; a -&gt; Int) -&gt; (a -&gt; Int) -&gt; Hashable a
hash :: MSSQLConnectionString -&gt; Int
$chash :: MSSQLConnectionString -&gt; Int
hashWithSalt :: Int -&gt; MSSQLConnectionString -&gt; Int
$chashWithSalt :: Int -&gt; MSSQLConnectionString -&gt; Int
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Hashable</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621690279989"><span class="annot"><span class="annottext">MSSQLConnectionString -&gt; ()
forall a. (a -&gt; ()) -&gt; NFData a
rnf :: MSSQLConnectionString -&gt; ()
$crnf :: MSSQLConnectionString -&gt; ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/deepseq-1.4.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="hs-comment">-- * Orphan instances</span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279978"><span id="local-6989586621690279980"><span class="annot"><span class="hs-identifier hs-type">Hashable</span></span><span> </span><span class="annot"><a href="Database.MSSQL.Pool.html#ConnectionString"><span class="hs-identifier hs-type">MSPool.ConnectionString</span></a></span></span></span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279976"><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/deepseq-1.4.6.1/src"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Database.MSSQL.Pool.html#ConnectionString"><span class="hs-identifier hs-type">MSPool.ConnectionString</span></a></span></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span id="local-6989586621690279974"><span id="local-6989586621690279975"></span></span><span class="hs-keyword">data</span><span> </span><span id="InputConnectionString"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#InputConnectionString"><span class="hs-identifier hs-var">InputConnectionString</span></a></span></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="RawString"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#RawString"><span class="hs-identifier hs-var">RawString</span></a></span></span><span> </span><span class="annot"><a href="Database.MSSQL.Pool.html#ConnectionString"><span class="hs-identifier hs-type">MSPool.ConnectionString</span></a></span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FromEnvironment"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#FromEnvironment"><span class="hs-identifier hs-var">FromEnvironment</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621690279961"><span id="local-6989586621690279963"><span id="local-6989586621690279970"><span class="annot"><span class="annottext">Int -&gt; InputConnectionString -&gt; ShowS
[InputConnectionString] -&gt; ShowS
InputConnectionString -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [InputConnectionString] -&gt; ShowS
$cshowList :: [InputConnectionString] -&gt; ShowS
show :: InputConnectionString -&gt; String
$cshow :: InputConnectionString -&gt; String
showsPrec :: Int -&gt; InputConnectionString -&gt; ShowS
$cshowsPrec :: Int -&gt; InputConnectionString -&gt; ShowS
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621690279955"><span id="local-6989586621690279959"><span class="annot"><span class="annottext">InputConnectionString -&gt; InputConnectionString -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: InputConnectionString -&gt; InputConnectionString -&gt; Bool
$c/= :: InputConnectionString -&gt; InputConnectionString -&gt; Bool
== :: InputConnectionString -&gt; InputConnectionString -&gt; Bool
$c== :: InputConnectionString -&gt; InputConnectionString -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall x. Rep InputConnectionString x -&gt; InputConnectionString
forall x. InputConnectionString -&gt; Rep InputConnectionString x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep InputConnectionString x -&gt; InputConnectionString
$cfrom :: forall x. InputConnectionString -&gt; Rep InputConnectionString x
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279946"><span id="local-6989586621690279948"><span class="annot"><span class="hs-identifier hs-type">Hashable</span></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#InputConnectionString"><span class="hs-identifier hs-type">InputConnectionString</span></a></span></span></span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279944"><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/deepseq-1.4.6.1/src"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#InputConnectionString"><span class="hs-identifier hs-type">InputConnectionString</span></a></span></span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279941"><span class="annot"><span class="hs-identifier hs-type">HasCodec</span></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#InputConnectionString"><span class="hs-identifier hs-type">InputConnectionString</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-82"></span><span>  </span><span id="local-6989586621690279937"><span class="annot"><span class="annottext">codec :: JSONCodec InputConnectionString
</span><a href="#local-6989586621690279937"><span class="hs-identifier hs-var hs-var hs-var hs-var">codec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-83"></span><span>    </span><span class="annot"><span class="annottext">forall oldOutput newOutput newInput oldInput context.
(oldOutput -&gt; newOutput)
-&gt; (newInput -&gt; oldInput)
-&gt; Codec context oldInput oldOutput
-&gt; Codec context newInput newOutput
</span><span class="hs-identifier hs-var">dimapCodec</span></span><span>
</span><span id="line-84"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="annot"><span class="annottext">ConnectionString -&gt; InputConnectionString
</span><a href="Hasura.Backends.MSSQL.Connection.html#RawString"><span class="hs-identifier hs-var">RawString</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; InputConnectionString
</span><a href="Hasura.Backends.MSSQL.Connection.html#FromEnvironment"><span class="hs-identifier hs-var">FromEnvironment</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>      </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#RawString"><span class="hs-identifier hs-type">RawString</span></a></span><span> </span><span id="local-6989586621690279935"><span class="annot"><span class="annottext">ConnectionString
</span><a href="#local-6989586621690279935"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">ConnectionString
</span><a href="#local-6989586621690279935"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#FromEnvironment"><span class="hs-identifier hs-type">FromEnvironment</span></a></span><span> </span><span id="local-6989586621690279934"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690279934"><span class="hs-identifier hs-var">wEnv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690279934"><span class="hs-identifier hs-var">wEnv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>      </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall context input1 output1 input2 output2.
Codec context input1 output1
-&gt; Codec context input2 output2
-&gt; Codec context (Either input1 input2) (Either output1 output2)
</span><span class="hs-identifier hs-var">disjointEitherCodec</span></span><span> </span><span class="annot"><span class="annottext">forall value. HasCodec value =&gt; JSONCodec value
</span><span class="hs-identifier hs-var">codec</span></span><span> </span><span class="annot"><span class="annottext">JSONCodec Text
</span><a href="Hasura.Metadata.DTO.Utils.html#fromEnvCodec"><span class="hs-identifier hs-var">fromEnvCodec</span></a></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279927"><span id="local-6989586621690279929"><span id="local-6989586621690279931"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#InputConnectionString"><span class="hs-identifier hs-type">InputConnectionString</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-89"></span><span>  </span><span id="local-6989586621690279917"><span class="annot"><span class="annottext">toJSON :: InputConnectionString -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-90"></span><span>    </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-91"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#RawString"><span class="hs-identifier hs-type">RawString</span></a></span><span> </span><span id="local-6989586621690279915"><span class="annot"><span class="annottext">ConnectionString
</span><a href="#local-6989586621690279915"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">ConnectionString
</span><a href="#local-6989586621690279915"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-92"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#FromEnvironment"><span class="hs-identifier hs-type">FromEnvironment</span></a></span><span> </span><span id="local-6989586621690279914"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690279914"><span class="hs-identifier hs-var">wEnv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><span class="hs-identifier hs-var">object</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;from_env&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><span class="hs-operator hs-var">.=</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690279914"><span class="hs-identifier hs-var">wEnv</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279909"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#InputConnectionString"><span class="hs-identifier hs-type">InputConnectionString</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-95"></span><span>  </span><span id="local-6989586621690279899"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser InputConnectionString
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-96"></span><span>    </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-97"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Object</span></span><span> </span><span id="local-6989586621690279896"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621690279896"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; InputConnectionString
</span><a href="Hasura.Backends.MSSQL.Connection.html#FromEnvironment"><span class="hs-identifier hs-var">FromEnvironment</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621690279896"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;from_env&quot;</span></span><span>
</span><span id="line-98"></span><span>      </span><span id="local-6989586621690279893"><span class="annot"><span class="annottext">s :: Value
</span><a href="#local-6989586621690279893"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConnectionString -&gt; InputConnectionString
</span><a href="Hasura.Backends.MSSQL.Connection.html#RawString"><span class="hs-identifier hs-var">RawString</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621690279893"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-99"></span><span>      </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;one of string or object must be provided&quot;</span></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span id="local-6989586621690279890"><span id="local-6989586621690279891"></span></span><span class="hs-keyword">data</span><span> </span><span id="MSSQLPoolSettings"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLPoolSettings"><span class="hs-identifier hs-var">MSSQLPoolSettings</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MSSQLPoolSettings"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLPoolSettings"><span class="hs-identifier hs-var">MSSQLPoolSettings</span></a></span></span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="_mpsMaxConnections"><span class="annot"><span class="annottext">MSSQLPoolSettings -&gt; Maybe Int
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mpsMaxConnections"><span class="hs-identifier hs-var hs-var">_mpsMaxConnections</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-103"></span><span>    </span><span id="_mpsTotalMaxConnections"><span class="annot"><span class="annottext">MSSQLPoolSettings -&gt; Maybe Int
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mpsTotalMaxConnections"><span class="hs-identifier hs-var hs-var">_mpsTotalMaxConnections</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-104"></span><span>    </span><span id="_mpsIdleTimeout"><span class="annot"><span class="annottext">MSSQLPoolSettings -&gt; Int
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mpsIdleTimeout"><span class="hs-identifier hs-var hs-var">_mpsIdleTimeout</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621690279874"><span id="local-6989586621690279876"><span id="local-6989586621690279884"><span class="annot"><span class="annottext">Int -&gt; MSSQLPoolSettings -&gt; ShowS
[MSSQLPoolSettings] -&gt; ShowS
MSSQLPoolSettings -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [MSSQLPoolSettings] -&gt; ShowS
$cshowList :: [MSSQLPoolSettings] -&gt; ShowS
show :: MSSQLPoolSettings -&gt; String
$cshow :: MSSQLPoolSettings -&gt; String
showsPrec :: Int -&gt; MSSQLPoolSettings -&gt; ShowS
$cshowsPrec :: Int -&gt; MSSQLPoolSettings -&gt; ShowS
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621690279864"><span id="local-6989586621690279871"><span class="annot"><span class="annottext">MSSQLPoolSettings -&gt; MSSQLPoolSettings -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: MSSQLPoolSettings -&gt; MSSQLPoolSettings -&gt; Bool
$c/= :: MSSQLPoolSettings -&gt; MSSQLPoolSettings -&gt; Bool
== :: MSSQLPoolSettings -&gt; MSSQLPoolSettings -&gt; Bool
$c== :: MSSQLPoolSettings -&gt; MSSQLPoolSettings -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall x. Rep MSSQLPoolSettings x -&gt; MSSQLPoolSettings
forall x. MSSQLPoolSettings -&gt; Rep MSSQLPoolSettings x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep MSSQLPoolSettings x -&gt; MSSQLPoolSettings
$cfrom :: forall x. MSSQLPoolSettings -&gt; Rep MSSQLPoolSettings x
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279855"><span id="local-6989586621690279857"><span class="annot"><span class="hs-identifier hs-type">Hashable</span></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLPoolSettings"><span class="hs-identifier hs-type">MSSQLPoolSettings</span></a></span></span></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279853"><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/deepseq-1.4.6.1/src"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLPoolSettings"><span class="hs-identifier hs-type">MSSQLPoolSettings</span></a></span></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="hs-special">$</span><span id="local-6989586621690279820"><span id="local-6989586621690279822"><span id="local-6989586621690279834"><span id="local-6989586621690279851"><span class="hs-special">(</span><span class="hs-identifier">deriveToJSON</span><span> </span><span class="hs-identifier">hasuraJSON</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">MSSQLPoolSettings</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279800"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLPoolSettings"><span class="hs-identifier hs-type">MSSQLPoolSettings</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-115"></span><span>  </span><span id="local-6989586621690279788"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser MSSQLPoolSettings
</span><a href="#local-6989586621690279788"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;MSSQL pool settings&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621690279786"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621690279786"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-116"></span><span>    </span><span class="annot"><span class="annottext">Maybe Int -&gt; Maybe Int -&gt; Int -&gt; MSSQLPoolSettings
</span><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLPoolSettings"><span class="hs-identifier hs-var">MSSQLPoolSettings</span></a></span><span>
</span><span id="line-117"></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621690279786"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;max_connections&quot;</span></span><span>
</span><span id="line-118"></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621690279786"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;total_max_connections&quot;</span></span><span>
</span><span id="line-119"></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621690279786"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;idle_timeout&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">.!=</span></span><span> </span><span class="annot"><span class="annottext">MSSQLPoolSettings -&gt; Int
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mpsIdleTimeout"><span class="hs-identifier hs-var">_mpsIdleTimeout</span></a></span><span> </span><span class="annot"><span class="annottext">MSSQLPoolSettings
</span><a href="Hasura.Backends.MSSQL.Connection.html#defaultMSSQLPoolSettings"><span class="hs-identifier hs-var">defaultMSSQLPoolSettings</span></a></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279780"><span class="annot"><span class="hs-identifier hs-type">HasCodec</span></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLPoolSettings"><span class="hs-identifier hs-type">MSSQLPoolSettings</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-122"></span><span>  </span><span id="local-6989586621690279763"><span class="annot"><span class="annottext">codec :: JSONCodec MSSQLPoolSettings
</span><a href="#local-6989586621690279763"><span class="hs-identifier hs-var hs-var hs-var hs-var">codec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-123"></span><span>    </span><span class="annot"><span class="annottext">forall input output.
Text -&gt; ObjectCodec input output -&gt; ValueCodec input output
</span><span class="hs-identifier hs-var">AC.object</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MSSQLPoolSettings&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-124"></span><span>      </span><span class="annot"><span class="annottext">Maybe Int -&gt; Maybe Int -&gt; Int -&gt; MSSQLPoolSettings
</span><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLPoolSettings"><span class="hs-identifier hs-var">MSSQLPoolSettings</span></a></span><span>
</span><span id="line-125"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall output.
HasCodec output =&gt;
Text -&gt; output -&gt; ObjectCodec output output
</span><span class="hs-identifier hs-var">optionalFieldWithDefault'</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;max_connections&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Hasura.Backends.MSSQL.Connection.html#defaultMSSQLMaxConnections"><span class="hs-identifier hs-var">defaultMSSQLMaxConnections</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall oldInput output newInput.
ObjectCodec oldInput output
-&gt; (newInput -&gt; oldInput) -&gt; ObjectCodec newInput output
</span><span class="hs-operator hs-var">AC..=</span></span><span> </span><span class="annot"><span class="annottext">MSSQLPoolSettings -&gt; Maybe Int
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mpsMaxConnections"><span class="hs-identifier hs-var">_mpsMaxConnections</span></a></span><span>
</span><span id="line-126"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall output.
HasCodec output =&gt;
Text -&gt; ObjectCodec (Maybe output) (Maybe output)
</span><span class="hs-identifier hs-var">optionalFieldOrNull'</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;total_max_connections&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall oldInput output newInput.
ObjectCodec oldInput output
-&gt; (newInput -&gt; oldInput) -&gt; ObjectCodec newInput output
</span><span class="hs-operator hs-var">AC..=</span></span><span> </span><span class="annot"><span class="annottext">MSSQLPoolSettings -&gt; Maybe Int
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mpsTotalMaxConnections"><span class="hs-identifier hs-var">_mpsTotalMaxConnections</span></a></span><span>
</span><span id="line-127"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall output.
HasCodec output =&gt;
Text -&gt; output -&gt; ObjectCodec output output
</span><span class="hs-identifier hs-var">optionalFieldWithDefault'</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;idle_timeout&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MSSQLPoolSettings -&gt; Int
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mpsIdleTimeout"><span class="hs-identifier hs-var">_mpsIdleTimeout</span></a></span><span> </span><span class="annot"><span class="annottext">MSSQLPoolSettings
</span><a href="Hasura.Backends.MSSQL.Connection.html#defaultMSSQLPoolSettings"><span class="hs-identifier hs-var">defaultMSSQLPoolSettings</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall oldInput output newInput.
ObjectCodec oldInput output
-&gt; (newInput -&gt; oldInput) -&gt; ObjectCodec newInput output
</span><span class="hs-operator hs-var">AC..=</span></span><span> </span><span class="annot"><span class="annottext">MSSQLPoolSettings -&gt; Int
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mpsIdleTimeout"><span class="hs-identifier hs-var">_mpsIdleTimeout</span></a></span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#defaultMSSQLMaxConnections"><span class="hs-identifier hs-type">defaultMSSQLMaxConnections</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-130"></span><span id="defaultMSSQLMaxConnections"><span class="annot"><span class="annottext">defaultMSSQLMaxConnections :: Int
</span><a href="Hasura.Backends.MSSQL.Connection.html#defaultMSSQLMaxConnections"><span class="hs-identifier hs-var hs-var">defaultMSSQLMaxConnections</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">50</span></span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#defaultMSSQLPoolSettings"><span class="hs-identifier hs-type">defaultMSSQLPoolSettings</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLPoolSettings"><span class="hs-identifier hs-type">MSSQLPoolSettings</span></a></span><span>
</span><span id="line-133"></span><span id="defaultMSSQLPoolSettings"><span class="annot"><span class="annottext">defaultMSSQLPoolSettings :: MSSQLPoolSettings
</span><a href="Hasura.Backends.MSSQL.Connection.html#defaultMSSQLPoolSettings"><span class="hs-identifier hs-var hs-var">defaultMSSQLPoolSettings</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-134"></span><span>  </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLPoolSettings"><span class="hs-identifier hs-type">MSSQLPoolSettings</span></a></span><span>
</span><span id="line-135"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_mpsMaxConnections :: Maybe Int
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mpsMaxConnections"><span class="hs-identifier hs-var">_mpsMaxConnections</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-136"></span><span>      </span><span class="annot"><span class="annottext">_mpsTotalMaxConnections :: Maybe Int
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mpsTotalMaxConnections"><span class="hs-identifier hs-var">_mpsTotalMaxConnections</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-137"></span><span>      </span><span class="annot"><span class="annottext">_mpsIdleTimeout :: Int
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mpsIdleTimeout"><span class="hs-identifier hs-var">_mpsIdleTimeout</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span>
</span><span id="line-138"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span id="local-6989586621690279759"><span id="local-6989586621690279760"></span></span><span class="hs-keyword">data</span><span> </span><span id="MSSQLConnectionInfo"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnectionInfo"><span class="hs-identifier hs-var">MSSQLConnectionInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MSSQLConnectionInfo"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnectionInfo"><span class="hs-identifier hs-var">MSSQLConnectionInfo</span></a></span></span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="_mciConnectionString"><span class="annot"><span class="annottext">MSSQLConnectionInfo -&gt; InputConnectionString
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mciConnectionString"><span class="hs-identifier hs-var hs-var">_mciConnectionString</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#InputConnectionString"><span class="hs-identifier hs-type">InputConnectionString</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-142"></span><span>    </span><span id="_mciPoolSettings"><span class="annot"><span class="annottext">MSSQLConnectionInfo -&gt; MSSQLPoolSettings
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mciPoolSettings"><span class="hs-identifier hs-var hs-var">_mciPoolSettings</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLPoolSettings"><span class="hs-identifier hs-type">MSSQLPoolSettings</span></a></span><span>
</span><span id="line-143"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-144"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621690279747"><span id="local-6989586621690279749"><span id="local-6989586621690279754"><span class="annot"><span class="annottext">Int -&gt; MSSQLConnectionInfo -&gt; ShowS
[MSSQLConnectionInfo] -&gt; ShowS
MSSQLConnectionInfo -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [MSSQLConnectionInfo] -&gt; ShowS
$cshowList :: [MSSQLConnectionInfo] -&gt; ShowS
show :: MSSQLConnectionInfo -&gt; String
$cshow :: MSSQLConnectionInfo -&gt; String
showsPrec :: Int -&gt; MSSQLConnectionInfo -&gt; ShowS
$cshowsPrec :: Int -&gt; MSSQLConnectionInfo -&gt; ShowS
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621690279741"><span id="local-6989586621690279745"><span class="annot"><span class="annottext">MSSQLConnectionInfo -&gt; MSSQLConnectionInfo -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: MSSQLConnectionInfo -&gt; MSSQLConnectionInfo -&gt; Bool
$c/= :: MSSQLConnectionInfo -&gt; MSSQLConnectionInfo -&gt; Bool
== :: MSSQLConnectionInfo -&gt; MSSQLConnectionInfo -&gt; Bool
$c== :: MSSQLConnectionInfo -&gt; MSSQLConnectionInfo -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall x. Rep MSSQLConnectionInfo x -&gt; MSSQLConnectionInfo
forall x. MSSQLConnectionInfo -&gt; Rep MSSQLConnectionInfo x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep MSSQLConnectionInfo x -&gt; MSSQLConnectionInfo
$cfrom :: forall x. MSSQLConnectionInfo -&gt; Rep MSSQLConnectionInfo x
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279733"><span id="local-6989586621690279735"><span class="annot"><span class="hs-identifier hs-type">Hashable</span></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnectionInfo"><span class="hs-identifier hs-type">MSSQLConnectionInfo</span></a></span></span></span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279731"><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/deepseq-1.4.6.1/src"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnectionInfo"><span class="hs-identifier hs-type">MSSQLConnectionInfo</span></a></span></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279728"><span class="annot"><span class="hs-identifier hs-type">HasCodec</span></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnectionInfo"><span class="hs-identifier hs-type">MSSQLConnectionInfo</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-151"></span><span>  </span><span id="local-6989586621690279720"><span class="annot"><span class="annottext">codec :: JSONCodec MSSQLConnectionInfo
</span><a href="#local-6989586621690279720"><span class="hs-identifier hs-var hs-var hs-var hs-var">codec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-152"></span><span>    </span><span class="annot"><span class="annottext">forall input output.
Text -&gt; ObjectCodec input output -&gt; ValueCodec input output
</span><span class="hs-identifier hs-var">AC.object</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MSSQLConnectionInfo&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-153"></span><span>      </span><span class="annot"><span class="annottext">InputConnectionString -&gt; MSSQLPoolSettings -&gt; MSSQLConnectionInfo
</span><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnectionInfo"><span class="hs-identifier hs-var">MSSQLConnectionInfo</span></a></span><span>
</span><span id="line-154"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall output. HasCodec output =&gt; Text -&gt; ObjectCodec output output
</span><span class="hs-identifier hs-var">requiredField'</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;connection_string&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall oldInput output newInput.
ObjectCodec oldInput output
-&gt; (newInput -&gt; oldInput) -&gt; ObjectCodec newInput output
</span><span class="hs-operator hs-var">AC..=</span></span><span> </span><span class="annot"><span class="annottext">MSSQLConnectionInfo -&gt; InputConnectionString
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mciConnectionString"><span class="hs-identifier hs-var">_mciConnectionString</span></a></span><span>
</span><span id="line-155"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall output. HasCodec output =&gt; Text -&gt; ObjectCodec output output
</span><span class="hs-identifier hs-var">requiredField'</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;pool_settings&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall oldInput output newInput.
ObjectCodec oldInput output
-&gt; (newInput -&gt; oldInput) -&gt; ObjectCodec newInput output
</span><span class="hs-operator hs-var">AC..=</span></span><span> </span><span class="annot"><span class="annottext">MSSQLConnectionInfo -&gt; MSSQLPoolSettings
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mciPoolSettings"><span class="hs-identifier hs-var">_mciPoolSettings</span></a></span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="hs-special">$</span><span id="local-6989586621690279700"><span id="local-6989586621690279702"><span id="local-6989586621690279709"><span id="local-6989586621690279718"><span class="hs-special">(</span><span class="hs-identifier">deriveToJSON</span><span> </span><span class="hs-identifier">hasuraJSON</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">MSSQLConnectionInfo</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279689"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnectionInfo"><span class="hs-identifier hs-type">MSSQLConnectionInfo</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-160"></span><span>  </span><span id="local-6989586621690279678"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser MSSQLConnectionInfo
</span><a href="#local-6989586621690279678"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Object&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621690279677"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621690279677"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-161"></span><span>    </span><span class="annot"><span class="annottext">InputConnectionString -&gt; MSSQLPoolSettings -&gt; MSSQLConnectionInfo
</span><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnectionInfo"><span class="hs-identifier hs-var">MSSQLConnectionInfo</span></a></span><span>
</span><span id="line-162"></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621690279677"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;database_url&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621690279677"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;connection_string&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621690279677"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;pool_settings&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">.!=</span></span><span> </span><span class="annot"><span class="annottext">MSSQLPoolSettings
</span><a href="Hasura.Backends.MSSQL.Connection.html#defaultMSSQLPoolSettings"><span class="hs-identifier hs-var">defaultMSSQLPoolSettings</span></a></span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span id="local-6989586621690279674"><span id="local-6989586621690279675"></span></span><span class="hs-keyword">data</span><span> </span><span id="MSSQLConnConfiguration"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnConfiguration"><span class="hs-identifier hs-var">MSSQLConnConfiguration</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MSSQLConnConfiguration"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnConfiguration"><span class="hs-identifier hs-var">MSSQLConnConfiguration</span></a></span></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="_mccConnectionInfo"><span class="annot"><span class="annottext">MSSQLConnConfiguration -&gt; MSSQLConnectionInfo
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mccConnectionInfo"><span class="hs-identifier hs-var hs-var">_mccConnectionInfo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnectionInfo"><span class="hs-identifier hs-type">MSSQLConnectionInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-167"></span><span>    </span><span id="_mccReadReplicas"><span class="annot"><span class="annottext">MSSQLConnConfiguration -&gt; Maybe (NonEmpty MSSQLConnectionInfo)
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mccReadReplicas"><span class="hs-identifier hs-var hs-var">_mccReadReplicas</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">NonEmpty</span></a></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnectionInfo"><span class="hs-identifier hs-type">MSSQLConnectionInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621690279662"><span id="local-6989586621690279664"><span id="local-6989586621690279670"><span class="annot"><span class="annottext">Int -&gt; MSSQLConnConfiguration -&gt; ShowS
[MSSQLConnConfiguration] -&gt; ShowS
MSSQLConnConfiguration -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [MSSQLConnConfiguration] -&gt; ShowS
$cshowList :: [MSSQLConnConfiguration] -&gt; ShowS
show :: MSSQLConnConfiguration -&gt; String
$cshow :: MSSQLConnConfiguration -&gt; String
showsPrec :: Int -&gt; MSSQLConnConfiguration -&gt; ShowS
$cshowsPrec :: Int -&gt; MSSQLConnConfiguration -&gt; ShowS
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621690279654"><span id="local-6989586621690279659"><span class="annot"><span class="annottext">MSSQLConnConfiguration -&gt; MSSQLConnConfiguration -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: MSSQLConnConfiguration -&gt; MSSQLConnConfiguration -&gt; Bool
$c/= :: MSSQLConnConfiguration -&gt; MSSQLConnConfiguration -&gt; Bool
== :: MSSQLConnConfiguration -&gt; MSSQLConnConfiguration -&gt; Bool
$c== :: MSSQLConnConfiguration -&gt; MSSQLConnConfiguration -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall x. Rep MSSQLConnConfiguration x -&gt; MSSQLConnConfiguration
forall x. MSSQLConnConfiguration -&gt; Rep MSSQLConnConfiguration x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep MSSQLConnConfiguration x -&gt; MSSQLConnConfiguration
$cfrom :: forall x. MSSQLConnConfiguration -&gt; Rep MSSQLConnConfiguration x
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279645"><span id="local-6989586621690279647"><span class="annot"><span class="hs-identifier hs-type">Hashable</span></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnConfiguration"><span class="hs-identifier hs-type">MSSQLConnConfiguration</span></a></span></span></span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279643"><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/deepseq-1.4.6.1/src"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnConfiguration"><span class="hs-identifier hs-type">MSSQLConnConfiguration</span></a></span></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279640"><span class="annot"><span class="hs-identifier hs-type">HasCodec</span></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnConfiguration"><span class="hs-identifier hs-type">MSSQLConnConfiguration</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-176"></span><span>  </span><span id="local-6989586621690279631"><span class="annot"><span class="annottext">codec :: JSONCodec MSSQLConnConfiguration
</span><a href="#local-6989586621690279631"><span class="hs-identifier hs-var hs-var hs-var hs-var">codec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-177"></span><span>    </span><span class="annot"><span class="annottext">forall input output.
Text -&gt; ObjectCodec input output -&gt; ValueCodec input output
</span><span class="hs-identifier hs-var">AC.object</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;MSSQLConnConfiguration&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-178"></span><span>      </span><span class="annot"><span class="annottext">MSSQLConnectionInfo
-&gt; Maybe (NonEmpty MSSQLConnectionInfo) -&gt; MSSQLConnConfiguration
</span><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLConnConfiguration"><span class="hs-identifier hs-var">MSSQLConnConfiguration</span></a></span><span>
</span><span id="line-179"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall output. HasCodec output =&gt; Text -&gt; ObjectCodec output output
</span><span class="hs-identifier hs-var">requiredField'</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;connection_info&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall oldInput output newInput.
ObjectCodec oldInput output
-&gt; (newInput -&gt; oldInput) -&gt; ObjectCodec newInput output
</span><span class="hs-operator hs-var">AC..=</span></span><span> </span><span class="annot"><span class="annottext">MSSQLConnConfiguration -&gt; MSSQLConnectionInfo
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mccConnectionInfo"><span class="hs-identifier hs-var">_mccConnectionInfo</span></a></span><span>
</span><span id="line-180"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall output.
HasCodec output =&gt;
Text -&gt; ObjectCodec (Maybe output) (Maybe output)
</span><span class="hs-identifier hs-var">optionalFieldOrNull'</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;read_replicas&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall oldInput output newInput.
ObjectCodec oldInput output
-&gt; (newInput -&gt; oldInput) -&gt; ObjectCodec newInput output
</span><span class="hs-operator hs-var">AC..=</span></span><span> </span><span class="annot"><span class="annottext">MSSQLConnConfiguration -&gt; Maybe (NonEmpty MSSQLConnectionInfo)
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mccReadReplicas"><span class="hs-identifier hs-var">_mccReadReplicas</span></a></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-special">$</span><span id="local-6989586621690279590"><span id="local-6989586621690279592"><span id="local-6989586621690279602"><span id="local-6989586621690279615"><span id="local-6989586621690279617"><span id="local-6989586621690279629"><span class="hs-special">(</span><span class="hs-identifier">deriveJSON</span><span> </span><span class="hs-identifier">hasuraJSON</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">omitNothingFields</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span class="hs-special">}</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">MSSQLConnConfiguration</span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span id="local-6989586621690280443"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#createMSSQLPool"><span class="hs-identifier hs-type">createMSSQLPool</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-185"></span><span>  </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280443"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-186"></span><span>  </span><span class="annot"><a href="Hasura.Base.Error.html#QErrM"><span class="hs-identifier hs-type">QErrM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280443"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-187"></span><span>  </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#InputConnectionString"><span class="hs-identifier hs-type">InputConnectionString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-188"></span><span>  </span><span class="annot"><a href="Database.MSSQL.Pool.html#ConnectionOptions"><span class="hs-identifier hs-type">MSPool.ConnectionOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-189"></span><span>  </span><span class="annot"><a href="Data.Environment.html#Environment"><span class="hs-identifier hs-type">Env.Environment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-190"></span><span>  </span><span class="annot"><a href="#local-6989586621690280443"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.MSSQL.Pool.html#ConnectionString"><span class="hs-identifier hs-type">MSPool.ConnectionString</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.MSSQL.Pool.html#MSSQLPool"><span class="hs-identifier hs-type">MSPool.MSSQLPool</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-191"></span><span id="createMSSQLPool"><span class="annot"><span class="annottext">createMSSQLPool :: forall (m :: * -&gt; *).
(MonadIO m, QErrM m) =&gt;
InputConnectionString
-&gt; ConnectionOptions
-&gt; Environment
-&gt; m (ConnectionString, MSSQLPool)
</span><a href="Hasura.Backends.MSSQL.Connection.html#createMSSQLPool"><span class="hs-identifier hs-var hs-var">createMSSQLPool</span></a></span></span><span> </span><span id="local-6989586621690279561"><span class="annot"><span class="annottext">InputConnectionString
</span><a href="#local-6989586621690279561"><span class="hs-identifier hs-var">iConnString</span></a></span></span><span> </span><span id="local-6989586621690279560"><span class="annot"><span class="annottext">ConnectionOptions
</span><a href="#local-6989586621690279560"><span class="hs-identifier hs-var">connOptions</span></a></span></span><span> </span><span id="local-6989586621690279559"><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621690279559"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-192"></span><span>  </span><span id="local-6989586621690279558"><span class="annot"><span class="annottext">ConnectionString
</span><a href="#local-6989586621690279558"><span class="hs-identifier hs-var">connString</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
QErrM m =&gt;
Environment -&gt; InputConnectionString -&gt; m ConnectionString
</span><a href="Hasura.Backends.MSSQL.Connection.html#resolveInputConnectionString"><span class="hs-identifier hs-var">resolveInputConnectionString</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621690279559"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">InputConnectionString
</span><a href="#local-6989586621690279561"><span class="hs-identifier hs-var">iConnString</span></a></span><span>
</span><span id="line-193"></span><span>  </span><span id="local-6989586621690279556"><span class="annot"><span class="annottext">MSSQLPool
</span><a href="#local-6989586621690279556"><span class="hs-identifier hs-var">pool</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ConnectionString -&gt; ConnectionOptions -&gt; IO MSSQLPool
</span><a href="Database.MSSQL.Pool.html#initMSSQLPool"><span class="hs-identifier hs-var">MSPool.initMSSQLPool</span></a></span><span> </span><span class="annot"><span class="annottext">ConnectionString
</span><a href="#local-6989586621690279558"><span class="hs-identifier hs-var">connString</span></a></span><span> </span><span class="annot"><span class="annottext">ConnectionOptions
</span><a href="#local-6989586621690279560"><span class="hs-identifier hs-var">connOptions</span></a></span><span>
</span><span id="line-194"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConnectionString
</span><a href="#local-6989586621690279558"><span class="hs-identifier hs-var">connString</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">MSSQLPool
</span><a href="#local-6989586621690279556"><span class="hs-identifier hs-var">pool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span id="local-6989586621690280436"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#resolveInputConnectionString"><span class="hs-identifier hs-type">resolveInputConnectionString</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-197"></span><span>  </span><span class="annot"><a href="Hasura.Base.Error.html#QErrM"><span class="hs-identifier hs-type">QErrM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280436"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-198"></span><span>  </span><span class="annot"><a href="Data.Environment.html#Environment"><span class="hs-identifier hs-type">Env.Environment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-199"></span><span>  </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#InputConnectionString"><span class="hs-identifier hs-type">InputConnectionString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-200"></span><span>  </span><span class="annot"><a href="#local-6989586621690280436"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Database.MSSQL.Pool.html#ConnectionString"><span class="hs-identifier hs-type">MSPool.ConnectionString</span></a></span></span><span>
</span><span id="line-201"></span><span id="resolveInputConnectionString"><span class="annot"><span class="annottext">resolveInputConnectionString :: forall (m :: * -&gt; *).
QErrM m =&gt;
Environment -&gt; InputConnectionString -&gt; m ConnectionString
</span><a href="Hasura.Backends.MSSQL.Connection.html#resolveInputConnectionString"><span class="hs-identifier hs-var hs-var">resolveInputConnectionString</span></a></span></span><span> </span><span id="local-6989586621690279546"><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621690279546"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-202"></span><span>  </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-203"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#RawString"><span class="hs-identifier hs-type">RawString</span></a></span><span> </span><span id="local-6989586621690279545"><span class="annot"><span class="annottext">ConnectionString
</span><a href="#local-6989586621690279545"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ConnectionString
</span><a href="#local-6989586621690279545"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#FromEnvironment"><span class="hs-identifier hs-type">FromEnvironment</span></a></span><span> </span><span id="local-6989586621690279544"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690279544"><span class="hs-identifier hs-var">envVar</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; ConnectionString
</span><a href="Database.MSSQL.Pool.html#ConnectionString"><span class="hs-identifier hs-var">MSPool.ConnectionString</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). QErrM m =&gt; Environment -&gt; Text -&gt; m Text
</span><a href="Hasura.Backends.MSSQL.Connection.html#getEnv"><span class="hs-identifier hs-var">getEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621690279546"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690279544"><span class="hs-identifier hs-var">envVar</span></a></span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span id="local-6989586621690280433"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#getEnv"><span class="hs-identifier hs-type">getEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErrM"><span class="hs-identifier hs-type">QErrM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280433"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Environment.html#Environment"><span class="hs-identifier hs-type">Env.Environment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621690280433"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span></span><span>
</span><span id="line-207"></span><span id="getEnv"><span class="annot"><span class="annottext">getEnv :: forall (m :: * -&gt; *). QErrM m =&gt; Environment -&gt; Text -&gt; m Text
</span><a href="Hasura.Backends.MSSQL.Connection.html#getEnv"><span class="hs-identifier hs-var hs-var">getEnv</span></a></span></span><span> </span><span id="local-6989586621690279533"><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621690279533"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621690279532"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690279532"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-208"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690279531"><span class="annot"><span class="annottext">mEnv :: Maybe String
</span><a href="#local-6989586621690279531"><span class="hs-identifier hs-var hs-var">mEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Environment -&gt; String -&gt; Maybe String
</span><a href="Data.Environment.html#lookupEnv"><span class="hs-identifier hs-var">Env.lookupEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621690279533"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; String
</span><span class="hs-identifier hs-var">unpack</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690279532"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621690279531"><span class="hs-identifier hs-var">mEnv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-210"></span><span>    </span><span class="annot"><span class="annottext">Maybe String
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><a href="Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-var">throw400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="Hasura.Base.Error.html#NotFound"><span class="hs-identifier hs-var">NotFound</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;environment variable '&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690279532"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;' not set&quot;</span></span><span>
</span><span id="line-211"></span><span>    </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621690279527"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621690279527"><span class="hs-identifier hs-var">envVal</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">pack</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621690279527"><span class="hs-identifier hs-var">envVal</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span class="hs-keyword">type</span><span> </span><span id="MSSQLRunTx"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLRunTx"><span class="hs-identifier hs-var">MSSQLRunTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-214"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621690279526"><span class="annot"><a href="#local-6989586621690279526"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621690279525"><span class="annot"><a href="#local-6989586621690279525"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690279526"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690279526"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.MSSQL.Transaction.html#TxET"><span class="hs-identifier hs-type">MSTx.TxET</span></a></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690279526"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690279525"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690279526"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690279525"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span class="hs-comment">-- | Execution Context required to execute MSSQL transactions</span><span>
</span><span id="line-217"></span><span class="hs-keyword">data</span><span> </span><span id="MSSQLExecCtx"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLExecCtx"><span class="hs-identifier hs-var">MSSQLExecCtx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MSSQLExecCtx"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLExecCtx"><span class="hs-identifier hs-var">MSSQLExecCtx</span></a></span></span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-comment">-- | A function that runs read-only queries</span><span>
</span><span id="line-219"></span><span>    </span><span id="mssqlRunReadOnly"><span class="annot"><span class="annottext">MSSQLExecCtx -&gt; MSSQLRunTx
</span><a href="Hasura.Backends.MSSQL.Connection.html#mssqlRunReadOnly"><span class="hs-identifier hs-var hs-var">mssqlRunReadOnly</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLRunTx"><span class="hs-identifier hs-type">MSSQLRunTx</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-220"></span><span>    </span><span class="hs-comment">-- | A function that runs read-write queries; run in a transaction</span><span>
</span><span id="line-221"></span><span>    </span><span id="mssqlRunReadWrite"><span class="annot"><span class="annottext">MSSQLExecCtx -&gt; MSSQLRunTx
</span><a href="Hasura.Backends.MSSQL.Connection.html#mssqlRunReadWrite"><span class="hs-identifier hs-var hs-var">mssqlRunReadWrite</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLRunTx"><span class="hs-identifier hs-type">MSSQLRunTx</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-222"></span><span>    </span><span class="hs-comment">-- | A function that runs a transaction in the SERIALIZABLE transaction isolation</span><span>
</span><span id="line-223"></span><span>    </span><span class="hs-comment">--   level. This is mainly intended to run source catalog migrations.</span><span>
</span><span id="line-224"></span><span>    </span><span id="mssqlRunSerializableTx"><span class="annot"><span class="annottext">MSSQLExecCtx -&gt; MSSQLRunTx
</span><a href="Hasura.Backends.MSSQL.Connection.html#mssqlRunSerializableTx"><span class="hs-identifier hs-var hs-var">mssqlRunSerializableTx</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLRunTx"><span class="hs-identifier hs-type">MSSQLRunTx</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-225"></span><span>    </span><span class="hs-comment">-- | Destroys connection pools</span><span>
</span><span id="line-226"></span><span>    </span><span id="mssqlDestroyConn"><span class="annot"><span class="annottext">MSSQLExecCtx -&gt; IO ()
</span><a href="Hasura.Backends.MSSQL.Connection.html#mssqlDestroyConn"><span class="hs-identifier hs-var hs-var">mssqlDestroyConn</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-227"></span><span>    </span><span class="hs-comment">-- | Resize pools based on number of server instances,</span><span>
</span><span id="line-228"></span><span>    </span><span id="mssqlResizePools"><span class="annot"><span class="annottext">MSSQLExecCtx -&gt; ServerReplicas -&gt; IO ()
</span><a href="Hasura.Backends.MSSQL.Connection.html#mssqlResizePools"><span class="hs-identifier hs-var hs-var">mssqlResizePools</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.ResizePool.html#ServerReplicas"><span class="hs-identifier hs-type">ServerReplicas</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="hs-comment">-- | Creates a MSSQL execution context for a single primary pool</span><span>
</span><span id="line-232"></span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#mkMSSQLExecCtx"><span class="hs-identifier hs-type">mkMSSQLExecCtx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.MSSQL.Pool.html#MSSQLPool"><span class="hs-identifier hs-type">MSPool.MSSQLPool</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.ResizePool.html#ResizePoolStrategy"><span class="hs-identifier hs-type">ResizePoolStrategy</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLExecCtx"><span class="hs-identifier hs-type">MSSQLExecCtx</span></a></span><span>
</span><span id="line-233"></span><span id="mkMSSQLExecCtx"><span class="annot"><span class="annottext">mkMSSQLExecCtx :: MSSQLPool -&gt; ResizePoolStrategy -&gt; MSSQLExecCtx
</span><a href="Hasura.Backends.MSSQL.Connection.html#mkMSSQLExecCtx"><span class="hs-identifier hs-var hs-var">mkMSSQLExecCtx</span></a></span></span><span> </span><span id="local-6989586621690279503"><span class="annot"><span class="annottext">MSSQLPool
</span><a href="#local-6989586621690279503"><span class="hs-identifier hs-var">pool</span></a></span></span><span> </span><span id="local-6989586621690279502"><span class="annot"><span class="annottext">ResizePoolStrategy
</span><a href="#local-6989586621690279502"><span class="hs-identifier hs-var">resizeStrategy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-234"></span><span>  </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLExecCtx"><span class="hs-identifier hs-type">MSSQLExecCtx</span></a></span><span>
</span><span id="line-235"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mssqlRunReadOnly :: MSSQLRunTx
</span><a href="Hasura.Backends.MSSQL.Connection.html#mssqlRunReadOnly"><span class="hs-identifier hs-var">mssqlRunReadOnly</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621690279497"><span class="annot"><span class="annottext">TxET QErr m a
</span><a href="#local-6989586621690279497"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) e a.
(MonadIO m, MonadBaseControl IO m) =&gt;
(MSSQLTxError -&gt; e)
-&gt; TxIsolation -&gt; TxET e m a -&gt; MSSQLPool -&gt; ExceptT e m a
</span><a href="Database.MSSQL.Transaction.html#runTxE"><span class="hs-identifier hs-var">MSTx.runTxE</span></a></span><span> </span><span class="annot"><span class="annottext">MSSQLTxError -&gt; QErr
</span><a href="Hasura.Backends.MSSQL.SQL.Error.html#defaultMSSQLTxErrorHandler"><span class="hs-identifier hs-var">defaultMSSQLTxErrorHandler</span></a></span><span> </span><span class="annot"><span class="annottext">TxIsolation
</span><a href="Database.MSSQL.Transaction.html#ReadCommitted"><span class="hs-identifier hs-var">MSTx.ReadCommitted</span></a></span><span> </span><span class="annot"><span class="annottext">TxET QErr m a
</span><a href="#local-6989586621690279497"><span class="hs-identifier hs-var">tx</span></a></span><span> </span><span class="annot"><span class="annottext">MSSQLPool
</span><a href="#local-6989586621690279503"><span class="hs-identifier hs-var">pool</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-236"></span><span>      </span><span class="annot"><span class="annottext">mssqlRunReadWrite :: MSSQLRunTx
</span><a href="Hasura.Backends.MSSQL.Connection.html#mssqlRunReadWrite"><span class="hs-identifier hs-var">mssqlRunReadWrite</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621690279489"><span class="annot"><span class="annottext">TxET QErr m a
</span><a href="#local-6989586621690279489"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) e a.
(MonadIO m, MonadBaseControl IO m) =&gt;
(MSSQLTxError -&gt; e)
-&gt; TxIsolation -&gt; TxET e m a -&gt; MSSQLPool -&gt; ExceptT e m a
</span><a href="Database.MSSQL.Transaction.html#runTxE"><span class="hs-identifier hs-var">MSTx.runTxE</span></a></span><span> </span><span class="annot"><span class="annottext">MSSQLTxError -&gt; QErr
</span><a href="Hasura.Backends.MSSQL.SQL.Error.html#defaultMSSQLTxErrorHandler"><span class="hs-identifier hs-var">defaultMSSQLTxErrorHandler</span></a></span><span> </span><span class="annot"><span class="annottext">TxIsolation
</span><a href="Database.MSSQL.Transaction.html#ReadCommitted"><span class="hs-identifier hs-var">MSTx.ReadCommitted</span></a></span><span> </span><span class="annot"><span class="annottext">TxET QErr m a
</span><a href="#local-6989586621690279489"><span class="hs-identifier hs-var">tx</span></a></span><span> </span><span class="annot"><span class="annottext">MSSQLPool
</span><a href="#local-6989586621690279503"><span class="hs-identifier hs-var">pool</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-237"></span><span>      </span><span class="annot"><span class="annottext">mssqlRunSerializableTx :: MSSQLRunTx
</span><a href="Hasura.Backends.MSSQL.Connection.html#mssqlRunSerializableTx"><span class="hs-identifier hs-var">mssqlRunSerializableTx</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621690279484"><span class="annot"><span class="annottext">TxET QErr m a
</span><a href="#local-6989586621690279484"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) e a.
(MonadIO m, MonadBaseControl IO m) =&gt;
(MSSQLTxError -&gt; e)
-&gt; TxIsolation -&gt; TxET e m a -&gt; MSSQLPool -&gt; ExceptT e m a
</span><a href="Database.MSSQL.Transaction.html#runTxE"><span class="hs-identifier hs-var">MSTx.runTxE</span></a></span><span> </span><span class="annot"><span class="annottext">MSSQLTxError -&gt; QErr
</span><a href="Hasura.Backends.MSSQL.SQL.Error.html#defaultMSSQLTxErrorHandler"><span class="hs-identifier hs-var">defaultMSSQLTxErrorHandler</span></a></span><span> </span><span class="annot"><span class="annottext">TxIsolation
</span><a href="Database.MSSQL.Transaction.html#Serializable"><span class="hs-identifier hs-var">MSTx.Serializable</span></a></span><span> </span><span class="annot"><span class="annottext">TxET QErr m a
</span><a href="#local-6989586621690279484"><span class="hs-identifier hs-var">tx</span></a></span><span> </span><span class="annot"><span class="annottext">MSSQLPool
</span><a href="#local-6989586621690279503"><span class="hs-identifier hs-var">pool</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-238"></span><span>      </span><span class="annot"><span class="annottext">mssqlDestroyConn :: IO ()
</span><a href="Hasura.Backends.MSSQL.Connection.html#mssqlDestroyConn"><span class="hs-identifier hs-var">mssqlDestroyConn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MSSQLPool -&gt; IO ()
</span><a href="Database.MSSQL.Pool.html#drainMSSQLPool"><span class="hs-identifier hs-var">MSPool.drainMSSQLPool</span></a></span><span> </span><span class="annot"><span class="annottext">MSSQLPool
</span><a href="#local-6989586621690279503"><span class="hs-identifier hs-var">pool</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-239"></span><span>      </span><span class="annot"><span class="annottext">mssqlResizePools :: ServerReplicas -&gt; IO ()
</span><a href="Hasura.Backends.MSSQL.Connection.html#mssqlResizePools"><span class="hs-identifier hs-var">mssqlResizePools</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-240"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ResizePoolStrategy
</span><a href="#local-6989586621690279502"><span class="hs-identifier hs-var">resizeStrategy</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-241"></span><span>          </span><span class="annot"><span class="annottext">ResizePoolStrategy
</span><a href="Hasura.RQL.Types.ResizePool.html#NeverResizePool"><span class="hs-identifier hs-var">NeverResizePool</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; b -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>          </span><span class="annot"><a href="Hasura.RQL.Types.ResizePool.html#ResizePool"><span class="hs-identifier hs-type">ResizePool</span></a></span><span> </span><span id="local-6989586621690279478"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621690279478"><span class="hs-identifier hs-var">maxConnections</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MSSQLPool -&gt; Int -&gt; ServerReplicas -&gt; IO ()
</span><a href="Hasura.Backends.MSSQL.Connection.html#resizeMSSQLPool"><span class="hs-identifier hs-var">resizeMSSQLPool</span></a></span><span> </span><span class="annot"><span class="annottext">MSSQLPool
</span><a href="#local-6989586621690279503"><span class="hs-identifier hs-var">pool</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621690279478"><span class="hs-identifier hs-var">maxConnections</span></a></span><span>
</span><span id="line-243"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span class="hs-comment">-- | Resize MSSQL pool by setting the number of connections equal to</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- allowed maximum connections across all server instances divided by</span><span>
</span><span id="line-247"></span><span class="hs-comment">-- number of instances</span><span>
</span><span id="line-248"></span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#resizeMSSQLPool"><span class="hs-identifier hs-type">resizeMSSQLPool</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.MSSQL.Pool.html#MSSQLPool"><span class="hs-identifier hs-type">MSPool.MSSQLPool</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.ResizePool.html#ServerReplicas"><span class="hs-identifier hs-type">ServerReplicas</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span id="resizeMSSQLPool"><span class="annot"><span class="annottext">resizeMSSQLPool :: MSSQLPool -&gt; Int -&gt; ServerReplicas -&gt; IO ()
</span><a href="Hasura.Backends.MSSQL.Connection.html#resizeMSSQLPool"><span class="hs-identifier hs-var hs-var">resizeMSSQLPool</span></a></span></span><span> </span><span id="local-6989586621690279477"><span class="annot"><span class="annottext">MSSQLPool
</span><a href="#local-6989586621690279477"><span class="hs-identifier hs-var">mssqlPool</span></a></span></span><span> </span><span id="local-6989586621690279476"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621690279476"><span class="hs-identifier hs-var">maxConnections</span></a></span></span><span> </span><span id="local-6989586621690279475"><span class="annot"><span class="annottext">ServerReplicas
</span><a href="#local-6989586621690279475"><span class="hs-identifier hs-var">serverReplicas</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-250"></span><span>  </span><span class="annot"><span class="annottext">MSSQLPool -&gt; Int -&gt; IO ()
</span><a href="Database.MSSQL.Pool.html#resizePool"><span class="hs-identifier hs-var">MSPool.resizePool</span></a></span><span> </span><span class="annot"><span class="annottext">MSSQLPool
</span><a href="#local-6989586621690279477"><span class="hs-identifier hs-var">mssqlPool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621690279476"><span class="hs-identifier hs-var">maxConnections</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">`div`</span></a></span><span> </span><span class="annot"><span class="annottext">ServerReplicas -&gt; Int
</span><a href="Hasura.RQL.Types.ResizePool.html#getServerReplicasInt"><span class="hs-identifier hs-var">getServerReplicasInt</span></a></span><span> </span><span class="annot"><span class="annottext">ServerReplicas
</span><a href="#local-6989586621690279475"><span class="hs-identifier hs-var">serverReplicas</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span class="hs-comment">-- | Run any query discarding its results</span><span>
</span><span id="line-253"></span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#mkMSSQLAnyQueryTx"><span class="hs-identifier hs-type">mkMSSQLAnyQueryTx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ODBC.Query</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.MSSQL.Transaction.html#TxET"><span class="hs-identifier hs-type">MSTx.TxET</span></a></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-254"></span><span id="mkMSSQLAnyQueryTx"><span class="annot"><span class="annottext">mkMSSQLAnyQueryTx :: Query -&gt; TxET QErr IO ()
</span><a href="Hasura.Backends.MSSQL.Connection.html#mkMSSQLAnyQueryTx"><span class="hs-identifier hs-var hs-var">mkMSSQLAnyQueryTx</span></a></span></span><span> </span><span id="local-6989586621690279472"><span class="annot"><span class="annottext">Query
</span><a href="#local-6989586621690279472"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-255"></span><span>  </span><span id="local-6989586621690279471"><span class="annot"><span class="annottext">[[Value]]
</span><a href="#local-6989586621690279471"><span class="hs-identifier hs-var">_discard</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">ODBC.Value</span></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a e.
(MonadIO m, FromRow a) =&gt;
(MSSQLTxError -&gt; e) -&gt; Query -&gt; TxET e m [a]
</span><a href="Database.MSSQL.Transaction.html#multiRowQueryE"><span class="hs-identifier hs-var">MSTx.multiRowQueryE</span></a></span><span> </span><span class="annot"><span class="annottext">MSSQLTxError -&gt; QErr
</span><a href="Hasura.Backends.MSSQL.SQL.Error.html#defaultMSSQLTxErrorHandler"><span class="hs-identifier hs-var">defaultMSSQLTxErrorHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Query
</span><a href="#local-6989586621690279472"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-256"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span id="local-6989586621690279468"><span id="local-6989586621690279469"></span></span><span class="hs-keyword">data</span><span> </span><span id="MSSQLSourceConfig"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLSourceConfig"><span class="hs-identifier hs-var">MSSQLSourceConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MSSQLSourceConfig"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLSourceConfig"><span class="hs-identifier hs-var">MSSQLSourceConfig</span></a></span></span><span>
</span><span id="line-259"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="_mscConnectionString"><span class="annot"><span class="annottext">MSSQLSourceConfig -&gt; ConnectionString
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mscConnectionString"><span class="hs-identifier hs-var hs-var">_mscConnectionString</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.MSSQL.Pool.html#ConnectionString"><span class="hs-identifier hs-type">MSPool.ConnectionString</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-260"></span><span>    </span><span id="_mscExecCtx"><span class="annot"><span class="annottext">MSSQLSourceConfig -&gt; MSSQLExecCtx
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mscExecCtx"><span class="hs-identifier hs-var hs-var">_mscExecCtx</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLExecCtx"><span class="hs-identifier hs-type">MSSQLExecCtx</span></a></span><span>
</span><span id="line-261"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall x. Rep MSSQLSourceConfig x -&gt; MSSQLSourceConfig
forall x. MSSQLSourceConfig -&gt; Rep MSSQLSourceConfig x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep MSSQLSourceConfig x -&gt; MSSQLSourceConfig
$cfrom :: forall x. MSSQLSourceConfig -&gt; Rep MSSQLSourceConfig x
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>
</span><span id="line-264"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279459"><span id="local-6989586621690279462"><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLSourceConfig"><span class="hs-identifier hs-type">MSSQLSourceConfig</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-265"></span><span>  </span><span id="local-6989586621690279457"><span class="annot"><span class="annottext">show :: MSSQLSourceConfig -&gt; String
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">MSSQLSourceConfig -&gt; ConnectionString
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mscConnectionString"><span class="hs-identifier hs-var">_mscConnectionString</span></a></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279453"><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLSourceConfig"><span class="hs-identifier hs-type">MSSQLSourceConfig</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-268"></span><span>  </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLSourceConfig"><span class="hs-identifier hs-type">MSSQLSourceConfig</span></a></span><span> </span><span id="local-6989586621690279451"><span class="annot"><span class="annottext">ConnectionString
</span><a href="#local-6989586621690279451"><span class="hs-identifier hs-var">connStr1</span></a></span></span><span> </span><span class="annot"><span class="annottext">MSSQLExecCtx
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621690279450"><span class="annot"><span class="annottext">== :: MSSQLSourceConfig -&gt; MSSQLSourceConfig -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></a></span></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLSourceConfig"><span class="hs-identifier hs-type">MSSQLSourceConfig</span></a></span><span> </span><span id="local-6989586621690279449"><span class="annot"><span class="annottext">ConnectionString
</span><a href="#local-6989586621690279449"><span class="hs-identifier hs-var">connStr2</span></a></span></span><span> </span><span class="annot"><span class="annottext">MSSQLExecCtx
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-269"></span><span>    </span><span class="annot"><span class="annottext">ConnectionString
</span><a href="#local-6989586621690279451"><span class="hs-identifier hs-var">connStr1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ConnectionString
</span><a href="#local-6989586621690279449"><span class="hs-identifier hs-var">connStr2</span></a></span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621690279442"><span id="local-6989586621690279444"><span id="local-6989586621690279446"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLSourceConfig"><span class="hs-identifier hs-type">MSSQLSourceConfig</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-272"></span><span>  </span><span id="local-6989586621690279440"><span class="annot"><span class="annottext">toJSON :: MSSQLSourceConfig -&gt; Value
</span><a href="#local-6989586621690279440"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">MSSQLSourceConfig -&gt; ConnectionString
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mscConnectionString"><span class="hs-identifier hs-var">_mscConnectionString</span></a></span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#odbcValueToJValue"><span class="hs-identifier hs-type">odbcValueToJValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ODBC.Value</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">J.Value</span></span><span>
</span><span id="line-275"></span><span id="odbcValueToJValue"><span class="annot"><span class="annottext">odbcValueToJValue :: Value -&gt; Value
</span><a href="Hasura.Backends.MSSQL.Connection.html#odbcValueToJValue"><span class="hs-identifier hs-var hs-var">odbcValueToJValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-276"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ODBC.TextValue</span></span><span> </span><span id="local-6989586621690279438"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690279438"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">J.String</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690279438"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-277"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ODBC.ByteStringValue</span></span><span> </span><span id="local-6989586621690279436"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621690279436"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">J.String</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Text
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier hs-var">bsToTxt</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621690279436"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-278"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ODBC.BinaryValue</span></span><span> </span><span id="local-6989586621690279433"><span class="annot"><span class="annottext">Binary
</span><a href="#local-6989586621690279433"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><span class="hs-identifier hs-var">J.String</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Text
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier hs-var">bsToTxt</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Binary -&gt; ByteString
</span><span class="hs-identifier hs-var">ODBC.unBinary</span></span><span> </span><span class="annot"><span class="annottext">Binary
</span><a href="#local-6989586621690279433"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-279"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ODBC.BoolValue</span></span><span> </span><span id="local-6989586621690279430"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621690279430"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Value
</span><span class="hs-identifier hs-var">J.Bool</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621690279430"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-280"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ODBC.DoubleValue</span></span><span> </span><span id="local-6989586621690279427"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621690279427"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">J.toJSON</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621690279427"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-281"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ODBC.FloatValue</span></span><span> </span><span id="local-6989586621690279425"><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621690279425"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">J.toJSON</span></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621690279425"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-282"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ODBC.IntValue</span></span><span> </span><span id="local-6989586621690279423"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621690279423"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">J.toJSON</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621690279423"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-283"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ODBC.ByteValue</span></span><span> </span><span id="local-6989586621690279421"><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621690279421"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">J.toJSON</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621690279421"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-284"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ODBC.DayValue</span></span><span> </span><span id="local-6989586621690279419"><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621690279419"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">J.toJSON</span></span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621690279419"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-285"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ODBC.TimeOfDayValue</span></span><span> </span><span id="local-6989586621690279417"><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621690279417"><span class="hs-identifier hs-var">td</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">J.toJSON</span></span><span> </span><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621690279417"><span class="hs-identifier hs-var">td</span></a></span><span>
</span><span id="line-286"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ODBC.LocalTimeValue</span></span><span> </span><span id="local-6989586621690279415"><span class="annot"><span class="annottext">LocalTime
</span><a href="#local-6989586621690279415"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">J.toJSON</span></span><span> </span><span class="annot"><span class="annottext">LocalTime
</span><a href="#local-6989586621690279415"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-287"></span><span>  </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier hs-var">ODBC.NullValue</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier hs-var">J.Null</span></span><span>
</span><span id="line-288"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ODBC.ZonedTimeValue</span></span><span> </span><span id="local-6989586621690279411"><span class="annot"><span class="annottext">LocalTime
</span><a href="#local-6989586621690279411"><span class="hs-identifier hs-var">lt</span></a></span></span><span> </span><span id="local-6989586621690279410"><span class="annot"><span class="annottext">TimeZone
</span><a href="#local-6989586621690279410"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">J.toJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TimeZone -&gt; LocalTime -&gt; UTCTime
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/time-1.11.1.1/src"><span class="hs-identifier hs-var">localTimeToUTC</span></a></span><span> </span><span class="annot"><span class="annottext">TimeZone
</span><a href="#local-6989586621690279410"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">LocalTime
</span><a href="#local-6989586621690279411"><span class="hs-identifier hs-var">lt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span id="local-6989586621690280396"><span id="local-6989586621690280397"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#runMSSQLSourceReadTx"><span class="hs-identifier hs-type">runMSSQLSourceReadTx</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-291"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280397"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280397"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-292"></span><span>  </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLSourceConfig"><span class="hs-identifier hs-type">MSSQLSourceConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-293"></span><span>  </span><span class="annot"><a href="Database.MSSQL.Transaction.html#TxET"><span class="hs-identifier hs-type">MSTx.TxET</span></a></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280397"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280396"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-294"></span><span>  </span><span class="annot"><a href="#local-6989586621690280397"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690280396"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-295"></span><span id="runMSSQLSourceReadTx"><span class="annot"><span class="annottext">runMSSQLSourceReadTx :: forall (m :: * -&gt; *) a.
(MonadIO m, MonadBaseControl IO m) =&gt;
MSSQLSourceConfig -&gt; TxET QErr m a -&gt; m (Either QErr a)
</span><a href="Hasura.Backends.MSSQL.Connection.html#runMSSQLSourceReadTx"><span class="hs-identifier hs-var hs-var">runMSSQLSourceReadTx</span></a></span></span><span> </span><span id="local-6989586621690279405"><span class="annot"><span class="annottext">MSSQLSourceConfig
</span><a href="#local-6989586621690279405"><span class="hs-identifier hs-var">msc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-296"></span><span>  </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-var">runExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">MSSQLExecCtx -&gt; MSSQLRunTx
</span><a href="Hasura.Backends.MSSQL.Connection.html#mssqlRunReadOnly"><span class="hs-identifier hs-var">mssqlRunReadOnly</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MSSQLSourceConfig -&gt; MSSQLExecCtx
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mscExecCtx"><span class="hs-identifier hs-var">_mscExecCtx</span></a></span><span> </span><span class="annot"><span class="annottext">MSSQLSourceConfig
</span><a href="#local-6989586621690279405"><span class="hs-identifier hs-var">msc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span id="local-6989586621690279402"><span id="local-6989586621690279403"><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#runMSSQLSourceWriteTx"><span class="hs-identifier hs-type">runMSSQLSourceWriteTx</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-299"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690279403"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690279403"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-300"></span><span>  </span><span class="annot"><a href="Hasura.Backends.MSSQL.Connection.html#MSSQLSourceConfig"><span class="hs-identifier hs-type">MSSQLSourceConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-301"></span><span>  </span><span class="annot"><a href="Database.MSSQL.Transaction.html#TxET"><span class="hs-identifier hs-type">MSTx.TxET</span></a></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690279403"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690279402"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-302"></span><span>  </span><span class="annot"><a href="#local-6989586621690279403"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690279402"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-303"></span><span id="runMSSQLSourceWriteTx"><span class="annot"><span class="annottext">runMSSQLSourceWriteTx :: forall (m :: * -&gt; *) a.
(MonadIO m, MonadBaseControl IO m) =&gt;
MSSQLSourceConfig -&gt; TxET QErr m a -&gt; m (Either QErr a)
</span><a href="Hasura.Backends.MSSQL.Connection.html#runMSSQLSourceWriteTx"><span class="hs-identifier hs-var hs-var">runMSSQLSourceWriteTx</span></a></span></span><span> </span><span id="local-6989586621690279397"><span class="annot"><span class="annottext">MSSQLSourceConfig
</span><a href="#local-6989586621690279397"><span class="hs-identifier hs-var">msc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-304"></span><span>  </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-var">runExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">MSSQLExecCtx -&gt; MSSQLRunTx
</span><a href="Hasura.Backends.MSSQL.Connection.html#mssqlRunReadWrite"><span class="hs-identifier hs-var">mssqlRunReadWrite</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MSSQLSourceConfig -&gt; MSSQLExecCtx
</span><a href="Hasura.Backends.MSSQL.Connection.html#_mscExecCtx"><span class="hs-identifier hs-var">_mscExecCtx</span></a></span><span> </span><span class="annot"><span class="annottext">MSSQLSourceConfig
</span><a href="#local-6989586621690279397"><span class="hs-identifier hs-var">msc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-305"></span></pre></body></html>