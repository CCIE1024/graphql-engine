<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Hasura.RQL.DDL.CustomTypes</span><span>
</span><span id="line-2"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#runSetCustomTypes"><span class="hs-identifier">runSetCustomTypes</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-3"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#clearCustomTypesInMetadata"><span class="hs-identifier">clearCustomTypesInMetadata</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-4"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#resolveCustomTypes"><span class="hs-identifier">resolveCustomTypes</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-5"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#lookupBackendScalar"><span class="hs-identifier">lookupBackendScalar</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-7"></span><span class="hs-keyword">where</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Lens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(.~)</span></span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Validate</span></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashMap.Strict</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashSet</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.Extended</span></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.Extended</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">Data.Monoid</span></a></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text.Extended</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html"><span class="hs-identifier">Hasura.Backends.Postgres.SQL.Types</span></a></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Hasura.Base.Error</span></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Hasura.EncJSON</span></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier">Hasura.Prelude</span></a></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html"><span class="hs-identifier">Hasura.RQL.Types.Backend</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.BackendType.html"><span class="hs-identifier">Hasura.RQL.Types.BackendType</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Column.html"><span class="hs-identifier">Hasura.RQL.Types.Column</span></a></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html"><span class="hs-identifier">Hasura.RQL.Types.Common</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html"><span class="hs-identifier">Hasura.RQL.Types.CustomTypes</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html"><span class="hs-identifier">Hasura.RQL.Types.Metadata</span></a></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Object.html"><span class="hs-identifier">Hasura.RQL.Types.Metadata.Object</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html"><span class="hs-identifier">Hasura.RQL.Types.SchemaCache.Build</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Source.html"><span class="hs-identifier">Hasura.RQL.Types.Source</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Table.html"><span class="hs-identifier">Hasura.RQL.Types.Table</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.SQL.AnyBackend.html"><span class="hs-identifier">Hasura.SQL.AnyBackend</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">AB</span></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.SQL.BackendMap.html"><span class="hs-identifier">Hasura.SQL.BackendMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.SQL.BackendMap.html#BackendMap"><span class="hs-identifier">BackendMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.SQL.BackendMap.html"><span class="hs-identifier">Hasura.SQL.BackendMap</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BackendMap</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier">Language.GraphQL.Draft.Syntax</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">G</span></span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-38"></span><span class="hs-comment">-- Metadata API</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span id="local-6989586621690898675"><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#runSetCustomTypes"><span class="hs-identifier hs-type">runSetCustomTypes</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-type">MonadError</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">QErr</span></span><span> </span><span class="annot"><a href="#local-6989586621690898675"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#CacheRWM"><span class="hs-identifier hs-type">CacheRWM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690898675"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier hs-type">MetadataM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690898675"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#CustomTypes"><span class="hs-identifier hs-type">CustomTypes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><a href="#local-6989586621690898675"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">EncJSON</span></span></span><span>
</span><span id="line-47"></span><span id="runSetCustomTypes"><span class="annot"><span class="annottext">runSetCustomTypes :: forall (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
CustomTypes -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.CustomTypes.html#runSetCustomTypes"><span class="hs-identifier hs-var hs-var">runSetCustomTypes</span></a></span></span><span> </span><span id="local-6989586621690898250"><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621690898250"><span class="hs-identifier hs-var">customTypes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
MetadataObjId -&gt; MetadataModifier -&gt; m ()
</span><a href="Hasura.RQL.Types.SchemaCache.Build.html#buildSchemaCacheFor"><span class="hs-identifier hs-var">buildSchemaCacheFor</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataObjId
</span><a href="Hasura.RQL.Types.Metadata.Object.html#MOCustomTypes"><span class="hs-identifier hs-var">MOCustomTypes</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><span class="annottext">(Metadata -&gt; Metadata) -&gt; MetadataModifier
</span><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-var">MetadataModifier</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-50"></span><span>      </span><span class="annot"><span class="annottext">Lens' Metadata CustomTypes
</span><a href="Hasura.RQL.Types.Metadata.html#metaCustomTypes"><span class="hs-identifier hs-var">metaCustomTypes</span></a></span><span> </span><span class="annot"><span class="annottext">forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621690898250"><span class="hs-identifier hs-var">customTypes</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">EncJSON
</span><a href="Hasura.RQL.Types.Common.html#successMsg"><span class="hs-identifier hs-var">successMsg</span></a></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#clearCustomTypesInMetadata"><span class="hs-identifier hs-type">clearCustomTypesInMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-type">MetadataModifier</span></a></span><span>
</span><span id="line-54"></span><span id="clearCustomTypesInMetadata"><span class="annot"><span class="annottext">clearCustomTypesInMetadata :: MetadataModifier
</span><a href="Hasura.RQL.DDL.CustomTypes.html#clearCustomTypesInMetadata"><span class="hs-identifier hs-var hs-var">clearCustomTypesInMetadata</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><span class="annottext">(Metadata -&gt; Metadata) -&gt; MetadataModifier
</span><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-var">MetadataModifier</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Lens' Metadata CustomTypes
</span><a href="Hasura.RQL.Types.Metadata.html#metaCustomTypes"><span class="hs-identifier hs-var">metaCustomTypes</span></a></span><span> </span><span class="annot"><span class="annottext">forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">CustomTypes
</span><a href="Hasura.RQL.Types.CustomTypes.html#emptyCustomTypes"><span class="hs-identifier hs-var">emptyCustomTypes</span></a></span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-58"></span><span class="hs-comment">-- Cache building functions</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span id="local-6989586621690898649"><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#resolveCustomTypes"><span class="hs-identifier hs-type">resolveCustomTypes</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-61"></span><span>  </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-type">MonadError</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">QErr</span></span><span> </span><span class="annot"><a href="#local-6989586621690898649"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-62"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Source.html#SourceCache"><span class="hs-identifier hs-type">SourceCache</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-63"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#CustomTypes"><span class="hs-identifier hs-type">CustomTypes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-64"></span><span>  </span><span class="annot"><a href="Hasura.SQL.BackendMap.html#BackendMap"><span class="hs-identifier hs-type">BackendMap</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Source.html#ScalarMap"><span class="hs-identifier hs-type">ScalarMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-65"></span><span>  </span><span class="annot"><a href="#local-6989586621690898649"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AnnotatedCustomTypes"><span class="hs-identifier hs-type">AnnotatedCustomTypes</span></a></span></span><span>
</span><span id="line-66"></span><span id="resolveCustomTypes"><span class="annot"><span class="annottext">resolveCustomTypes :: forall (m :: * -&gt; *).
MonadError QErr m =&gt;
SourceCache
-&gt; CustomTypes -&gt; BackendMap ScalarMap -&gt; m AnnotatedCustomTypes
</span><a href="Hasura.RQL.DDL.CustomTypes.html#resolveCustomTypes"><span class="hs-identifier hs-var hs-var">resolveCustomTypes</span></a></span></span><span> </span><span id="local-6989586621690898224"><span class="annot"><span class="annottext">SourceCache
</span><a href="#local-6989586621690898224"><span class="hs-identifier hs-var">sources</span></a></span></span><span> </span><span id="local-6989586621690898223"><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621690898223"><span class="hs-identifier hs-var">customTypes</span></a></span></span><span> </span><span id="local-6989586621690898222"><span class="annot"><span class="annottext">BackendMap ScalarMap
</span><a href="#local-6989586621690898222"><span class="hs-identifier hs-var">allScalars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-67"></span><span>  </span><span class="annot"><span class="annottext">forall e a. Validate e a -&gt; Either e a
</span><span class="hs-identifier hs-var">runValidate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadValidate [CustomTypeValidationError] m =&gt;
SourceCache
-&gt; CustomTypes -&gt; BackendMap ScalarMap -&gt; m AnnotatedCustomTypes
</span><a href="Hasura.RQL.DDL.CustomTypes.html#validateCustomTypeDefinitions"><span class="hs-identifier hs-var">validateCustomTypeDefinitions</span></a></span><span> </span><span class="annot"><span class="annottext">SourceCache
</span><a href="#local-6989586621690898224"><span class="hs-identifier hs-var">sources</span></a></span><span> </span><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621690898223"><span class="hs-identifier hs-var">customTypes</span></a></span><span> </span><span class="annot"><span class="annottext">BackendMap ScalarMap
</span><a href="#local-6989586621690898222"><span class="hs-identifier hs-var">allScalars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) e a.
Applicative m =&gt;
Either e a -&gt; (e -&gt; m a) -&gt; m a
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-operator hs-var">`onLeft`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><span class="hs-identifier hs-var">throw400</span></span><span> </span><span class="annot"><span class="annottext">Code
</span><span class="hs-identifier hs-var">ConstraintViolation</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[CustomTypeValidationError] -&gt; Text
</span><a href="#local-6989586621690898215"><span class="hs-identifier hs-var">showErrors</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-70"></span><span>    </span><span class="annot"><a href="#local-6989586621690898215"><span class="hs-identifier hs-type">showErrors</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#CustomTypeValidationError"><span class="hs-identifier hs-type">CustomTypeValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-71"></span><span>    </span><span id="local-6989586621690898215"><span class="annot"><span class="annottext">showErrors :: [CustomTypeValidationError] -&gt; Text
</span><a href="#local-6989586621690898215"><span class="hs-identifier hs-var hs-var">showErrors</span></a></span></span><span> </span><span id="local-6989586621690898214"><span class="annot"><span class="annottext">[CustomTypeValidationError]
</span><a href="#local-6989586621690898214"><span class="hs-identifier hs-var">allErrors</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-72"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;validation for the given custom types failed &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621690898213"><span class="hs-identifier hs-var">reasonsMessage</span></a></span><span>
</span><span id="line-73"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-74"></span><span>        </span><span id="local-6989586621690898213"><span class="annot"><span class="annottext">reasonsMessage :: Text
</span><a href="#local-6989586621690898213"><span class="hs-identifier hs-var hs-var">reasonsMessage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[CustomTypeValidationError]
</span><a href="#local-6989586621690898214"><span class="hs-identifier hs-var">allErrors</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-75"></span><span>          </span><span class="hs-special">[</span><span id="local-6989586621690898212"><span class="annot"><span class="annottext">CustomTypeValidationError
</span><a href="#local-6989586621690898212"><span class="hs-identifier hs-var">singleError</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;because &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CustomTypeValidationError -&gt; Text
</span><a href="Hasura.RQL.DDL.CustomTypes.html#showCustomTypeValidationError"><span class="hs-identifier hs-var">showCustomTypeValidationError</span></a></span><span> </span><span class="annot"><span class="annottext">CustomTypeValidationError
</span><a href="#local-6989586621690898212"><span class="hs-identifier hs-var">singleError</span></a></span><span>
</span><span id="line-76"></span><span>          </span><span class="annot"><span class="annottext">[CustomTypeValidationError]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-77"></span><span>            </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;for the following reasons:\n&quot;</span></span><span>
</span><span id="line-78"></span><span>              </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Text
</span><span class="hs-identifier hs-var">T.unlines</span></span><span>
</span><span id="line-79"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;  &#8226; &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CustomTypeValidationError -&gt; Text
</span><a href="Hasura.RQL.DDL.CustomTypes.html#showCustomTypeValidationError"><span class="hs-identifier hs-var">showCustomTypeValidationError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[CustomTypeValidationError]
</span><a href="#local-6989586621690898214"><span class="hs-identifier hs-var">allErrors</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span class="hs-comment">{- Note [Postgres scalars in custom types]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
It&#8217;s very convenient to be able to reference Postgres scalars in custom type
definitions. For example, we might have a type like this:

    type User {
      id: uuid!
      name: String!
      location: geography
    }

The uuid and geography types are Postgres scalars, not separately-defined
GraphQL types. To support this, we have to take a few extra steps:

  1. The set of Postgres base types is not fixed; extensions like PostGIS add
     new ones, and users can even define their own. Therefore, we fetch the
     currently defined base types from the @pg_catalog.pg_type@ system table as part of
     loading the metadata.

  2. It&#8217;s possible for a custom type definition to use a type that doesn&#8217;t
     appear elsewhere in the GraphQL schema, so we record which base types were
     referenced while validating the custom type definitions and make sure to
     include them in the generated schema explicitly.

We currently have no plan to extend that functionality to other backends; if we
do, we will probably choose to prefix such types with an explicit tag to avoid
having to disambiguate type names across backends.
-}</span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-comment">-- | Validate the custom types and return any reused Postgres base types (as</span><span>
</span><span id="line-111"></span><span class="hs-comment">-- scalars).</span><span>
</span><span id="line-112"></span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#validateCustomTypeDefinitions"><span class="hs-identifier hs-type">validateCustomTypeDefinitions</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621690898635"><span class="annot"><a href="#local-6989586621690898635"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-114"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">MonadValidate</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#CustomTypeValidationError"><span class="hs-identifier hs-type">CustomTypeValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621690898635"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-115"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Source.html#SourceCache"><span class="hs-identifier hs-type">SourceCache</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-116"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#CustomTypes"><span class="hs-identifier hs-type">CustomTypes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-comment">-- | A map that, to each backend, associates the set of all its scalars.</span><span>
</span><span id="line-118"></span><span>  </span><span class="annot"><a href="Hasura.SQL.BackendMap.html#BackendMap"><span class="hs-identifier hs-type">BackendMap</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Source.html#ScalarMap"><span class="hs-identifier hs-type">ScalarMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-119"></span><span>  </span><span class="annot"><a href="#local-6989586621690898635"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AnnotatedCustomTypes"><span class="hs-identifier hs-type">AnnotatedCustomTypes</span></a></span><span>
</span><span id="line-120"></span><span id="validateCustomTypeDefinitions"><span class="annot"><span class="annottext">validateCustomTypeDefinitions :: forall (m :: * -&gt; *).
MonadValidate [CustomTypeValidationError] m =&gt;
SourceCache
-&gt; CustomTypes -&gt; BackendMap ScalarMap -&gt; m AnnotatedCustomTypes
</span><a href="Hasura.RQL.DDL.CustomTypes.html#validateCustomTypeDefinitions"><span class="hs-identifier hs-var hs-var">validateCustomTypeDefinitions</span></a></span></span><span> </span><span id="local-6989586621690898036"><span class="annot"><span class="annottext">SourceCache
</span><a href="#local-6989586621690898036"><span class="hs-identifier hs-var">sources</span></a></span></span><span> </span><span id="local-6989586621690898035"><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621690898035"><span class="hs-identifier hs-var">customTypes</span></a></span></span><span> </span><span id="local-6989586621690898034"><span class="annot"><span class="annottext">BackendMap ScalarMap
</span><a href="#local-6989586621690898034"><span class="hs-identifier hs-var">allScalars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-121"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621690898031"><span class="hs-identifier hs-var">duplicateTypes</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; CustomTypeValidationError
</span><a href="Hasura.RQL.DDL.CustomTypes.html#DuplicateTypeNames"><span class="hs-identifier hs-var">DuplicateTypeNames</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621690898031"><span class="hs-identifier hs-var">duplicateTypes</span></a></span><span>
</span><span id="line-122"></span><span>  </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">traverse_</span></a></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition -&gt; m ()
</span><a href="#local-6989586621690898027"><span class="hs-identifier hs-var">validateEnum</span></a></span><span> </span><span class="annot"><span class="annottext">[EnumTypeDefinition]
</span><a href="#local-6989586621690898026"><span class="hs-identifier hs-var">enumDefinitions</span></a></span><span>
</span><span id="line-123"></span><span>  </span><span id="local-6989586621690898025"><span class="annot"><span class="annottext">HashMap Name AnnotatedScalarType
</span><a href="#local-6989586621690898025"><span class="hs-identifier hs-var">reusedScalars</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) w a. Monad m =&gt; WriterT w m a -&gt; m w
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-var">execWriterT</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">traverse_</span></a></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition
-&gt; WriterT (HashMap Name AnnotatedScalarType) m ()
</span><a href="#local-6989586621690898023"><span class="hs-identifier hs-var">validateInputObject</span></a></span><span> </span><span class="annot"><span class="annottext">[InputObjectTypeDefinition]
</span><a href="#local-6989586621690898022"><span class="hs-identifier hs-var">inputObjectDefinitions</span></a></span><span>
</span><span id="line-124"></span><span>  </span><span id="local-6989586621690898021"><span class="annot"><span class="annottext">HashMap Name AnnotatedObjectType
</span><a href="#local-6989586621690898021"><span class="hs-identifier hs-var">annotatedObjects</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-125"></span><span>    </span><span class="annot"><span class="annottext">forall k a. Hashable k =&gt; (a -&gt; k) -&gt; [a] -&gt; HashMap k a
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier hs-var">mapFromL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ObjectTypeName -&gt; Name
</span><a href="Hasura.RQL.Types.CustomTypes.html#unObjectTypeName"><span class="hs-identifier hs-var">unObjectTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedObjectType -&gt; ObjectTypeName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_aotName"><span class="hs-identifier hs-var">_aotName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition -&gt; m AnnotatedObjectType
</span><a href="#local-6989586621690898015"><span class="hs-identifier hs-var">validateObject</span></a></span><span> </span><span class="annot"><span class="annottext">[ObjectTypeDefinition]
</span><a href="#local-6989586621690898014"><span class="hs-identifier hs-var">objectDefinitions</span></a></span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690898013"><span class="annot"><span class="annottext">scalarTypeMap :: HashMap Name AnnotatedInputType
</span><a href="#local-6989586621690898013"><span class="hs-identifier hs-var hs-var">scalarTypeMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-128"></span><span>        </span><span class="annot"><span class="annottext">forall v1 v2 k. (v1 -&gt; v2) -&gt; HashMap k v1 -&gt; HashMap k v2
</span><span class="hs-identifier hs-var">Map.map</span></span><span> </span><span class="annot"><span class="annottext">AnnotatedScalarType -&gt; AnnotatedInputType
</span><a href="Hasura.RQL.Types.CustomTypes.html#NOCTScalar"><span class="hs-identifier hs-var">NOCTScalar</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-129"></span><span>          </span><span class="annot"><span class="annottext">forall v1 v2 k. (v1 -&gt; v2) -&gt; HashMap k v1 -&gt; HashMap k v2
</span><span class="hs-identifier hs-var">Map.map</span></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition -&gt; AnnotatedScalarType
</span><a href="Hasura.RQL.Types.CustomTypes.html#ASTCustom"><span class="hs-identifier hs-var">ASTCustom</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name ScalarTypeDefinition
</span><a href="#local-6989586621690898009"><span class="hs-identifier hs-var">scalarTypes</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name AnnotatedScalarType
</span><a href="#local-6989586621690898025"><span class="hs-identifier hs-var">reusedScalars</span></a></span><span>
</span><span id="line-130"></span><span>      </span><span id="local-6989586621690898008"><span class="annot"><span class="annottext">enumTypeMap :: HashMap Name AnnotatedInputType
</span><a href="#local-6989586621690898008"><span class="hs-identifier hs-var hs-var">enumTypeMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall v1 v2 k. (v1 -&gt; v2) -&gt; HashMap k v1 -&gt; HashMap k v2
</span><span class="hs-identifier hs-var">Map.map</span></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition -&gt; AnnotatedInputType
</span><a href="Hasura.RQL.Types.CustomTypes.html#NOCTEnum"><span class="hs-identifier hs-var">NOCTEnum</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name EnumTypeDefinition
</span><a href="#local-6989586621690898006"><span class="hs-identifier hs-var">enumTypes</span></a></span><span>
</span><span id="line-131"></span><span>      </span><span id="local-6989586621690898005"><span class="annot"><span class="annottext">inputObjectTypeMap :: HashMap Name AnnotatedInputType
</span><a href="#local-6989586621690898005"><span class="hs-identifier hs-var hs-var">inputObjectTypeMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall v1 v2 k. (v1 -&gt; v2) -&gt; HashMap k v1 -&gt; HashMap k v2
</span><span class="hs-identifier hs-var">Map.map</span></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition -&gt; AnnotatedInputType
</span><a href="Hasura.RQL.Types.CustomTypes.html#NOCTInputObject"><span class="hs-identifier hs-var">NOCTInputObject</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name InputObjectTypeDefinition
</span><a href="#local-6989586621690898003"><span class="hs-identifier hs-var">inputObjectTypes</span></a></span><span>
</span><span id="line-132"></span><span>      </span><span id="local-6989586621690898002"><span class="annot"><span class="annottext">nonObjectTypeMap :: HashMap Name AnnotatedInputType
</span><a href="#local-6989586621690898002"><span class="hs-identifier hs-var hs-var">nonObjectTypeMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap Name AnnotatedInputType
</span><a href="#local-6989586621690898013"><span class="hs-identifier hs-var">scalarTypeMap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name AnnotatedInputType
</span><a href="#local-6989586621690898008"><span class="hs-identifier hs-var">enumTypeMap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name AnnotatedInputType
</span><a href="#local-6989586621690898005"><span class="hs-identifier hs-var">inputObjectTypeMap</span></a></span><span>
</span><span id="line-133"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name AnnotatedInputType
-&gt; HashMap Name AnnotatedObjectType -&gt; AnnotatedCustomTypes
</span><a href="Hasura.RQL.Types.CustomTypes.html#AnnotatedCustomTypes"><span class="hs-identifier hs-var">AnnotatedCustomTypes</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name AnnotatedInputType
</span><a href="#local-6989586621690898002"><span class="hs-identifier hs-var">nonObjectTypeMap</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name AnnotatedObjectType
</span><a href="#local-6989586621690898021"><span class="hs-identifier hs-var">annotatedObjects</span></a></span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-135"></span><span>    </span><span id="local-6989586621690898022"><span class="annot"><span class="annottext">inputObjectDefinitions :: [InputObjectTypeDefinition]
</span><a href="#local-6989586621690898022"><span class="hs-identifier hs-var hs-var">inputObjectDefinitions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CustomTypes -&gt; [InputObjectTypeDefinition]
</span><a href="Hasura.RQL.Types.CustomTypes.html#_ctInputObjects"><span class="hs-identifier hs-var">_ctInputObjects</span></a></span><span> </span><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621690898035"><span class="hs-identifier hs-var">customTypes</span></a></span><span>
</span><span id="line-136"></span><span>    </span><span id="local-6989586621690898014"><span class="annot"><span class="annottext">objectDefinitions :: [ObjectTypeDefinition]
</span><a href="#local-6989586621690898014"><span class="hs-identifier hs-var hs-var">objectDefinitions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CustomTypes -&gt; [ObjectTypeDefinition]
</span><a href="Hasura.RQL.Types.CustomTypes.html#_ctObjects"><span class="hs-identifier hs-var">_ctObjects</span></a></span><span> </span><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621690898035"><span class="hs-identifier hs-var">customTypes</span></a></span><span>
</span><span id="line-137"></span><span>    </span><span id="local-6989586621690897998"><span class="annot"><span class="annottext">scalarDefinitions :: [ScalarTypeDefinition]
</span><a href="#local-6989586621690897998"><span class="hs-identifier hs-var hs-var">scalarDefinitions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CustomTypes -&gt; [ScalarTypeDefinition]
</span><a href="Hasura.RQL.Types.CustomTypes.html#_ctScalars"><span class="hs-identifier hs-var">_ctScalars</span></a></span><span> </span><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621690898035"><span class="hs-identifier hs-var">customTypes</span></a></span><span>
</span><span id="line-138"></span><span>    </span><span id="local-6989586621690898026"><span class="annot"><span class="annottext">enumDefinitions :: [EnumTypeDefinition]
</span><a href="#local-6989586621690898026"><span class="hs-identifier hs-var hs-var">enumDefinitions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CustomTypes -&gt; [EnumTypeDefinition]
</span><a href="Hasura.RQL.Types.CustomTypes.html#_ctEnums"><span class="hs-identifier hs-var">_ctEnums</span></a></span><span> </span><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621690898035"><span class="hs-identifier hs-var">customTypes</span></a></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span>    </span><span id="local-6989586621690898031"><span class="annot"><span class="annottext">duplicateTypes :: HashSet Name
</span><a href="#local-6989586621690898031"><span class="hs-identifier hs-var hs-var">duplicateTypes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Hashable a =&gt; [a] -&gt; HashSet a
</span><span class="hs-identifier hs-var">L.duplicates</span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621690897994"><span class="hs-identifier hs-var">allTypes</span></a></span><span>
</span><span id="line-141"></span><span>    </span><span id="local-6989586621690897994"><span class="annot"><span class="annottext">allTypes :: [Name]
</span><a href="#local-6989586621690897994"><span class="hs-identifier hs-var hs-var">allTypes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-142"></span><span>      </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition -&gt; Name
</span><a href="Hasura.RQL.Types.CustomTypes.html#_stdName"><span class="hs-identifier hs-var">_stdName</span></a></span><span> </span><span class="annot"><span class="annottext">[ScalarTypeDefinition]
</span><a href="#local-6989586621690897998"><span class="hs-identifier hs-var">scalarDefinitions</span></a></span><span>
</span><span id="line-143"></span><span>        </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EnumTypeName -&gt; Name
</span><a href="Hasura.RQL.Types.CustomTypes.html#unEnumTypeName"><span class="hs-identifier hs-var">unEnumTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition -&gt; EnumTypeName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_etdName"><span class="hs-identifier hs-var">_etdName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[EnumTypeDefinition]
</span><a href="#local-6989586621690898026"><span class="hs-identifier hs-var">enumDefinitions</span></a></span><span>
</span><span id="line-144"></span><span>        </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InputObjectTypeName -&gt; Name
</span><a href="Hasura.RQL.Types.CustomTypes.html#unInputObjectTypeName"><span class="hs-identifier hs-var">unInputObjectTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition -&gt; InputObjectTypeName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_iotdName"><span class="hs-identifier hs-var">_iotdName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[InputObjectTypeDefinition]
</span><a href="#local-6989586621690898022"><span class="hs-identifier hs-var">inputObjectDefinitions</span></a></span><span>
</span><span id="line-145"></span><span>        </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ObjectTypeName -&gt; Name
</span><a href="Hasura.RQL.Types.CustomTypes.html#unObjectTypeName"><span class="hs-identifier hs-var">unObjectTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition -&gt; ObjectTypeName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_otdName"><span class="hs-identifier hs-var">_otdName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ObjectTypeDefinition]
</span><a href="#local-6989586621690898014"><span class="hs-identifier hs-var">objectDefinitions</span></a></span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span>    </span><span id="local-6989586621690898009"><span class="annot"><span class="annottext">scalarTypes :: HashMap Name ScalarTypeDefinition
</span><a href="#local-6989586621690898009"><span class="hs-identifier hs-var hs-var">scalarTypes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-148"></span><span>      </span><span class="annot"><span class="annottext">forall k a. Hashable k =&gt; (a -&gt; k) -&gt; [a] -&gt; HashMap k a
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier hs-var">mapFromL</span></a></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition -&gt; Name
</span><a href="Hasura.RQL.Types.CustomTypes.html#_stdName"><span class="hs-identifier hs-var">_stdName</span></a></span><span> </span><span class="annot"><span class="annottext">[ScalarTypeDefinition]
</span><a href="#local-6989586621690897998"><span class="hs-identifier hs-var">scalarDefinitions</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name ScalarTypeDefinition
</span><a href="Hasura.RQL.Types.CustomTypes.html#defaultGraphQLScalars"><span class="hs-identifier hs-var">defaultGraphQLScalars</span></a></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span>    </span><span id="local-6989586621690898006"><span class="annot"><span class="annottext">enumTypes :: HashMap Name EnumTypeDefinition
</span><a href="#local-6989586621690898006"><span class="hs-identifier hs-var hs-var">enumTypes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-151"></span><span>      </span><span class="annot"><span class="annottext">forall k a. Hashable k =&gt; (a -&gt; k) -&gt; [a] -&gt; HashMap k a
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier hs-var">mapFromL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EnumTypeName -&gt; Name
</span><a href="Hasura.RQL.Types.CustomTypes.html#unEnumTypeName"><span class="hs-identifier hs-var">unEnumTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition -&gt; EnumTypeName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_etdName"><span class="hs-identifier hs-var">_etdName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[EnumTypeDefinition]
</span><a href="#local-6989586621690898026"><span class="hs-identifier hs-var">enumDefinitions</span></a></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span>    </span><span id="local-6989586621690897986"><span class="annot"><span class="annottext">objectTypes :: HashMap Name ObjectTypeDefinition
</span><a href="#local-6989586621690897986"><span class="hs-identifier hs-var hs-var">objectTypes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-154"></span><span>      </span><span class="annot"><span class="annottext">forall k a. Hashable k =&gt; (a -&gt; k) -&gt; [a] -&gt; HashMap k a
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier hs-var">mapFromL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ObjectTypeName -&gt; Name
</span><a href="Hasura.RQL.Types.CustomTypes.html#unObjectTypeName"><span class="hs-identifier hs-var">unObjectTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition -&gt; ObjectTypeName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_otdName"><span class="hs-identifier hs-var">_otdName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ObjectTypeDefinition]
</span><a href="#local-6989586621690898014"><span class="hs-identifier hs-var">objectDefinitions</span></a></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span>    </span><span id="local-6989586621690898003"><span class="annot"><span class="annottext">inputObjectTypes :: HashMap Name InputObjectTypeDefinition
</span><a href="#local-6989586621690898003"><span class="hs-identifier hs-var hs-var">inputObjectTypes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-157"></span><span>      </span><span class="annot"><span class="annottext">forall k a. Hashable k =&gt; (a -&gt; k) -&gt; [a] -&gt; HashMap k a
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier hs-var">mapFromL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InputObjectTypeName -&gt; Name
</span><a href="Hasura.RQL.Types.CustomTypes.html#unInputObjectTypeName"><span class="hs-identifier hs-var">unInputObjectTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition -&gt; InputObjectTypeName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_iotdName"><span class="hs-identifier hs-var">_iotdName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[InputObjectTypeDefinition]
</span><a href="#local-6989586621690898022"><span class="hs-identifier hs-var">inputObjectDefinitions</span></a></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span>    </span><span class="annot"><a href="#local-6989586621690898027"><span class="hs-identifier hs-type">validateEnum</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-160"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#EnumTypeDefinition"><span class="hs-identifier hs-type">EnumTypeDefinition</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621690898635"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span>    </span><span id="local-6989586621690898027"><span class="annot"><span class="annottext">validateEnum :: EnumTypeDefinition -&gt; m ()
</span><a href="#local-6989586621690898027"><span class="hs-identifier hs-var hs-var">validateEnum</span></a></span></span><span> </span><span id="local-6989586621690897985"><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621690897985"><span class="hs-identifier hs-var">enumDefinition</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-162"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690897984"><span class="annot"><span class="annottext">duplicateEnumValues :: HashSet EnumValue
</span><a href="#local-6989586621690897984"><span class="hs-identifier hs-var hs-var">duplicateEnumValues</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-163"></span><span>            </span><span class="annot"><span class="annottext">forall a. Hashable a =&gt; [a] -&gt; HashSet a
</span><span class="hs-identifier hs-var">L.duplicates</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-164"></span><span>              </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">EnumValueDefinition -&gt; EnumValue
</span><a href="Hasura.RQL.Types.CustomTypes.html#_evdValue"><span class="hs-identifier hs-var">_evdValue</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-165"></span><span>                </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">toList</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-166"></span><span>                  </span><span class="annot"><span class="annottext">EnumTypeDefinition -&gt; NonEmpty EnumValueDefinition
</span><a href="Hasura.RQL.Types.CustomTypes.html#_etdValues"><span class="hs-identifier hs-var">_etdValues</span></a></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621690897985"><span class="hs-identifier hs-var">enumDefinition</span></a></span><span>
</span><span id="line-167"></span><span>      </span><span class="hs-comment">-- check for duplicate field names</span><span>
</span><span id="line-168"></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet EnumValue
</span><a href="#local-6989586621690897984"><span class="hs-identifier hs-var">duplicateEnumValues</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-169"></span><span>        </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-170"></span><span>          </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-171"></span><span>            </span><span class="annot"><span class="annottext">EnumTypeName -&gt; HashSet EnumValue -&gt; CustomTypeValidationError
</span><a href="Hasura.RQL.DDL.CustomTypes.html#DuplicateEnumValues"><span class="hs-identifier hs-var">DuplicateEnumValues</span></a></span><span>
</span><span id="line-172"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EnumTypeDefinition -&gt; EnumTypeName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_etdName"><span class="hs-identifier hs-var">_etdName</span></a></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621690897985"><span class="hs-identifier hs-var">enumDefinition</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span>              </span><span class="annot"><span class="annottext">HashSet EnumValue
</span><a href="#local-6989586621690897984"><span class="hs-identifier hs-var">duplicateEnumValues</span></a></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span>    </span><span class="annot"><a href="#local-6989586621690898023"><span class="hs-identifier hs-type">validateInputObject</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-176"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#InputObjectTypeDefinition"><span class="hs-identifier hs-type">InputObjectTypeDefinition</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">WriterT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Map.HashMap</span></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AnnotatedScalarType"><span class="hs-identifier hs-type">AnnotatedScalarType</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621690898635"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>    </span><span id="local-6989586621690898023"><span class="annot"><span class="annottext">validateInputObject :: InputObjectTypeDefinition
-&gt; WriterT (HashMap Name AnnotatedScalarType) m ()
</span><a href="#local-6989586621690898023"><span class="hs-identifier hs-var hs-var">validateInputObject</span></a></span></span><span> </span><span id="local-6989586621690897979"><span class="annot"><span class="annottext">InputObjectTypeDefinition
</span><a href="#local-6989586621690897979"><span class="hs-identifier hs-var">inputObjectDefinition</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-178"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690897978"><span class="annot"><span class="annottext">inputObjectTypeName :: InputObjectTypeName
</span><a href="#local-6989586621690897978"><span class="hs-identifier hs-var hs-var">inputObjectTypeName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition -&gt; InputObjectTypeName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_iotdName"><span class="hs-identifier hs-var">_iotdName</span></a></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition
</span><a href="#local-6989586621690897979"><span class="hs-identifier hs-var">inputObjectDefinition</span></a></span><span>
</span><span id="line-179"></span><span>          </span><span id="local-6989586621690897977"><span class="annot"><span class="annottext">duplicateFieldNames :: HashSet InputObjectFieldName
</span><a href="#local-6989586621690897977"><span class="hs-identifier hs-var hs-var">duplicateFieldNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-180"></span><span>            </span><span class="annot"><span class="annottext">forall a. Hashable a =&gt; [a] -&gt; HashSet a
</span><span class="hs-identifier hs-var">L.duplicates</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-181"></span><span>              </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">InputObjectFieldDefinition -&gt; InputObjectFieldName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_iofdName"><span class="hs-identifier hs-var">_iofdName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-182"></span><span>                </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">toList</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-183"></span><span>                  </span><span class="annot"><span class="annottext">InputObjectTypeDefinition -&gt; NonEmpty InputObjectFieldDefinition
</span><a href="Hasura.RQL.Types.CustomTypes.html#_iotdFields"><span class="hs-identifier hs-var">_iotdFields</span></a></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition
</span><a href="#local-6989586621690897979"><span class="hs-identifier hs-var">inputObjectDefinition</span></a></span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span>      </span><span class="hs-comment">-- check for duplicate field names</span><span>
</span><span id="line-186"></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet InputObjectFieldName
</span><a href="#local-6989586621690897977"><span class="hs-identifier hs-var">duplicateFieldNames</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-187"></span><span>        </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-188"></span><span>          </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-189"></span><span>            </span><span class="annot"><span class="annottext">InputObjectTypeName
-&gt; HashSet InputObjectFieldName -&gt; CustomTypeValidationError
</span><a href="Hasura.RQL.DDL.CustomTypes.html#InputObjectDuplicateFields"><span class="hs-identifier hs-var">InputObjectDuplicateFields</span></a></span><span>
</span><span id="line-190"></span><span>              </span><span class="annot"><span class="annottext">InputObjectTypeName
</span><a href="#local-6989586621690897978"><span class="hs-identifier hs-var">inputObjectTypeName</span></a></span><span>
</span><span id="line-191"></span><span>              </span><span class="annot"><span class="annottext">HashSet InputObjectFieldName
</span><a href="#local-6989586621690897977"><span class="hs-identifier hs-var">duplicateFieldNames</span></a></span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690897971"><span class="annot"><span class="annottext">mapToSet :: HashMap Name v -&gt; HashSet Name
</span><a href="#local-6989586621690897971"><span class="hs-identifier hs-var hs-var">mapToSet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><span class="hs-identifier hs-var">Set.fromList</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall k v. HashMap k v -&gt; [k]
</span><span class="hs-identifier hs-var">Map.keys</span></span><span>
</span><span id="line-194"></span><span>          </span><span id="local-6989586621690897968"><span class="annot"><span class="annottext">inputTypes :: HashSet Name
</span><a href="#local-6989586621690897968"><span class="hs-identifier hs-var hs-var">inputTypes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-195"></span><span>            </span><span class="annot"><span class="annottext">forall {v}. HashMap Name v -&gt; HashSet Name
</span><a href="#local-6989586621690897971"><span class="hs-identifier hs-var">mapToSet</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name ScalarTypeDefinition
</span><a href="#local-6989586621690898009"><span class="hs-identifier hs-var">scalarTypes</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. (Eq a, Hashable a) =&gt; HashSet a -&gt; HashSet a -&gt; HashSet a
</span><span class="hs-operator hs-var">`Set.union`</span></span><span> </span><span class="annot"><span class="annottext">forall {v}. HashMap Name v -&gt; HashSet Name
</span><a href="#local-6989586621690897971"><span class="hs-identifier hs-var">mapToSet</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name EnumTypeDefinition
</span><a href="#local-6989586621690898006"><span class="hs-identifier hs-var">enumTypes</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. (Eq a, Hashable a) =&gt; HashSet a -&gt; HashSet a -&gt; HashSet a
</span><span class="hs-operator hs-var">`Set.union`</span></span><span> </span><span class="annot"><span class="annottext">forall {v}. HashMap Name v -&gt; HashSet Name
</span><a href="#local-6989586621690897971"><span class="hs-identifier hs-var">mapToSet</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name InputObjectTypeDefinition
</span><a href="#local-6989586621690898003"><span class="hs-identifier hs-var">inputObjectTypes</span></a></span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span>      </span><span class="hs-comment">-- check that fields reference input types</span><span>
</span><span id="line-198"></span><span>      </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">for_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InputObjectTypeDefinition -&gt; NonEmpty InputObjectFieldDefinition
</span><a href="Hasura.RQL.Types.CustomTypes.html#_iotdFields"><span class="hs-identifier hs-var">_iotdFields</span></a></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition
</span><a href="#local-6989586621690897979"><span class="hs-identifier hs-var">inputObjectDefinition</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621690897965"><span class="annot"><span class="annottext">InputObjectFieldDefinition
</span><a href="#local-6989586621690897965"><span class="hs-identifier hs-var">inputObjectField</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-199"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690897964"><span class="annot"><span class="annottext">fieldBaseType :: Name
</span><a href="#local-6989586621690897964"><span class="hs-identifier hs-var hs-var">fieldBaseType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GType -&gt; Name
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.getBaseType</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType -&gt; GType
</span><a href="Hasura.RQL.Types.Table.html#unGraphQLType"><span class="hs-identifier hs-var">unGraphQLType</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">InputObjectFieldDefinition -&gt; GraphQLType
</span><a href="Hasura.RQL.Types.CustomTypes.html#_iofdType"><span class="hs-identifier hs-var">_iofdType</span></a></span><span> </span><span class="annot"><span class="annottext">InputObjectFieldDefinition
</span><a href="#local-6989586621690897965"><span class="hs-identifier hs-var">inputObjectField</span></a></span><span>
</span><span id="line-200"></span><span>        </span><span class="hs-keyword">if</span><span>
</span><span id="line-201"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">forall a. (Eq a, Hashable a) =&gt; a -&gt; HashSet a -&gt; Bool
</span><span class="hs-identifier hs-var">Set.member</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897964"><span class="hs-identifier hs-var">fieldBaseType</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621690897968"><span class="hs-identifier hs-var">inputTypes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621690897959"><span class="annot"><span class="annottext">AnnotatedScalarType
</span><a href="#local-6989586621690897959"><span class="hs-identifier hs-var">scalarInfo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BackendMap ScalarMap -&gt; Name -&gt; Maybe AnnotatedScalarType
</span><a href="Hasura.RQL.DDL.CustomTypes.html#lookupBackendScalar"><span class="hs-identifier hs-var">lookupBackendScalar</span></a></span><span> </span><span class="annot"><span class="annottext">BackendMap ScalarMap
</span><a href="#local-6989586621690898034"><span class="hs-identifier hs-var">allScalars</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897964"><span class="hs-identifier hs-var">fieldBaseType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-203"></span><span>                </span><span class="annot"><span class="annottext">forall w (m :: * -&gt; *). MonadWriter w m =&gt; w -&gt; m ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-var">tell</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall k v. Hashable k =&gt; k -&gt; v -&gt; HashMap k v
</span><span class="hs-identifier hs-var">Map.singleton</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897964"><span class="hs-identifier hs-var">fieldBaseType</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedScalarType
</span><a href="#local-6989586621690897959"><span class="hs-identifier hs-var">scalarInfo</span></a></span><span>
</span><span id="line-204"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-205"></span><span>                </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-206"></span><span>                  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-207"></span><span>                    </span><span class="annot"><span class="annottext">InputObjectTypeName
-&gt; InputObjectFieldName -&gt; Name -&gt; CustomTypeValidationError
</span><a href="Hasura.RQL.DDL.CustomTypes.html#InputObjectFieldTypeDoesNotExist"><span class="hs-identifier hs-var">InputObjectFieldTypeDoesNotExist</span></a></span><span>
</span><span id="line-208"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InputObjectTypeDefinition -&gt; InputObjectTypeName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_iotdName"><span class="hs-identifier hs-var">_iotdName</span></a></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition
</span><a href="#local-6989586621690897979"><span class="hs-identifier hs-var">inputObjectDefinition</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InputObjectFieldDefinition -&gt; InputObjectFieldName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_iofdName"><span class="hs-identifier hs-var">_iofdName</span></a></span><span> </span><span class="annot"><span class="annottext">InputObjectFieldDefinition
</span><a href="#local-6989586621690897965"><span class="hs-identifier hs-var">inputObjectField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span>                      </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897964"><span class="hs-identifier hs-var">fieldBaseType</span></a></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span>    </span><span class="annot"><a href="#local-6989586621690898015"><span class="hs-identifier hs-type">validateObject</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-213"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#ObjectTypeDefinition"><span class="hs-identifier hs-type">ObjectTypeDefinition</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621690898635"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AnnotatedObjectType"><span class="hs-identifier hs-type">AnnotatedObjectType</span></a></span><span>
</span><span id="line-214"></span><span>    </span><span id="local-6989586621690898015"><span class="annot"><span class="annottext">validateObject :: ObjectTypeDefinition -&gt; m AnnotatedObjectType
</span><a href="#local-6989586621690898015"><span class="hs-identifier hs-var hs-var">validateObject</span></a></span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#ObjectTypeDefinition"><span class="hs-identifier hs-type">ObjectTypeDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621690897950"><span id="local-6989586621690897951"><span id="local-6989586621690897952"><span id="local-6989586621690897953"><span class="annot"><span class="annottext">[TypeRelationshipDefinition]
Maybe Description
NonEmpty (ObjectFieldDefinition GraphQLType)
ObjectTypeName
_otdRelationships :: ObjectTypeDefinition -&gt; [TypeRelationshipDefinition]
_otdFields :: ObjectTypeDefinition
-&gt; NonEmpty (ObjectFieldDefinition GraphQLType)
_otdDescription :: ObjectTypeDefinition -&gt; Maybe Description
_otdRelationships :: [TypeRelationshipDefinition]
_otdFields :: NonEmpty (ObjectFieldDefinition GraphQLType)
_otdDescription :: Maybe Description
_otdName :: ObjectTypeName
_otdName :: ObjectTypeDefinition -&gt; ObjectTypeName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_otdRelationships"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-215"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690897946"><span class="annot"><span class="annottext">fieldNames :: [Name]
</span><a href="#local-6989586621690897946"><span class="hs-identifier hs-var hs-var">fieldNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-216"></span><span>            </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ObjectFieldName -&gt; Name
</span><a href="Hasura.RQL.Types.CustomTypes.html#unObjectFieldName"><span class="hs-identifier hs-var">unObjectFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall field. ObjectFieldDefinition field -&gt; ObjectFieldName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_ofdName"><span class="hs-identifier hs-var">_ofdName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-217"></span><span>              </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">toList</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (ObjectFieldDefinition GraphQLType)
</span><a href="#local-6989586621690897951"><span class="hs-identifier hs-var">_otdFields</span></a></span><span>
</span><span id="line-218"></span><span>          </span><span id="local-6989586621690897943"><span class="annot"><span class="annottext">relNames :: [Name]
</span><a href="#local-6989586621690897943"><span class="hs-identifier hs-var hs-var">relNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelationshipName -&gt; Name
</span><a href="Hasura.RQL.Types.CustomTypes.html#unRelationshipName"><span class="hs-identifier hs-var">unRelationshipName</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TypeRelationshipDefinition -&gt; RelationshipName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_trdName"><span class="hs-identifier hs-var">_trdName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TypeRelationshipDefinition]
</span><a href="#local-6989586621690897950"><span class="hs-identifier hs-var">_otdRelationships</span></a></span><span>
</span><span id="line-219"></span><span>          </span><span id="local-6989586621690897940"><span class="annot"><span class="annottext">duplicateFieldNames :: HashSet Name
</span><a href="#local-6989586621690897940"><span class="hs-identifier hs-var hs-var">duplicateFieldNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Hashable a =&gt; [a] -&gt; HashSet a
</span><span class="hs-identifier hs-var">L.duplicates</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621690897946"><span class="hs-identifier hs-var">fieldNames</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621690897943"><span class="hs-identifier hs-var">relNames</span></a></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span>      </span><span class="hs-comment">-- check for duplicate field names</span><span>
</span><span id="line-222"></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621690897940"><span class="hs-identifier hs-var">duplicateFieldNames</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-223"></span><span>        </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-224"></span><span>          </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-225"></span><span>            </span><span class="annot"><span class="annottext">ObjectTypeName -&gt; HashSet Name -&gt; CustomTypeValidationError
</span><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectDuplicateFields"><span class="hs-identifier hs-var">ObjectDuplicateFields</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897953"><span class="hs-identifier hs-var">_otdName</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621690897940"><span class="hs-identifier hs-var">duplicateFieldNames</span></a></span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span>      </span><span id="local-6989586621690897938"><span class="annot"><span class="annottext">NonEmpty (ObjectFieldDefinition (GType, AnnotatedObjectFieldType))
</span><a href="#local-6989586621690897938"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">for</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (ObjectFieldDefinition GraphQLType)
</span><a href="#local-6989586621690897951"><span class="hs-identifier hs-var">_otdFields</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621690897936"><span class="annot"><span class="annottext">ObjectFieldDefinition GraphQLType
</span><a href="#local-6989586621690897936"><span class="hs-identifier hs-var">objectField</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-228"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690897935"><span class="annot"><span class="annottext">fieldName :: ObjectFieldName
</span><a href="#local-6989586621690897935"><span class="hs-identifier hs-var hs-var">fieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall field. ObjectFieldDefinition field -&gt; ObjectFieldName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_ofdName"><span class="hs-identifier hs-var">_ofdName</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectFieldDefinition GraphQLType
</span><a href="#local-6989586621690897936"><span class="hs-identifier hs-var">objectField</span></a></span><span>
</span><span id="line-229"></span><span>        </span><span class="hs-comment">-- check that arguments are not defined</span><span>
</span><span id="line-230"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">isJust</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall field. ObjectFieldDefinition field -&gt; Maybe Value
</span><a href="Hasura.RQL.Types.CustomTypes.html#_ofdArguments"><span class="hs-identifier hs-var">_ofdArguments</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectFieldDefinition GraphQLType
</span><a href="#local-6989586621690897936"><span class="hs-identifier hs-var">objectField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-231"></span><span>          </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-232"></span><span>            </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-233"></span><span>              </span><span class="annot"><span class="annottext">ObjectTypeName -&gt; ObjectFieldName -&gt; CustomTypeValidationError
</span><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectFieldArgumentsNotAllowed"><span class="hs-identifier hs-var">ObjectFieldArgumentsNotAllowed</span></a></span><span>
</span><span id="line-234"></span><span>                </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897953"><span class="hs-identifier hs-var">_otdName</span></a></span><span>
</span><span id="line-235"></span><span>                </span><span class="annot"><span class="annottext">ObjectFieldName
</span><a href="#local-6989586621690897935"><span class="hs-identifier hs-var">fieldName</span></a></span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span>        </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">forM</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectFieldDefinition GraphQLType
</span><a href="#local-6989586621690897936"><span class="hs-identifier hs-var">objectField</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621690897929"><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621690897929"><span class="hs-identifier hs-var">fieldType</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-238"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690897928"><span class="annot"><span class="annottext">fieldBaseType :: Name
</span><a href="#local-6989586621690897928"><span class="hs-identifier hs-var hs-var">fieldBaseType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GType -&gt; Name
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.getBaseType</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType -&gt; GType
</span><a href="Hasura.RQL.Types.Table.html#unGraphQLType"><span class="hs-identifier hs-var">unGraphQLType</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621690897929"><span class="hs-identifier hs-var">fieldType</span></a></span><span>
</span><span id="line-239"></span><span>          </span><span id="local-6989586621690897927"><span class="annot"><span class="annottext">AnnotatedObjectFieldType
</span><a href="#local-6989586621690897927"><span class="hs-identifier hs-var">annotatedObjectFieldType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-240"></span><span>            </span><span class="hs-keyword">if</span><span>
</span><span id="line-241"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621690897926"><span class="annot"><span class="annottext">ScalarTypeDefinition
</span><a href="#local-6989586621690897926"><span class="hs-identifier hs-var">scalarDef</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897928"><span class="hs-identifier hs-var">fieldBaseType</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name ScalarTypeDefinition
</span><a href="#local-6989586621690898009"><span class="hs-identifier hs-var">scalarTypes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-242"></span><span>                    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedScalarType -&gt; AnnotatedObjectFieldType
</span><a href="Hasura.RQL.Types.CustomTypes.html#AOFTScalar"><span class="hs-identifier hs-var">AOFTScalar</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition -&gt; AnnotatedScalarType
</span><a href="Hasura.RQL.Types.CustomTypes.html#ASTCustom"><span class="hs-identifier hs-var">ASTCustom</span></a></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition
</span><a href="#local-6989586621690897926"><span class="hs-identifier hs-var">scalarDef</span></a></span><span>
</span><span id="line-243"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621690897923"><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621690897923"><span class="hs-identifier hs-var">enumDef</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897928"><span class="hs-identifier hs-var">fieldBaseType</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name EnumTypeDefinition
</span><a href="#local-6989586621690898006"><span class="hs-identifier hs-var">enumTypes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-244"></span><span>                    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition -&gt; AnnotatedObjectFieldType
</span><a href="Hasura.RQL.Types.CustomTypes.html#AOFTEnum"><span class="hs-identifier hs-var">AOFTEnum</span></a></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621690897923"><span class="hs-identifier hs-var">enumDef</span></a></span><span>
</span><span id="line-245"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">forall k a. (Eq k, Hashable k) =&gt; k -&gt; HashMap k a -&gt; Bool
</span><span class="hs-identifier hs-var">Map.member</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897928"><span class="hs-identifier hs-var">fieldBaseType</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name ObjectTypeDefinition
</span><a href="#local-6989586621690897986"><span class="hs-identifier hs-var">objectTypes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-246"></span><span>                    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; AnnotatedObjectFieldType
</span><a href="Hasura.RQL.Types.CustomTypes.html#AOFTObject"><span class="hs-identifier hs-var">AOFTObject</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897928"><span class="hs-identifier hs-var">fieldBaseType</span></a></span><span>
</span><span id="line-247"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621690897919"><span class="annot"><span class="annottext">AnnotatedScalarType
</span><a href="#local-6989586621690897919"><span class="hs-identifier hs-var">scalarInfo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BackendMap ScalarMap -&gt; Name -&gt; Maybe AnnotatedScalarType
</span><a href="Hasura.RQL.DDL.CustomTypes.html#lookupBackendScalar"><span class="hs-identifier hs-var">lookupBackendScalar</span></a></span><span> </span><span class="annot"><span class="annottext">BackendMap ScalarMap
</span><a href="#local-6989586621690898034"><span class="hs-identifier hs-var">allScalars</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897928"><span class="hs-identifier hs-var">fieldBaseType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-248"></span><span>                    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedScalarType -&gt; AnnotatedObjectFieldType
</span><a href="Hasura.RQL.Types.CustomTypes.html#AOFTScalar"><span class="hs-identifier hs-var">AOFTScalar</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedScalarType
</span><a href="#local-6989586621690897919"><span class="hs-identifier hs-var">scalarInfo</span></a></span><span>
</span><span id="line-249"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-250"></span><span>                    </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-251"></span><span>                      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-252"></span><span>                        </span><span class="annot"><span class="annottext">ObjectTypeName
-&gt; ObjectFieldName -&gt; Name -&gt; CustomTypeValidationError
</span><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectFieldTypeDoesNotExist"><span class="hs-identifier hs-var">ObjectFieldTypeDoesNotExist</span></a></span><span>
</span><span id="line-253"></span><span>                          </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897953"><span class="hs-identifier hs-var">_otdName</span></a></span><span>
</span><span id="line-254"></span><span>                          </span><span class="annot"><span class="annottext">ObjectFieldName
</span><a href="#local-6989586621690897935"><span class="hs-identifier hs-var">fieldName</span></a></span><span>
</span><span id="line-255"></span><span>                          </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897928"><span class="hs-identifier hs-var">fieldBaseType</span></a></span><span>
</span><span id="line-256"></span><span>          </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GraphQLType -&gt; GType
</span><a href="Hasura.RQL.Types.Table.html#unGraphQLType"><span class="hs-identifier hs-var">unGraphQLType</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621690897929"><span class="hs-identifier hs-var">fieldType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnnotatedObjectFieldType
</span><a href="#local-6989586621690897927"><span class="hs-identifier hs-var">annotatedObjectFieldType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621690897917"><span class="annot"><span class="annottext">fieldsMap :: HashMap ObjectFieldName GType
</span><a href="#local-6989586621690897917"><span class="hs-identifier hs-var hs-var">fieldsMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-259"></span><span>            </span><span class="annot"><span class="annottext">forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">Map.fromList</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-260"></span><span>              </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall field. ObjectFieldDefinition field -&gt; ObjectFieldName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_ofdName"><span class="hs-identifier hs-var">_ofdName</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: * -&gt; * -&gt; *) b c c'.
Arrow a =&gt;
a b c -&gt; a b c' -&gt; a b (c, c')
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&amp;&amp;&amp;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall field. ObjectFieldDefinition field -&gt; field
</span><a href="Hasura.RQL.Types.CustomTypes.html#_ofdType"><span class="hs-identifier hs-var">_ofdType</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-261"></span><span>                </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">toList</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (ObjectFieldDefinition (GType, AnnotatedObjectFieldType))
</span><a href="#local-6989586621690897938"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-262"></span><span>
</span><span id="line-263"></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. HashSet a -&gt; Int
</span><span class="hs-identifier hs-var">Set.size</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><span class="hs-identifier hs-var">Set.fromList</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TypeRelationshipDefinition -&gt; SourceName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_trdSource"><span class="hs-identifier hs-var">_trdSource</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[TypeRelationshipDefinition]
</span><a href="#local-6989586621690897950"><span class="hs-identifier hs-var">_otdRelationships</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-264"></span><span>        </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-265"></span><span>          </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-266"></span><span>            </span><span class="annot"><span class="annottext">ObjectTypeName -&gt; CustomTypeValidationError
</span><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectRelationshipMultiSources"><span class="hs-identifier hs-var">ObjectRelationshipMultiSources</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897953"><span class="hs-identifier hs-var">_otdName</span></a></span><span>
</span><span id="line-267"></span><span>      </span><span id="local-6989586621690897909"><span class="annot"><span class="annottext">[AnnotatedTypeRelationship]
</span><a href="#local-6989586621690897909"><span class="hs-identifier hs-var">annotatedRelationships</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">for</span></a></span><span> </span><span class="annot"><span class="annottext">[TypeRelationshipDefinition]
</span><a href="#local-6989586621690897950"><span class="hs-identifier hs-var">_otdRelationships</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#TypeRelationshipDefinition"><span class="hs-identifier hs-type">TypeRelationshipDefinition</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621690897903"><span id="local-6989586621690897904"><span id="local-6989586621690897905"><span id="local-6989586621690897906"><span id="local-6989586621690897907"><span class="annot"><span class="annottext">HashMap ObjectFieldName PGCol
SourceName
RelType
QualifiedTable
RelationshipName
_trdFieldMapping :: TypeRelationshipDefinition -&gt; HashMap ObjectFieldName PGCol
_trdRemoteTable :: TypeRelationshipDefinition -&gt; QualifiedTable
_trdType :: TypeRelationshipDefinition -&gt; RelType
_trdFieldMapping :: HashMap ObjectFieldName PGCol
_trdRemoteTable :: QualifiedTable
_trdSource :: SourceName
_trdType :: RelType
_trdName :: RelationshipName
_trdSource :: TypeRelationshipDefinition -&gt; SourceName
_trdName :: TypeRelationshipDefinition -&gt; RelationshipName
</span><a href="Hasura.RQL.Types.CustomTypes.html#_trdFieldMapping"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-268"></span><span>        </span><span class="hs-comment">-- get the source info</span><span>
</span><span id="line-269"></span><span>        </span><span class="annot"><a href="Hasura.RQL.Types.Source.html#SourceInfo"><span class="hs-identifier hs-type">SourceInfo</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621690897889"><span id="local-6989586621690897890"><span id="local-6989586621690897891"><span id="local-6989586621690897892"><span id="local-6989586621690897893"><span id="local-6989586621690897894"><span id="local-6989586621690897895"><span id="local-6989586621690897896"><span id="local-6989586621690897897"><span id="local-6989586621690897898"><span class="annot"><span class="annottext">Maybe QueryTagsConfig
TableCache ('Postgres 'Vanilla)
FunctionCache ('Postgres 'Vanilla)
NativeQueryCache ('Postgres 'Vanilla)
LogicalModelCache ('Postgres 'Vanilla)
BackendSourceKind ('Postgres 'Vanilla)
SourceName
SourceConfig ('Postgres 'Vanilla)
ResolvedSourceCustomization
DBObjectsIntrospection ('Postgres 'Vanilla)
_siDbObjectsIntrospection :: forall (b :: BackendType). SourceInfo b -&gt; DBObjectsIntrospection b
_siCustomization :: forall (b :: BackendType).
SourceInfo b -&gt; ResolvedSourceCustomization
_siQueryTagsConfig :: forall (b :: BackendType). SourceInfo b -&gt; Maybe QueryTagsConfig
_siConfiguration :: forall (b :: BackendType). SourceInfo b -&gt; SourceConfig b
_siLogicalModels :: forall (b :: BackendType). SourceInfo b -&gt; LogicalModelCache b
_siNativeQueries :: forall (b :: BackendType). SourceInfo b -&gt; NativeQueryCache b
_siFunctions :: forall (b :: BackendType). SourceInfo b -&gt; FunctionCache b
_siTables :: forall (b :: BackendType). SourceInfo b -&gt; TableCache b
_siSourceKind :: forall (b :: BackendType). SourceInfo b -&gt; BackendSourceKind b
_siName :: forall (b :: BackendType). SourceInfo b -&gt; SourceName
_siDbObjectsIntrospection :: DBObjectsIntrospection ('Postgres 'Vanilla)
_siCustomization :: ResolvedSourceCustomization
_siQueryTagsConfig :: Maybe QueryTagsConfig
_siConfiguration :: SourceConfig ('Postgres 'Vanilla)
_siLogicalModels :: LogicalModelCache ('Postgres 'Vanilla)
_siNativeQueries :: NativeQueryCache ('Postgres 'Vanilla)
_siFunctions :: FunctionCache ('Postgres 'Vanilla)
_siTables :: TableCache ('Postgres 'Vanilla)
_siSourceKind :: BackendSourceKind ('Postgres 'Vanilla)
_siName :: SourceName
</span><a href="Hasura.RQL.Types.Source.html#_siDbObjectsIntrospection"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-270"></span><span>          </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier hs-var">onNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (b :: BackendType).
HasTag b =&gt;
BackendSourceInfo -&gt; Maybe (SourceInfo b)
</span><a href="Hasura.RQL.Types.Source.html#unsafeSourceInfo"><span class="hs-identifier hs-var">unsafeSourceInfo</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621690897905"><span class="hs-identifier hs-var">_trdSource</span></a></span><span> </span><span class="annot"><span class="annottext">SourceCache
</span><a href="#local-6989586621690898036"><span class="hs-identifier hs-var">sources</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-271"></span><span>            </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-272"></span><span>              </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-273"></span><span>                </span><span class="annot"><span class="annottext">ObjectTypeName
-&gt; RelationshipName -&gt; QualifiedTable -&gt; CustomTypeValidationError
</span><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectRelationshipTableDoesNotExist"><span class="hs-identifier hs-var">ObjectRelationshipTableDoesNotExist</span></a></span><span>
</span><span id="line-274"></span><span>                  </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897953"><span class="hs-identifier hs-var">_otdName</span></a></span><span>
</span><span id="line-275"></span><span>                  </span><span class="annot"><span class="annottext">RelationshipName
</span><a href="#local-6989586621690897907"><span class="hs-identifier hs-var">_trdName</span></a></span><span>
</span><span id="line-276"></span><span>                  </span><span class="annot"><span class="annottext">QualifiedTable
</span><a href="#local-6989586621690897904"><span class="hs-identifier hs-var">_trdRemoteTable</span></a></span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span>        </span><span class="hs-comment">-- check that the table exists</span><span>
</span><span id="line-279"></span><span>        </span><span id="local-6989586621690897874"><span class="annot"><span class="annottext">TableInfo ('Postgres 'Vanilla)
</span><a href="#local-6989586621690897874"><span class="hs-identifier hs-var">remoteTableInfo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-280"></span><span>          </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier hs-var">onNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">QualifiedTable
</span><a href="#local-6989586621690897904"><span class="hs-identifier hs-var">_trdRemoteTable</span></a></span><span> </span><span class="annot"><span class="annottext">TableCache ('Postgres 'Vanilla)
</span><a href="#local-6989586621690897896"><span class="hs-identifier hs-var">_siTables</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-281"></span><span>            </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-282"></span><span>              </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-283"></span><span>                </span><span class="annot"><span class="annottext">ObjectTypeName
-&gt; RelationshipName -&gt; QualifiedTable -&gt; CustomTypeValidationError
</span><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectRelationshipTableDoesNotExist"><span class="hs-identifier hs-var">ObjectRelationshipTableDoesNotExist</span></a></span><span>
</span><span id="line-284"></span><span>                  </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897953"><span class="hs-identifier hs-var">_otdName</span></a></span><span>
</span><span id="line-285"></span><span>                  </span><span class="annot"><span class="annottext">RelationshipName
</span><a href="#local-6989586621690897907"><span class="hs-identifier hs-var">_trdName</span></a></span><span>
</span><span id="line-286"></span><span>                  </span><span class="annot"><span class="annottext">QualifiedTable
</span><a href="#local-6989586621690897904"><span class="hs-identifier hs-var">_trdRemoteTable</span></a></span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span>        </span><span class="hs-comment">-- check that the column mapping is sane</span><span>
</span><span id="line-289"></span><span>        </span><span id="local-6989586621690897873"><span class="annot"><span class="annottext">HashMap ObjectFieldName (ColumnInfo ('Postgres 'Vanilla))
</span><a href="#local-6989586621690897873"><span class="hs-identifier hs-var">annotatedFieldMapping</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) k v1 v2.
Applicative f =&gt;
(k -&gt; v1 -&gt; f v2) -&gt; HashMap k v1 -&gt; f (HashMap k v2)
</span><span class="hs-identifier hs-var">Map.traverseWithKey</span></span><span> </span><span class="annot"><span class="annottext">HashMap ObjectFieldName PGCol
</span><a href="#local-6989586621690897903"><span class="hs-identifier hs-var">_trdFieldMapping</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-290"></span><span>          </span><span class="hs-glyph">\</span><span id="local-6989586621690897870"><span class="annot"><span class="annottext">ObjectFieldName
</span><a href="#local-6989586621690897870"><span class="hs-identifier hs-var">fieldName</span></a></span></span><span> </span><span id="local-6989586621690897869"><span class="annot"><span class="annottext">PGCol
</span><a href="#local-6989586621690897869"><span class="hs-identifier hs-var">columnName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-291"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">ObjectFieldName
</span><a href="#local-6989586621690897870"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap ObjectFieldName GType
</span><a href="#local-6989586621690897917"><span class="hs-identifier hs-var">fieldsMap</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-292"></span><span>              </span><span class="annot"><span class="annottext">Maybe GType
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-293"></span><span>                </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-294"></span><span>                  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-295"></span><span>                    </span><span class="annot"><span class="annottext">ObjectTypeName
-&gt; RelationshipName -&gt; ObjectFieldName -&gt; CustomTypeValidationError
</span><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectRelationshipFieldDoesNotExist"><span class="hs-identifier hs-var">ObjectRelationshipFieldDoesNotExist</span></a></span><span>
</span><span id="line-296"></span><span>                      </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897953"><span class="hs-identifier hs-var">_otdName</span></a></span><span>
</span><span id="line-297"></span><span>                      </span><span class="annot"><span class="annottext">RelationshipName
</span><a href="#local-6989586621690897907"><span class="hs-identifier hs-var">_trdName</span></a></span><span>
</span><span id="line-298"></span><span>                      </span><span class="annot"><span class="annottext">ObjectFieldName
</span><a href="#local-6989586621690897870"><span class="hs-identifier hs-var">fieldName</span></a></span><span>
</span><span id="line-299"></span><span>              </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621690897867"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621690897867"><span class="hs-identifier hs-var">fieldType</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-300"></span><span>                </span><span class="hs-comment">-- the field should be a non-list type scalar</span><span>
</span><span id="line-301"></span><span>                </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GType -&gt; Bool
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-var">G.isListType</span></a></span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621690897867"><span class="hs-identifier hs-var">fieldType</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-302"></span><span>                  </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-303"></span><span>                    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-304"></span><span>                      </span><span class="annot"><span class="annottext">ObjectTypeName
-&gt; RelationshipName -&gt; ObjectFieldName -&gt; CustomTypeValidationError
</span><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectRelationshipFieldListType"><span class="hs-identifier hs-var">ObjectRelationshipFieldListType</span></a></span><span>
</span><span id="line-305"></span><span>                        </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897953"><span class="hs-identifier hs-var">_otdName</span></a></span><span>
</span><span id="line-306"></span><span>                        </span><span class="annot"><span class="annottext">RelationshipName
</span><a href="#local-6989586621690897907"><span class="hs-identifier hs-var">_trdName</span></a></span><span>
</span><span id="line-307"></span><span>                        </span><span class="annot"><span class="annottext">ObjectFieldName
</span><a href="#local-6989586621690897870"><span class="hs-identifier hs-var">fieldName</span></a></span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span>            </span><span class="hs-comment">-- the column should be a column of the table</span><span>
</span><span id="line-310"></span><span>            </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier hs-var">onNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (b :: BackendType).
TableInfo b -&gt; FieldName -&gt; Maybe (ColumnInfo b)
</span><a href="Hasura.RQL.Types.Table.html#getColumnInfoM"><span class="hs-identifier hs-var">getColumnInfoM</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo ('Postgres 'Vanilla)
</span><a href="#local-6989586621690897874"><span class="hs-identifier hs-var">remoteTableInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (b :: BackendType). Backend b =&gt; Column b -&gt; FieldName
</span><a href="Hasura.RQL.Types.Column.html#fromCol"><span class="hs-identifier hs-var">fromCol</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Hasura.RQL.Types.BackendType.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.RQL.Types.BackendType.html#Vanilla"><span class="hs-identifier hs-type">Vanilla</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PGCol
</span><a href="#local-6989586621690897869"><span class="hs-identifier hs-var">columnName</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-311"></span><span>              </span><span class="annot"><span class="annottext">forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-312"></span><span>                </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-313"></span><span>                  </span><span class="annot"><span class="annottext">ObjectTypeName
-&gt; RelationshipName
-&gt; QualifiedTable
-&gt; PGCol
-&gt; CustomTypeValidationError
</span><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectRelationshipColumnDoesNotExist"><span class="hs-identifier hs-var">ObjectRelationshipColumnDoesNotExist</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897953"><span class="hs-identifier hs-var">_otdName</span></a></span><span> </span><span class="annot"><span class="annottext">RelationshipName
</span><a href="#local-6989586621690897907"><span class="hs-identifier hs-var">_trdName</span></a></span><span> </span><span class="annot"><span class="annottext">QualifiedTable
</span><a href="#local-6989586621690897904"><span class="hs-identifier hs-var">_trdRemoteTable</span></a></span><span> </span><span class="annot"><span class="annottext">PGCol
</span><a href="#local-6989586621690897869"><span class="hs-identifier hs-var">columnName</span></a></span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-316"></span><span>          </span><span class="annot"><span class="annottext">RelationshipName
-&gt; RelType
-&gt; SourceName
-&gt; SourceConfig ('Postgres 'Vanilla)
-&gt; TableName ('Postgres 'Vanilla)
-&gt; HashMap ObjectFieldName (ColumnInfo ('Postgres 'Vanilla))
-&gt; AnnotatedTypeRelationship
</span><a href="Hasura.RQL.Types.CustomTypes.html#AnnotatedTypeRelationship"><span class="hs-identifier hs-var">AnnotatedTypeRelationship</span></a></span><span>
</span><span id="line-317"></span><span>            </span><span class="annot"><span class="annottext">RelationshipName
</span><a href="#local-6989586621690897907"><span class="hs-identifier hs-var">_trdName</span></a></span><span>
</span><span id="line-318"></span><span>            </span><span class="annot"><span class="annottext">RelType
</span><a href="#local-6989586621690897906"><span class="hs-identifier hs-var">_trdType</span></a></span><span>
</span><span id="line-319"></span><span>            </span><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621690897898"><span class="hs-identifier hs-var">_siName</span></a></span><span>
</span><span id="line-320"></span><span>            </span><span class="annot"><span class="annottext">SourceConfig ('Postgres 'Vanilla)
</span><a href="#local-6989586621690897892"><span class="hs-identifier hs-var">_siConfiguration</span></a></span><span>
</span><span id="line-321"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (b :: BackendType). TableInfo b -&gt; TableName b
</span><a href="Hasura.RQL.Types.Table.html#tableInfoName"><span class="hs-identifier hs-var">tableInfoName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo ('Postgres 'Vanilla)
</span><a href="#local-6989586621690897874"><span class="hs-identifier hs-var">remoteTableInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span>            </span><span class="annot"><span class="annottext">HashMap ObjectFieldName (ColumnInfo ('Postgres 'Vanilla))
</span><a href="#local-6989586621690897873"><span class="hs-identifier hs-var">annotatedFieldMapping</span></a></span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-325"></span><span>        </span><span class="annot"><span class="annottext">ObjectTypeName
-&gt; Maybe Description
-&gt; NonEmpty
     (ObjectFieldDefinition (GType, AnnotatedObjectFieldType))
-&gt; [AnnotatedTypeRelationship]
-&gt; AnnotatedObjectType
</span><a href="Hasura.RQL.Types.CustomTypes.html#AnnotatedObjectType"><span class="hs-identifier hs-var">AnnotatedObjectType</span></a></span><span>
</span><span id="line-326"></span><span>          </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897953"><span class="hs-identifier hs-var">_otdName</span></a></span><span>
</span><span id="line-327"></span><span>          </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621690897952"><span class="hs-identifier hs-var">_otdDescription</span></a></span><span>
</span><span id="line-328"></span><span>          </span><span class="annot"><span class="annottext">NonEmpty (ObjectFieldDefinition (GType, AnnotatedObjectFieldType))
</span><a href="#local-6989586621690897938"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-329"></span><span>          </span><span class="annot"><span class="annottext">[AnnotatedTypeRelationship]
</span><a href="#local-6989586621690897909"><span class="hs-identifier hs-var">annotatedRelationships</span></a></span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span class="hs-comment">-- see Note [Postgres scalars in custom types]</span><span>
</span><span id="line-332"></span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#lookupBackendScalar"><span class="hs-identifier hs-type">lookupBackendScalar</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-333"></span><span>  </span><span class="annot"><a href="Hasura.SQL.BackendMap.html#BackendMap"><span class="hs-identifier hs-type">BackendMap</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Source.html#ScalarMap"><span class="hs-identifier hs-type">ScalarMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-334"></span><span>  </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-335"></span><span>  </span><span class="annot"><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#AnnotatedScalarType"><span class="hs-identifier hs-type">AnnotatedScalarType</span></a></span><span>
</span><span id="line-336"></span><span id="lookupBackendScalar"><span class="annot"><span class="annottext">lookupBackendScalar :: BackendMap ScalarMap -&gt; Name -&gt; Maybe AnnotatedScalarType
</span><a href="Hasura.RQL.DDL.CustomTypes.html#lookupBackendScalar"><span class="hs-identifier hs-var hs-var">lookupBackendScalar</span></a></span></span><span> </span><span id="local-6989586621690897858"><span class="annot"><span class="annottext">BackendMap ScalarMap
</span><a href="#local-6989586621690897858"><span class="hs-identifier hs-var">allScalars</span></a></span></span><span> </span><span id="local-6989586621690897857"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897857"><span class="hs-identifier hs-var">baseType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-337"></span><span>  </span><span class="hs-comment">-- FIXME: this ignores name collisions across backends!</span><span>
</span><span id="line-338"></span><span>  </span><span class="annot"><span class="annottext">forall a. First a -&gt; Maybe a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">getFirst</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">foldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; First a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">First</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend ScalarMap -&gt; Maybe AnnotatedScalarType
</span><a href="#local-6989586621690897853"><span class="hs-identifier hs-var">go</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (i :: BackendType -&gt; *). BackendMap i -&gt; [AnyBackend i]
</span><a href="Hasura.SQL.BackendMap.html#elems"><span class="hs-identifier hs-var">BackendMap.elems</span></a></span><span> </span><span class="annot"><span class="annottext">BackendMap ScalarMap
</span><a href="#local-6989586621690897858"><span class="hs-identifier hs-var">allScalars</span></a></span><span>
</span><span id="line-339"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-340"></span><span>    </span><span id="local-6989586621690897853"><span class="annot"><span class="annottext">go :: AnyBackend ScalarMap -&gt; Maybe AnnotatedScalarType
</span><a href="#local-6989586621690897853"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621690897851"><span class="annot"><span class="annottext">AnyBackend ScalarMap
</span><a href="#local-6989586621690897851"><span class="hs-identifier hs-var">backendScalars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-341"></span><span>      </span><span class="annot"><span class="annottext">Name -&gt; AnyBackend ScalarWrapper -&gt; AnnotatedScalarType
</span><a href="Hasura.RQL.Types.CustomTypes.html#ASTReusedScalar"><span class="hs-identifier hs-var">ASTReusedScalar</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897857"><span class="hs-identifier hs-var">baseType</span></a></span><span>
</span><span id="line-342"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (c :: BackendType -&gt; Constraint) (i :: BackendType -&gt; *)
       (j :: BackendType -&gt; *) (f :: * -&gt; *).
(AllBackendsSatisfy c, Functor f) =&gt;
AnyBackend i
-&gt; (forall (b :: BackendType). c b =&gt; i b -&gt; f (j b))
-&gt; f (AnyBackend j)
</span><a href="Hasura.SQL.AnyBackend.html#traverseBackend"><span class="hs-identifier hs-var">AB.traverseBackend</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend ScalarMap
</span><a href="#local-6989586621690897851"><span class="hs-identifier hs-var">backendScalars</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621690897844"><span class="annot"><a href="Hasura.RQL.Types.Source.html#ScalarMap"><span class="hs-identifier hs-type">ScalarMap</span></a></span><span> </span><span id="local-6989586621690897842"><span class="annot"><span class="annottext">HashMap Name (ScalarType b)
</span><a href="#local-6989586621690897842"><span class="hs-identifier hs-var">scalarMap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Source.html#ScalarMap"><span class="hs-identifier hs-type">ScalarMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621690897844"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-343"></span><span>          </span><span class="annot"><span class="annottext">forall (b :: BackendType). ScalarType b -&gt; ScalarWrapper b
</span><a href="Hasura.RQL.Types.CustomTypes.html#ScalarWrapper"><span class="hs-identifier hs-var">ScalarWrapper</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897857"><span class="hs-identifier hs-var">baseType</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name (ScalarType b)
</span><a href="#local-6989586621690897842"><span class="hs-identifier hs-var">scalarMap</span></a></span><span>
</span><span id="line-344"></span><span>
</span><span id="line-345"></span><span class="hs-keyword">data</span><span> </span><span id="CustomTypeValidationError"><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#CustomTypeValidationError"><span class="hs-identifier hs-var">CustomTypeValidationError</span></a></span></span><span>
</span><span id="line-346"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- | type names have to be unique across all types</span><span>
</span><span id="line-347"></span><span>    </span><span id="DuplicateTypeNames"><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#DuplicateTypeNames"><span class="hs-identifier hs-var">DuplicateTypeNames</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set.HashSet</span></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-348"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | field name and the field's base type</span><span>
</span><span id="line-349"></span><span>    </span><span id="InputObjectFieldTypeDoesNotExist"><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#InputObjectFieldTypeDoesNotExist"><span class="hs-identifier hs-var">InputObjectFieldTypeDoesNotExist</span></a></span></span><span>
</span><span id="line-350"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#InputObjectTypeName"><span class="hs-identifier hs-type">InputObjectTypeName</span></a></span><span>
</span><span id="line-351"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#InputObjectFieldName"><span class="hs-identifier hs-type">InputObjectFieldName</span></a></span><span>
</span><span id="line-352"></span><span>      </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span>
</span><span id="line-353"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | duplicate field declaration in input objects</span><span>
</span><span id="line-354"></span><span>    </span><span id="InputObjectDuplicateFields"><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#InputObjectDuplicateFields"><span class="hs-identifier hs-var">InputObjectDuplicateFields</span></a></span></span><span>
</span><span id="line-355"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#InputObjectTypeName"><span class="hs-identifier hs-type">InputObjectTypeName</span></a></span><span>
</span><span id="line-356"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set.HashSet</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#InputObjectFieldName"><span class="hs-identifier hs-type">InputObjectFieldName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | field name and the field's base type</span><span>
</span><span id="line-358"></span><span>    </span><span id="ObjectFieldTypeDoesNotExist"><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectFieldTypeDoesNotExist"><span class="hs-identifier hs-var">ObjectFieldTypeDoesNotExist</span></a></span></span><span>
</span><span id="line-359"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#ObjectTypeName"><span class="hs-identifier hs-type">ObjectTypeName</span></a></span><span>
</span><span id="line-360"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#ObjectFieldName"><span class="hs-identifier hs-type">ObjectFieldName</span></a></span><span>
</span><span id="line-361"></span><span>      </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span>
</span><span id="line-362"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | duplicate field declaration in objects</span><span>
</span><span id="line-363"></span><span>    </span><span id="ObjectDuplicateFields"><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectDuplicateFields"><span class="hs-identifier hs-var">ObjectDuplicateFields</span></a></span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#ObjectTypeName"><span class="hs-identifier hs-type">ObjectTypeName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set.HashSet</span></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | object fields can't have arguments</span><span>
</span><span id="line-365"></span><span>    </span><span id="ObjectFieldArgumentsNotAllowed"><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectFieldArgumentsNotAllowed"><span class="hs-identifier hs-var">ObjectFieldArgumentsNotAllowed</span></a></span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#ObjectTypeName"><span class="hs-identifier hs-type">ObjectTypeName</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#ObjectFieldName"><span class="hs-identifier hs-type">ObjectFieldName</span></a></span><span>
</span><span id="line-366"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | object fields can't have object types as base types</span><span>
</span><span id="line-367"></span><span>    </span><span id="ObjectFieldObjectBaseType"><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectFieldObjectBaseType"><span class="hs-identifier hs-var">ObjectFieldObjectBaseType</span></a></span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#ObjectTypeName"><span class="hs-identifier hs-type">ObjectTypeName</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#ObjectFieldName"><span class="hs-identifier hs-type">ObjectFieldName</span></a></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.Name</span></a></span><span>
</span><span id="line-368"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | The table specified in the relationship does not exist</span><span>
</span><span id="line-369"></span><span>    </span><span id="ObjectRelationshipTableDoesNotExist"><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectRelationshipTableDoesNotExist"><span class="hs-identifier hs-var">ObjectRelationshipTableDoesNotExist</span></a></span></span><span>
</span><span id="line-370"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#ObjectTypeName"><span class="hs-identifier hs-type">ObjectTypeName</span></a></span><span>
</span><span id="line-371"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#RelationshipName"><span class="hs-identifier hs-type">RelationshipName</span></a></span><span>
</span><span id="line-372"></span><span>      </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html#QualifiedTable"><span class="hs-identifier hs-type">QualifiedTable</span></a></span><span>
</span><span id="line-373"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | The field specified in the relationship mapping does not exist</span><span>
</span><span id="line-374"></span><span>    </span><span id="ObjectRelationshipFieldDoesNotExist"><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectRelationshipFieldDoesNotExist"><span class="hs-identifier hs-var">ObjectRelationshipFieldDoesNotExist</span></a></span></span><span>
</span><span id="line-375"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#ObjectTypeName"><span class="hs-identifier hs-type">ObjectTypeName</span></a></span><span>
</span><span id="line-376"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#RelationshipName"><span class="hs-identifier hs-type">RelationshipName</span></a></span><span>
</span><span id="line-377"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#ObjectFieldName"><span class="hs-identifier hs-type">ObjectFieldName</span></a></span><span>
</span><span id="line-378"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | The field specified in the relationship mapping is a list type</span><span>
</span><span id="line-379"></span><span>    </span><span id="ObjectRelationshipFieldListType"><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectRelationshipFieldListType"><span class="hs-identifier hs-var">ObjectRelationshipFieldListType</span></a></span></span><span>
</span><span id="line-380"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#ObjectTypeName"><span class="hs-identifier hs-type">ObjectTypeName</span></a></span><span>
</span><span id="line-381"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#RelationshipName"><span class="hs-identifier hs-type">RelationshipName</span></a></span><span>
</span><span id="line-382"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#ObjectFieldName"><span class="hs-identifier hs-type">ObjectFieldName</span></a></span><span>
</span><span id="line-383"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | The column specified in the relationship mapping does not exist</span><span>
</span><span id="line-384"></span><span>    </span><span id="ObjectRelationshipColumnDoesNotExist"><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectRelationshipColumnDoesNotExist"><span class="hs-identifier hs-var">ObjectRelationshipColumnDoesNotExist</span></a></span></span><span>
</span><span id="line-385"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#ObjectTypeName"><span class="hs-identifier hs-type">ObjectTypeName</span></a></span><span>
</span><span id="line-386"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#RelationshipName"><span class="hs-identifier hs-type">RelationshipName</span></a></span><span>
</span><span id="line-387"></span><span>      </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html#QualifiedTable"><span class="hs-identifier hs-type">QualifiedTable</span></a></span><span>
</span><span id="line-388"></span><span>      </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html#PGCol"><span class="hs-identifier hs-type">PGCol</span></a></span><span>
</span><span id="line-389"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | Object relationship refers to table in multiple sources</span><span>
</span><span id="line-390"></span><span>    </span><span id="ObjectRelationshipMultiSources"><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectRelationshipMultiSources"><span class="hs-identifier hs-var">ObjectRelationshipMultiSources</span></a></span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#ObjectTypeName"><span class="hs-identifier hs-type">ObjectTypeName</span></a></span><span>
</span><span id="line-391"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | duplicate enum values</span><span>
</span><span id="line-392"></span><span>    </span><span id="DuplicateEnumValues"><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#DuplicateEnumValues"><span class="hs-identifier hs-var">DuplicateEnumValues</span></a></span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#EnumTypeName"><span class="hs-identifier hs-type">EnumTypeName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set.HashSet</span></span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.2.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src"><span class="hs-identifier hs-type">G.EnumValue</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-393"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621690897777"><span id="local-6989586621690897779"><span id="local-6989586621690897838"><span class="annot"><span class="annottext">Int -&gt; CustomTypeValidationError -&gt; ShowS
[CustomTypeValidationError] -&gt; ShowS
CustomTypeValidationError -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [CustomTypeValidationError] -&gt; ShowS
$cshowList :: [CustomTypeValidationError] -&gt; ShowS
show :: CustomTypeValidationError -&gt; String
$cshow :: CustomTypeValidationError -&gt; String
showsPrec :: Int -&gt; CustomTypeValidationError -&gt; ShowS
$cshowsPrec :: Int -&gt; CustomTypeValidationError -&gt; ShowS
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621690897727"><span id="local-6989586621690897771"><span class="annot"><span class="annottext">CustomTypeValidationError -&gt; CustomTypeValidationError -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: CustomTypeValidationError -&gt; CustomTypeValidationError -&gt; Bool
$c/= :: CustomTypeValidationError -&gt; CustomTypeValidationError -&gt; Bool
== :: CustomTypeValidationError -&gt; CustomTypeValidationError -&gt; Bool
$c== :: CustomTypeValidationError -&gt; CustomTypeValidationError -&gt; Bool
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#showCustomTypeValidationError"><span class="hs-identifier hs-type">showCustomTypeValidationError</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-396"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#CustomTypeValidationError"><span class="hs-identifier hs-type">CustomTypeValidationError</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-397"></span><span id="showCustomTypeValidationError"><span class="annot"><span class="annottext">showCustomTypeValidationError :: CustomTypeValidationError -&gt; Text
</span><a href="Hasura.RQL.DDL.CustomTypes.html#showCustomTypeValidationError"><span class="hs-identifier hs-var hs-var">showCustomTypeValidationError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-398"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#DuplicateTypeNames"><span class="hs-identifier hs-type">DuplicateTypeNames</span></a></span><span> </span><span id="local-6989586621690897724"><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621690897724"><span class="hs-identifier hs-var">types</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-399"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;duplicate type names: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall t (f :: * -&gt; *). (ToTxt t, Foldable f) =&gt; f t -&gt; Text
</span><span class="hs-identifier hs-var">dquoteList</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621690897724"><span class="hs-identifier hs-var">types</span></a></span><span>
</span><span id="line-400"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#InputObjectFieldTypeDoesNotExist"><span class="hs-identifier hs-type">InputObjectFieldTypeDoesNotExist</span></a></span><span> </span><span id="local-6989586621690897722"><span class="annot"><span class="annottext">InputObjectTypeName
</span><a href="#local-6989586621690897722"><span class="hs-identifier hs-var">objType</span></a></span></span><span> </span><span id="local-6989586621690897721"><span class="annot"><span class="annottext">InputObjectFieldName
</span><a href="#local-6989586621690897721"><span class="hs-identifier hs-var">fieldName</span></a></span></span><span> </span><span id="local-6989586621690897720"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897720"><span class="hs-identifier hs-var">fieldTy</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-401"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;the type &quot;</span></span><span>
</span><span id="line-402"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897720"><span class="hs-identifier hs-var">fieldTy</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; for field &quot;</span></span><span>
</span><span id="line-403"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">InputObjectFieldName
</span><a href="#local-6989586621690897721"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; in &quot;</span></span><span>
</span><span id="line-404"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; input object type &quot;</span></span><span>
</span><span id="line-405"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeName
</span><a href="#local-6989586621690897722"><span class="hs-identifier hs-var">objType</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; does not exist&quot;</span></span><span>
</span><span id="line-406"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#InputObjectDuplicateFields"><span class="hs-identifier hs-type">InputObjectDuplicateFields</span></a></span><span> </span><span id="local-6989586621690897718"><span class="annot"><span class="annottext">InputObjectTypeName
</span><a href="#local-6989586621690897718"><span class="hs-identifier hs-var">objType</span></a></span></span><span> </span><span id="local-6989586621690897717"><span class="annot"><span class="annottext">HashSet InputObjectFieldName
</span><a href="#local-6989586621690897717"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-407"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;the input object &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeName
</span><a href="#local-6989586621690897718"><span class="hs-identifier hs-var">objType</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; has duplicate fields: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall t (f :: * -&gt; *). (ToTxt t, Foldable f) =&gt; f t -&gt; Text
</span><span class="hs-identifier hs-var">dquoteList</span></span><span> </span><span class="annot"><span class="annottext">HashSet InputObjectFieldName
</span><a href="#local-6989586621690897717"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-408"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectFieldTypeDoesNotExist"><span class="hs-identifier hs-type">ObjectFieldTypeDoesNotExist</span></a></span><span> </span><span id="local-6989586621690897716"><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897716"><span class="hs-identifier hs-var">objType</span></a></span></span><span> </span><span id="local-6989586621690897715"><span class="annot"><span class="annottext">ObjectFieldName
</span><a href="#local-6989586621690897715"><span class="hs-identifier hs-var">fieldName</span></a></span></span><span> </span><span id="local-6989586621690897714"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897714"><span class="hs-identifier hs-var">fieldTy</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-409"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;the type &quot;</span></span><span>
</span><span id="line-410"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897714"><span class="hs-identifier hs-var">fieldTy</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; for field &quot;</span></span><span>
</span><span id="line-411"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectFieldName
</span><a href="#local-6989586621690897715"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; in &quot;</span></span><span>
</span><span id="line-412"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; object type &quot;</span></span><span>
</span><span id="line-413"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897716"><span class="hs-identifier hs-var">objType</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; does not exist&quot;</span></span><span>
</span><span id="line-414"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectDuplicateFields"><span class="hs-identifier hs-type">ObjectDuplicateFields</span></a></span><span> </span><span id="local-6989586621690897713"><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897713"><span class="hs-identifier hs-var">objType</span></a></span></span><span> </span><span id="local-6989586621690897712"><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621690897712"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-415"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;the object &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897713"><span class="hs-identifier hs-var">objType</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; has duplicate fields: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall t (f :: * -&gt; *). (ToTxt t, Foldable f) =&gt; f t -&gt; Text
</span><span class="hs-identifier hs-var">dquoteList</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621690897712"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-416"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectFieldArgumentsNotAllowed"><span class="hs-identifier hs-type">ObjectFieldArgumentsNotAllowed</span></a></span><span> </span><span id="local-6989586621690897711"><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897711"><span class="hs-identifier hs-var">objType</span></a></span></span><span> </span><span class="annot"><span class="annottext">ObjectFieldName
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-417"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;the object &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897711"><span class="hs-identifier hs-var">objType</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; can't have arguments&quot;</span></span><span>
</span><span id="line-418"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectFieldObjectBaseType"><span class="hs-identifier hs-type">ObjectFieldObjectBaseType</span></a></span><span> </span><span id="local-6989586621690897710"><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897710"><span class="hs-identifier hs-var">objType</span></a></span></span><span> </span><span id="local-6989586621690897709"><span class="annot"><span class="annottext">ObjectFieldName
</span><a href="#local-6989586621690897709"><span class="hs-identifier hs-var">fieldName</span></a></span></span><span> </span><span id="local-6989586621690897708"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897708"><span class="hs-identifier hs-var">fieldType</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-419"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;the type &quot;</span></span><span>
</span><span id="line-420"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621690897708"><span class="hs-identifier hs-var">fieldType</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; of the field &quot;</span></span><span>
</span><span id="line-421"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectFieldName
</span><a href="#local-6989586621690897709"><span class="hs-identifier hs-var">fieldName</span></a></span><span>
</span><span id="line-422"></span><span>        </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; in the object type &quot;</span></span><span>
</span><span id="line-423"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897710"><span class="hs-identifier hs-var">objType</span></a></span><span>
</span><span id="line-424"></span><span>        </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; is object type which isn't allowed&quot;</span></span><span>
</span><span id="line-425"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectRelationshipTableDoesNotExist"><span class="hs-identifier hs-type">ObjectRelationshipTableDoesNotExist</span></a></span><span> </span><span id="local-6989586621690897707"><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897707"><span class="hs-identifier hs-var">objType</span></a></span></span><span> </span><span id="local-6989586621690897706"><span class="annot"><span class="annottext">RelationshipName
</span><a href="#local-6989586621690897706"><span class="hs-identifier hs-var">relName</span></a></span></span><span> </span><span id="local-6989586621690897705"><span class="annot"><span class="annottext">QualifiedTable
</span><a href="#local-6989586621690897705"><span class="hs-identifier hs-var">table</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-426"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;the remote table &quot;</span></span><span>
</span><span id="line-427"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">QualifiedTable
</span><a href="#local-6989586621690897705"><span class="hs-identifier hs-var">table</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; for relationship &quot;</span></span><span>
</span><span id="line-428"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">RelationshipName
</span><a href="#local-6989586621690897706"><span class="hs-identifier hs-var">relName</span></a></span><span>
</span><span id="line-429"></span><span>        </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; of object type &quot;</span></span><span>
</span><span id="line-430"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897707"><span class="hs-identifier hs-var">objType</span></a></span><span>
</span><span id="line-431"></span><span>        </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; does not exist&quot;</span></span><span>
</span><span id="line-432"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectRelationshipFieldDoesNotExist"><span class="hs-identifier hs-type">ObjectRelationshipFieldDoesNotExist</span></a></span><span> </span><span id="local-6989586621690897704"><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897704"><span class="hs-identifier hs-var">objType</span></a></span></span><span> </span><span id="local-6989586621690897703"><span class="annot"><span class="annottext">RelationshipName
</span><a href="#local-6989586621690897703"><span class="hs-identifier hs-var">relName</span></a></span></span><span> </span><span id="local-6989586621690897702"><span class="annot"><span class="annottext">ObjectFieldName
</span><a href="#local-6989586621690897702"><span class="hs-identifier hs-var">fieldName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-433"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;the field &quot;</span></span><span>
</span><span id="line-434"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectFieldName
</span><a href="#local-6989586621690897702"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; for relationship &quot;</span></span><span>
</span><span id="line-435"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">RelationshipName
</span><a href="#local-6989586621690897703"><span class="hs-identifier hs-var">relName</span></a></span><span>
</span><span id="line-436"></span><span>        </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; in object type &quot;</span></span><span>
</span><span id="line-437"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897704"><span class="hs-identifier hs-var">objType</span></a></span><span>
</span><span id="line-438"></span><span>        </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; does not exist&quot;</span></span><span>
</span><span id="line-439"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectRelationshipFieldListType"><span class="hs-identifier hs-type">ObjectRelationshipFieldListType</span></a></span><span> </span><span id="local-6989586621690897701"><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897701"><span class="hs-identifier hs-var">objType</span></a></span></span><span> </span><span id="local-6989586621690897700"><span class="annot"><span class="annottext">RelationshipName
</span><a href="#local-6989586621690897700"><span class="hs-identifier hs-var">relName</span></a></span></span><span> </span><span id="local-6989586621690897699"><span class="annot"><span class="annottext">ObjectFieldName
</span><a href="#local-6989586621690897699"><span class="hs-identifier hs-var">fieldName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-440"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;the type of the field &quot;</span></span><span>
</span><span id="line-441"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectFieldName
</span><a href="#local-6989586621690897699"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; for relationship &quot;</span></span><span>
</span><span id="line-442"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">RelationshipName
</span><a href="#local-6989586621690897700"><span class="hs-identifier hs-var">relName</span></a></span><span>
</span><span id="line-443"></span><span>        </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; in object type &quot;</span></span><span>
</span><span id="line-444"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897701"><span class="hs-identifier hs-var">objType</span></a></span><span>
</span><span id="line-445"></span><span>        </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; is a list type&quot;</span></span><span>
</span><span id="line-446"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectRelationshipColumnDoesNotExist"><span class="hs-identifier hs-type">ObjectRelationshipColumnDoesNotExist</span></a></span><span> </span><span id="local-6989586621690897698"><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897698"><span class="hs-identifier hs-var">objType</span></a></span></span><span> </span><span id="local-6989586621690897697"><span class="annot"><span class="annottext">RelationshipName
</span><a href="#local-6989586621690897697"><span class="hs-identifier hs-var">relName</span></a></span></span><span> </span><span id="local-6989586621690897696"><span class="annot"><span class="annottext">QualifiedTable
</span><a href="#local-6989586621690897696"><span class="hs-identifier hs-var">remoteTable</span></a></span></span><span> </span><span id="local-6989586621690897695"><span class="annot"><span class="annottext">PGCol
</span><a href="#local-6989586621690897695"><span class="hs-identifier hs-var">column</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-447"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;the column &quot;</span></span><span>
</span><span id="line-448"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PGCol
</span><a href="#local-6989586621690897695"><span class="hs-identifier hs-var">column</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; of remote table &quot;</span></span><span>
</span><span id="line-449"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">QualifiedTable
</span><a href="#local-6989586621690897696"><span class="hs-identifier hs-var">remoteTable</span></a></span><span>
</span><span id="line-450"></span><span>        </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; for relationship &quot;</span></span><span>
</span><span id="line-451"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">RelationshipName
</span><a href="#local-6989586621690897697"><span class="hs-identifier hs-var">relName</span></a></span><span>
</span><span id="line-452"></span><span>        </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; of object type &quot;</span></span><span>
</span><span id="line-453"></span><span>      </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897698"><span class="hs-identifier hs-var">objType</span></a></span><span>
</span><span id="line-454"></span><span>        </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; does not exist&quot;</span></span><span>
</span><span id="line-455"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#ObjectRelationshipMultiSources"><span class="hs-identifier hs-type">ObjectRelationshipMultiSources</span></a></span><span> </span><span id="local-6989586621690897694"><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897694"><span class="hs-identifier hs-var">objType</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-456"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;the object &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectTypeName
</span><a href="#local-6989586621690897694"><span class="hs-identifier hs-var">objType</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; has relationships refers to tables in multiple sources&quot;</span></span><span>
</span><span id="line-457"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html#DuplicateEnumValues"><span class="hs-identifier hs-type">DuplicateEnumValues</span></a></span><span> </span><span id="local-6989586621690897693"><span class="annot"><span class="annottext">EnumTypeName
</span><a href="#local-6989586621690897693"><span class="hs-identifier hs-var">tyName</span></a></span></span><span> </span><span id="local-6989586621690897692"><span class="annot"><span class="annottext">HashSet EnumValue
</span><a href="#local-6989586621690897692"><span class="hs-identifier hs-var">values</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-458"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;the enum type &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EnumTypeName
</span><a href="#local-6989586621690897693"><span class="hs-identifier hs-var">tyName</span></a></span><span> </span><span class="annot"><span class="annottext">forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><span class="hs-operator hs-var">&lt;&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; has duplicate values: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///root/.ghcup/ghc/9.2.5/share/doc/ghc-9.2.5/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall t (f :: * -&gt; *). (ToTxt t, Foldable f) =&gt; f t -&gt; Text
</span><span class="hs-identifier hs-var">dquoteList</span></span><span> </span><span class="annot"><span class="annottext">HashSet EnumValue
</span><a href="#local-6989586621690897692"><span class="hs-identifier hs-var">values</span></a></span><span>
</span><span id="line-459"></span></pre></body></html>