<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE ApplicativeDo #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE QuasiQuotes #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskellQuotes #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns #-}</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-comment">-- | Generate table selection schema both for ordinary Hasura-type and</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- relay-type queries.  All schema with &quot;relay&quot; or &quot;connection&quot; in the name is</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- used exclusively by relay.</span><span>
</span><span id="line-9"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Hasura.GraphQL.Schema.Select</span><span>
</span><span id="line-10"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#selectTableByPk"><span class="hs-identifier">selectTableByPk</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#selectTableConnection"><span class="hs-identifier">selectTableConnection</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#defaultSelectTable"><span class="hs-identifier">defaultSelectTable</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#defaultSelectTableAggregate"><span class="hs-identifier">defaultSelectTableAggregate</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#defaultTableArgs"><span class="hs-identifier">defaultTableArgs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#defaultTableSelectionSet"><span class="hs-identifier">defaultTableSelectionSet</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#defaultArgsParser"><span class="hs-identifier">defaultArgsParser</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tableAggregationFields"><span class="hs-identifier">tableAggregationFields</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tableConnectionArgs"><span class="hs-identifier">tableConnectionArgs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tableConnectionSelectionSet"><span class="hs-identifier">tableConnectionSelectionSet</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tableWhereArg"><span class="hs-identifier">tableWhereArg</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tableOrderByArg"><span class="hs-identifier">tableOrderByArg</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tableDistinctArg"><span class="hs-identifier">tableDistinctArg</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tableLimitArg"><span class="hs-identifier">tableLimitArg</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tableOffsetArg"><span class="hs-identifier">tableOffsetArg</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tablePermissionsInfo"><span class="hs-identifier">tablePermissionsInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tableSelectionList"><span class="hs-identifier">tableSelectionList</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">where</span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.html"><span class="hs-identifier">Control.Lens</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Indexed.html#index"><span class="hs-identifier">index</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/aeson-2.1.2.1-78f82c0a41c76fc62260cf94c4b206816c9efb8c3788f4fbd6184398938cf6fb/share/doc/html/src/Data.Aeson.html"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">J</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/aeson-2.1.2.1-78f82c0a41c76fc62260cf94c4b206816c9efb8c3788f4fbd6184398938cf6fb/share/doc/html/src/Data.Aeson.Key.html"><span class="hs-identifier">Data.Aeson.Key</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">K</span></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/aeson-2.1.2.1-78f82c0a41c76fc62260cf94c4b206816c9efb8c3788f4fbd6184398938cf6fb/share/doc/html/src/Data.Aeson.Types.html"><span class="hs-identifier">Data.Aeson.Types</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">J</span></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BL</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/data-has-0.4.0.0-046b1b301c44f043005ecffcde95c748cd1a5249e8b9e9ea3eaa14bac0030231/share/doc/html/src/Data.Has.html"><span class="hs-identifier">Data.Has</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.HashMap.Strict.Extended.html"><span class="hs-identifier">Data.HashMap.Strict.Extended</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HashMap</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Int</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Int64</span></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NE</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/text-2.0.1-27d8e86ddce8dd754c06549efa10988301d41e208fc11cac9fe9ed6d99d6eb35/share/doc/html/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Casing.html"><span class="hs-identifier">Data.Text.Casing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Casing.html#GQLNameIdentifier"><span class="hs-identifier">GQLNameIdentifier</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Casing.html"><span class="hs-identifier">Data.Text.Casing</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">C</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html"><span class="hs-identifier">Data.Text.Extended</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Backends.Postgres.SQL.Types.html"><span class="hs-identifier">Hasura.Backends.Postgres.SQL.Types</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Postgres</span></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html"><span class="hs-identifier">Hasura.Base.Error</span></a></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/error-message-1.0.0/opt/doc/html/error-message/src/Hasura.Base.ErrorMessage.html"><span class="hs-identifier">Hasura.Base.ErrorMessage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/error-message-1.0.0/opt/doc/html/error-message/src/Hasura.Base.ErrorMessage.html#toErrorMessage"><span class="hs-identifier">toErrorMessage</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Class.html"><span class="hs-identifier">Hasura.GraphQL.Parser.Class</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html"><span class="hs-identifier">Hasura.GraphQL.Parser.Internal.Parser</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IP</span></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html"><span class="hs-identifier">Hasura.GraphQL.Schema.Backend</span></a></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.BoolExp.html"><span class="hs-identifier">Hasura.GraphQL.Schema.BoolExp</span></a></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html"><span class="hs-identifier">Hasura.GraphQL.Schema.Common</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.OrderBy.html"><span class="hs-identifier">Hasura.GraphQL.Schema.OrderBy</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html"><span class="hs-identifier">Hasura.GraphQL.Schema.Parser</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#FieldParser"><span class="hs-identifier">FieldParser</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#InputFieldsParser"><span class="hs-identifier">InputFieldsParser</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>    </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Schema.Definition.html#Kind"><span class="hs-identifier">Kind</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#Parser"><span class="hs-identifier">Parser</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html"><span class="hs-identifier">Hasura.GraphQL.Schema.Parser</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">P</span></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Table.html"><span class="hs-identifier">Hasura.GraphQL.Schema.Table</span></a></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Typename.html"><span class="hs-identifier">Hasura.GraphQL.Schema.Typename</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.LogicalModel.Cache.html"><span class="hs-identifier">Hasura.LogicalModel.Cache</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.LogicalModel.Cache.html#LogicalModelCache"><span class="hs-identifier">LogicalModelCache</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.LogicalModel.Cache.html#LogicalModelInfo"><span class="hs-identifier">LogicalModelInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.LogicalModel.Types.html"><span class="hs-identifier">Hasura.LogicalModel.Types</span></a></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.LogicalModel.Types.html#LogicalModelField"><span class="hs-identifier">LogicalModelField</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>    </span><span class="annot"><a href="Hasura.LogicalModel.Types.html#LogicalModelName"><span class="hs-identifier">LogicalModelName</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>    </span><span class="annot"><a href="Hasura.LogicalModel.Types.html#LogicalModelType"><span class="hs-identifier">LogicalModelType</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>    </span><span class="annot"><a href="Hasura.LogicalModel.Types.html#LogicalModelTypeArray"><span class="hs-identifier">LogicalModelTypeArray</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>    </span><span class="annot"><a href="Hasura.LogicalModel.Types.html#LogicalModelTypeReference"><span class="hs-identifier">LogicalModelTypeReference</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>    </span><span class="annot"><a href="Hasura.LogicalModel.Types.html#LogicalModelTypeScalar"><span class="hs-identifier">LogicalModelTypeScalar</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Name.html"><span class="hs-identifier">Hasura.Name</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Name</span></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html"><span class="hs-identifier">Hasura.Prelude</span></a></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.IR.html"><span class="hs-identifier">Hasura.RQL.IR</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IR</span></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html"><span class="hs-identifier">Hasura.RQL.IR.BoolExp</span></a></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.IR.Select.Lenses.html"><span class="hs-identifier">Hasura.RQL.IR.Select.Lenses</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IR</span></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html"><span class="hs-identifier">Hasura.RQL.Types.Backend</span></a></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Column.html"><span class="hs-identifier">Hasura.RQL.Types.Column</span></a></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html"><span class="hs-identifier">Hasura.RQL.Types.Common</span></a></span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.ComputedField.html"><span class="hs-identifier">Hasura.RQL.Types.ComputedField</span></a></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Object.html"><span class="hs-identifier">Hasura.RQL.Types.Metadata.Object</span></a></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.NamingCase.html"><span class="hs-identifier">Hasura.RQL.Types.NamingCase</span></a></span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Relationships.Local.html"><span class="hs-identifier">Hasura.RQL.Types.Relationships.Local</span></a></span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Relationships.Remote.html"><span class="hs-identifier">Hasura.RQL.Types.Relationships.Remote</span></a></span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Schema.Options.html"><span class="hs-identifier">Hasura.RQL.Types.Schema.Options</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Schema.Options.html#OptimizePermissionFilters"><span class="hs-identifier">OptimizePermissionFilters</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Schema.Options.html"><span class="hs-identifier">Hasura.RQL.Types.Schema.Options</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Options</span></span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html"><span class="hs-identifier">Hasura.RQL.Types.SchemaCache</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#askTableInfo"><span class="hs-identifier">askTableInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Source.html"><span class="hs-identifier">Hasura.RQL.Types.Source</span></a></span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SourceCustomization.html"><span class="hs-identifier">Hasura.RQL.Types.SourceCustomization</span></a></span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.SQL.AnyBackend.html"><span class="hs-identifier">Hasura.SQL.AnyBackend</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">AB</span></span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Server.Utils.html"><span class="hs-identifier">Hasura.Server.Utils</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Server.Utils.html#executeJSONPath"><span class="hs-identifier">executeJSONPath</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Table.Cache.html"><span class="hs-identifier">Hasura.Table.Cache</span></a></span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html"><span class="hs-identifier">Language.GraphQL.Draft.Syntax</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">G</span></span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-94"></span><span class="hs-comment">-- Top-level functions.</span><span>
</span><span id="line-95"></span><span class="hs-comment">--</span><span>
</span><span id="line-96"></span><span class="hs-comment">-- Those functions implement parsers for top-level components of the schema,</span><span>
</span><span id="line-97"></span><span class="hs-comment">-- such as querying a table or a function. They are typically used to implement</span><span>
</span><span id="line-98"></span><span class="hs-comment">-- root fields.</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-comment">-- | Simple table selection.</span><span>
</span><span id="line-101"></span><span class="hs-comment">--</span><span>
</span><span id="line-102"></span><span class="hs-comment">-- The field for the table accepts table selection arguments, and</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- expects a selection of fields</span><span>
</span><span id="line-104"></span><span class="hs-comment">--</span><span>
</span><span id="line-105"></span><span class="hs-comment">-- &gt; table_name(limit: 10) {</span><span>
</span><span id="line-106"></span><span class="hs-comment">-- &gt;   col1: col1_type</span><span>
</span><span id="line-107"></span><span class="hs-comment">-- &gt;   col2: col2_type</span><span>
</span><span id="line-108"></span><span class="hs-comment">-- &gt; }: [table!]!</span><span>
</span><span id="line-109"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#defaultSelectTable"><span class="hs-identifier hs-type">defaultSelectTable</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687050993"><span class="annot"><a href="#local-6989586621687050993"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621687050994"><span class="annot"><a href="#local-6989586621687050994"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621687050995"><span class="annot"><a href="#local-6989586621687050995"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687050996"><span class="annot"><a href="#local-6989586621687050996"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#MonadBuildSchema"><span class="hs-identifier hs-type">MonadBuildSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687050993"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687050994"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687050995"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687050996"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#BackendTableSelectSchema"><span class="hs-identifier hs-type">BackendTableSelectSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687050993"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-112"></span><span>  </span><span class="annot"><span class="hs-comment">-- | table info</span></span><span>
</span><span id="line-113"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#TableInfo"><span class="hs-identifier hs-type">TableInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687050993"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-114"></span><span>  </span><span class="annot"><span class="hs-comment">-- | field display name</span></span><span>
</span><span id="line-115"></span><span>  </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html#Name"><span class="hs-identifier hs-type">G.Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-116"></span><span>  </span><span class="annot"><span class="hs-comment">-- | field description, if any</span></span><span>
</span><span id="line-117"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-type">G.Description</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-118"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687050994"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687050995"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687050996"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SelectExp"><span class="hs-identifier hs-type">SelectExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687050993"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span id="defaultSelectTable"><span class="annot"><span class="annottext">defaultSelectTable :: forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(MonadBuildSchema b r m n, BackendTableSelectSchema b) =&gt;
TableInfo b
-&gt; Name
-&gt; Maybe Description
-&gt; SchemaT r m (Maybe (FieldParser n (SelectExp b)))
</span><a href="Hasura.GraphQL.Schema.Select.html#defaultSelectTable"><span class="hs-identifier hs-var hs-var">defaultSelectTable</span></a></span></span><span> </span><span id="local-6989586621687052055"><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052055"><span class="hs-identifier hs-var">tableInfo</span></a></span></span><span> </span><span id="local-6989586621687052056"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052056"><span class="hs-identifier hs-var">fieldName</span></a></span></span><span> </span><span id="local-6989586621687052057"><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687052057"><span class="hs-identifier hs-var">description</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MaybeT (SchemaT r m) (FieldParser n (SelectExp b))
-&gt; SchemaT r m (Maybe (FieldParser n (SelectExp b)))
forall (m :: * -&gt; *) a. MaybeT m a -&gt; m (Maybe a)
</span><span class="hs-identifier hs-var">runMaybeT</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-120"></span><span>  </span><span id="local-6989586621687052059"><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052059"><span class="hs-identifier hs-var">sourceInfo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Source.html#SourceInfo"><span class="hs-identifier hs-type">SourceInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687050993"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(r -&gt; SourceInfo b) -&gt; MaybeT (SchemaT r m) (SourceInfo b)
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; SourceInfo b
forall a t. Has a t =&gt; t -&gt; a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/data-has-0.4.0.0-046b1b301c44f043005ecffcde95c748cd1a5249e8b9e9ea3eaa14bac0030231/share/doc/html/src/Data.Has.html#getter"><span class="hs-identifier hs-var">getter</span></a></span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687052062"><span class="annot"><span class="annottext">sourceName :: SourceName
</span><a href="#local-6989586621687052062"><span class="hs-identifier hs-var hs-var">sourceName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceInfo b -&gt; SourceName
forall (b :: BackendType). SourceInfo b -&gt; SourceName
</span><a href="Hasura.RQL.Types.Source.html#_siName"><span class="hs-identifier hs-var">_siName</span></a></span><span> </span><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052059"><span class="hs-identifier hs-var">sourceInfo</span></a></span><span>
</span><span id="line-122"></span><span>      </span><span id="local-6989586621687052064"><span class="annot"><span class="annottext">tableName :: TableName b
</span><a href="#local-6989586621687052064"><span class="hs-identifier hs-var hs-var">tableName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; TableName b
forall (b :: BackendType). TableInfo b -&gt; TableName b
</span><a href="Hasura.Table.Cache.html#tableInfoName"><span class="hs-identifier hs-var">tableInfoName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052055"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-123"></span><span>      </span><span id="local-6989586621687052066"><span class="annot"><span class="annottext">tCase :: NamingCase
</span><a href="#local-6989586621687052066"><span class="hs-identifier hs-var hs-var">tCase</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization -&gt; NamingCase
</span><a href="Hasura.RQL.Types.SourceCustomization.html#_rscNamingConvention"><span class="hs-identifier hs-var">_rscNamingConvention</span></a></span><span> </span><span class="annot"><span class="annottext">(ResolvedSourceCustomization -&gt; NamingCase)
-&gt; ResolvedSourceCustomization -&gt; NamingCase
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SourceInfo b -&gt; ResolvedSourceCustomization
forall (b :: BackendType).
SourceInfo b -&gt; ResolvedSourceCustomization
</span><a href="Hasura.RQL.Types.Source.html#_siCustomization"><span class="hs-identifier hs-var">_siCustomization</span></a></span><span> </span><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052059"><span class="hs-identifier hs-var">sourceInfo</span></a></span><span>
</span><span id="line-124"></span><span>  </span><span id="local-6989586621687052069"><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687052069"><span class="hs-identifier hs-var">roleName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SchemaContext -&gt; RoleName) -&gt; MaybeT (SchemaT r m) RoleName
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaContext -&gt; RoleName
</span><a href="Hasura.GraphQL.Schema.Common.html#scRole"><span class="hs-identifier hs-var">scRole</span></a></span><span>
</span><span id="line-125"></span><span>  </span><span id="local-6989586621687052072"><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687052072"><span class="hs-identifier hs-var">selectPermissions</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b)
forall (m :: * -&gt; *) b. Applicative m =&gt; Maybe b -&gt; MaybeT m b
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#hoistMaybe"><span class="hs-identifier hs-var">hoistMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b))
-&gt; Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleName -&gt; TableInfo b -&gt; Maybe (SelPermInfo b)
forall (b :: BackendType).
RoleName -&gt; TableInfo b -&gt; Maybe (SelPermInfo b)
</span><a href="Hasura.GraphQL.Schema.Table.html#tableSelectPermissions"><span class="hs-identifier hs-var">tableSelectPermissions</span></a></span><span> </span><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687052069"><span class="hs-identifier hs-var">roleName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052055"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-126"></span><span>  </span><span id="local-6989586621687052075"><span class="annot"><span class="annottext">Parser 'Output n (AnnotatedFields b)
</span><a href="#local-6989586621687052075"><span class="hs-identifier hs-var">selectionSetParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
-&gt; MaybeT (SchemaT r m) (Parser 'Output n (AnnotatedFields b))
forall (m :: * -&gt; *) a. m (Maybe a) -&gt; MaybeT m a
</span><span class="hs-identifier hs-var">MaybeT</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
 -&gt; MaybeT (SchemaT r m) (Parser 'Output n (AnnotatedFields b)))
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
-&gt; MaybeT (SchemaT r m) (Parser 'Output n (AnnotatedFields b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(MonadBuildSchema b r m n, BackendTableSelectSchema b) =&gt;
TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
</span><a href="Hasura.GraphQL.Schema.Select.html#tableSelectionList"><span class="hs-identifier hs-var">tableSelectionList</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052055"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-127"></span><span>  </span><span class="annot"><span class="annottext">SchemaT r m (FieldParser n (SelectExp b))
-&gt; MaybeT (SchemaT r m) (FieldParser n (SelectExp b))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; MaybeT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m (FieldParser n (SelectExp b))
 -&gt; MaybeT (SchemaT r m) (FieldParser n (SelectExp b)))
-&gt; SchemaT r m (FieldParser n (SelectExp b))
-&gt; MaybeT (SchemaT r m) (FieldParser n (SelectExp b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (SourceName, TableName b, Name)
-&gt; SchemaT r m (FieldParser n (SelectExp b))
-&gt; SchemaT r m (FieldParser n (SelectExp b))
forall (m :: * -&gt; *) a (p :: (* -&gt; *) -&gt; * -&gt; *) (n :: * -&gt; *) b.
(MonadMemoize m, Ord a, Typeable a, Typeable p, MonadParse n,
 Typeable b) =&gt;
Name -&gt; a -&gt; m (p n b) -&gt; m (p n b)
</span><a href="Hasura.GraphQL.Schema.Parser.html#memoizeOn"><span class="hs-identifier hs-var">P.memoizeOn</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-identifier">defaultSelectTable</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621687052062"><span class="hs-identifier hs-var">sourceName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687052064"><span class="hs-identifier hs-var">tableName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052056"><span class="hs-identifier hs-var">fieldName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-128"></span><span>    </span><span id="local-6989586621687052079"><span class="annot"><span class="annottext">StringifyNumbers
</span><a href="#local-6989586621687052079"><span class="hs-identifier hs-var">stringifyNumbers</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SchemaOptions -&gt; StringifyNumbers) -&gt; SchemaT r m StringifyNumbers
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaOptions -&gt; StringifyNumbers
</span><a href="Hasura.RQL.Types.Schema.Options.html#soStringifyNumbers"><span class="hs-identifier hs-var">Options.soStringifyNumbers</span></a></span><span>
</span><span id="line-129"></span><span>    </span><span id="local-6989586621687052081"><span class="annot"><span class="annottext">InputFieldsParser n (SelectArgsG b (UnpreparedValue b))
</span><a href="#local-6989586621687052081"><span class="hs-identifier hs-var">tableArgsParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT
     r m (InputFieldsParser n (SelectArgsG b (UnpreparedValue b)))
forall r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSourceSchema b r m n =&gt;
TableInfo b
-&gt; SchemaT
     r m (InputFieldsParser n (SelectArgsG b (UnpreparedValue b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(BackendTableSelectSchema b, MonadBuildSourceSchema b r m n) =&gt;
TableInfo b
-&gt; SchemaT
     r m (InputFieldsParser n (SelectArgsG b (UnpreparedValue b)))
</span><a href="Hasura.GraphQL.Schema.Backend.html#tableArguments"><span class="hs-identifier hs-var">tableArguments</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052055"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-130"></span><span>    </span><span class="hs-identifier">pure</span><span>
</span><span id="line-131"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">MetadataObjId
-&gt; FieldParser n (SelectExp b) -&gt; FieldParser n (SelectExp b)
forall (m :: * -&gt; *) origin a.
origin -&gt; FieldParser origin m a -&gt; FieldParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#setFieldParserOrigin"><span class="hs-identifier hs-var">P.setFieldParserOrigin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceName -&gt; AnyBackend SourceMetadataObjId -&gt; MetadataObjId
</span><a href="Hasura.RQL.Types.Metadata.Object.html#MOSourceObjId"><span class="hs-identifier hs-var">MOSourceObjId</span></a></span><span> </span><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621687052062"><span class="hs-identifier hs-var">sourceName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceMetadataObjId b -&gt; AnyBackend SourceMetadataObjId
forall (b :: BackendType) (i :: BackendType -&gt; *).
HasTag b =&gt;
i b -&gt; AnyBackend i
</span><a href="Hasura.SQL.AnyBackend.html#mkAnyBackend"><span class="hs-identifier hs-var">AB.mkAnyBackend</span></a></span><span> </span><span class="annot"><span class="annottext">(SourceMetadataObjId b -&gt; AnyBackend SourceMetadataObjId)
-&gt; SourceMetadataObjId b -&gt; AnyBackend SourceMetadataObjId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType). TableName b -&gt; SourceMetadataObjId b
</span><a href="Hasura.RQL.Types.Metadata.Object.html#SMOTable"><span class="hs-identifier hs-var">SMOTable</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687050993"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687052064"><span class="hs-identifier hs-var">tableName</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>      </span><span class="annot"><span class="annottext">(FieldParser n (SelectExp b) -&gt; FieldParser n (SelectExp b))
-&gt; FieldParser n (SelectExp b) -&gt; FieldParser n (SelectExp b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; InputFieldsParser n (SelectArgsG b (UnpreparedValue b))
-&gt; Parser 'Output n (AnnotatedFields b)
-&gt; FieldParser
     MetadataObjId
     n
     (SelectArgsG b (UnpreparedValue b), AnnotatedFields b)
forall (m :: * -&gt; *) origin a b.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; InputFieldsParser origin m a
-&gt; Parser origin 'Output m b
-&gt; FieldParser origin m (a, b)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#subselection"><span class="hs-identifier hs-var">P.subselection</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052056"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687052057"><span class="hs-identifier hs-var">description</span></a></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser n (SelectArgsG b (UnpreparedValue b))
</span><a href="#local-6989586621687052081"><span class="hs-identifier hs-var">tableArgsParser</span></a></span><span> </span><span class="annot"><span class="annottext">Parser 'Output n (AnnotatedFields b)
</span><a href="#local-6989586621687052075"><span class="hs-identifier hs-var">selectionSetParser</span></a></span><span>
</span><span id="line-133"></span><span>      </span><span class="annot"><span class="annottext">FieldParser
  MetadataObjId
  n
  (SelectArgsG b (UnpreparedValue b), AnnotatedFields b)
-&gt; ((SelectArgsG b (UnpreparedValue b), AnnotatedFields b)
    -&gt; SelectExp b)
-&gt; FieldParser n (SelectExp b)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621687052089"><span class="annot"><span class="annottext">SelectArgsG b (UnpreparedValue b)
</span><a href="#local-6989586621687052089"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687052090"><span class="annot"><span class="annottext">AnnotatedFields b
</span><a href="#local-6989586621687052090"><span class="hs-identifier hs-var">fields</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-134"></span><span>        </span><span class="annot"><a href="Hasura.RQL.IR.Select.AnnSelectG.html#AnnSelectG"><span class="hs-identifier hs-type">IR.AnnSelectG</span></a></span><span>
</span><span id="line-135"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:_asnFields:AnnSelectG :: AnnotatedFields b
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnFields%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnFields</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnnotatedFields b
</span><a href="#local-6989586621687052090"><span class="hs-identifier hs-var">fields</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-136"></span><span>            </span><span class="annot"><span class="annottext">$sel:_asnFrom:AnnSelectG :: SelectFromG b (UnpreparedValue b)
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnFrom%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnFrom</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TableName b -&gt; SelectFromG b (UnpreparedValue b)
forall (b :: BackendType) v. TableName b -&gt; SelectFromG b v
</span><a href="Hasura.RQL.IR.Select.From.html#FromTable"><span class="hs-identifier hs-var">IR.FromTable</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687052064"><span class="hs-identifier hs-var">tableName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-137"></span><span>            </span><span class="annot"><span class="annottext">$sel:_asnPerm:AnnSelectG :: TablePermG b (UnpreparedValue b)
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnPerm%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnPerm</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SelPermInfo b -&gt; TablePermG b (UnpreparedValue b)
forall (b :: BackendType).
Backend b =&gt;
SelPermInfo b -&gt; TablePerms b
</span><a href="Hasura.GraphQL.Schema.Select.html#tablePermissionsInfo"><span class="hs-identifier hs-var">tablePermissionsInfo</span></a></span><span> </span><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687052072"><span class="hs-identifier hs-var">selectPermissions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-138"></span><span>            </span><span class="annot"><span class="annottext">$sel:_asnArgs:AnnSelectG :: SelectArgsG b (UnpreparedValue b)
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnArgs%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SelectArgsG b (UnpreparedValue b)
</span><a href="#local-6989586621687052089"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-139"></span><span>            </span><span class="annot"><span class="annottext">$sel:_asnStrfyNum:AnnSelectG :: StringifyNumbers
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnStrfyNum%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnStrfyNum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StringifyNumbers
</span><a href="#local-6989586621687052079"><span class="hs-identifier hs-var">stringifyNumbers</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-140"></span><span>            </span><span class="annot"><span class="annottext">$sel:_asnNamingConvention:AnnSelectG :: Maybe NamingCase
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnNamingConvention%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnNamingConvention</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamingCase -&gt; Maybe NamingCase
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">NamingCase
</span><a href="#local-6989586621687052066"><span class="hs-identifier hs-var">tCase</span></a></span><span>
</span><span id="line-141"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="hs-comment">-- | Simple table connection selection.</span><span>
</span><span id="line-144"></span><span class="hs-comment">--</span><span>
</span><span id="line-145"></span><span class="hs-comment">-- The field for the table accepts table connection selection argument, and</span><span>
</span><span id="line-146"></span><span class="hs-comment">-- expects a selection of connection fields</span><span>
</span><span id="line-147"></span><span class="hs-comment">--</span><span>
</span><span id="line-148"></span><span class="hs-comment">-- &gt; table_name_connection(first: 1) {</span><span>
</span><span id="line-149"></span><span class="hs-comment">-- &gt;   pageInfo: {</span><span>
</span><span id="line-150"></span><span class="hs-comment">-- &gt;     hasNextPage: Boolean!</span><span>
</span><span id="line-151"></span><span class="hs-comment">-- &gt;     endCursor: String!</span><span>
</span><span id="line-152"></span><span class="hs-comment">-- &gt;   }</span><span>
</span><span id="line-153"></span><span class="hs-comment">-- &gt;   edges: {</span><span>
</span><span id="line-154"></span><span class="hs-comment">-- &gt;     cursor: String!</span><span>
</span><span id="line-155"></span><span class="hs-comment">-- &gt;     node: {</span><span>
</span><span id="line-156"></span><span class="hs-comment">-- &gt;       id: ID!</span><span>
</span><span id="line-157"></span><span class="hs-comment">-- &gt;       col1: col1_type</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- &gt;       col2: col2_type</span><span>
</span><span id="line-159"></span><span class="hs-comment">-- &gt;     }</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- &gt;   }</span><span>
</span><span id="line-161"></span><span class="hs-comment">-- &gt; }: table_nameConnection!</span><span>
</span><span id="line-162"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#selectTableConnection"><span class="hs-identifier hs-type">selectTableConnection</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687051136"><span class="annot"><a href="#local-6989586621687051136"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621687051137"><span class="annot"><a href="#local-6989586621687051137"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621687051138"><span class="annot"><a href="#local-6989586621687051138"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687051139"><span class="annot"><a href="#local-6989586621687051139"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#MonadBuildSchema"><span class="hs-identifier hs-type">MonadBuildSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051136"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051137"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051138"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051139"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-165"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#BackendTableSelectSchema"><span class="hs-identifier hs-type">BackendTableSelectSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051136"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-166"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.BoolExp.html#AggregationPredicatesSchema"><span class="hs-identifier hs-type">AggregationPredicatesSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051136"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-168"></span><span>  </span><span class="annot"><span class="hs-comment">-- | table info</span></span><span>
</span><span id="line-169"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#TableInfo"><span class="hs-identifier hs-type">TableInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051136"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-170"></span><span>  </span><span class="annot"><span class="hs-comment">-- | field display name</span></span><span>
</span><span id="line-171"></span><span>  </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html#Name"><span class="hs-identifier hs-type">G.Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-172"></span><span>  </span><span class="annot"><span class="hs-comment">-- | field description, if any</span></span><span>
</span><span id="line-173"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-type">G.Description</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-174"></span><span>  </span><span class="annot"><span class="hs-comment">-- | primary key columns</span></span><span>
</span><span id="line-175"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#PrimaryKeyColumns"><span class="hs-identifier hs-type">PrimaryKeyColumns</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051136"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-176"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051137"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051138"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051139"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#ConnectionSelectExp"><span class="hs-identifier hs-type">ConnectionSelectExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051136"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span id="selectTableConnection"><span class="annot"><span class="annottext">selectTableConnection :: forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(MonadBuildSchema b r m n, BackendTableSelectSchema b,
 AggregationPredicatesSchema b) =&gt;
TableInfo b
-&gt; Name
-&gt; Maybe Description
-&gt; PrimaryKeyColumns b
-&gt; SchemaT r m (Maybe (FieldParser n (ConnectionSelectExp b)))
</span><a href="Hasura.GraphQL.Schema.Select.html#selectTableConnection"><span class="hs-identifier hs-var hs-var">selectTableConnection</span></a></span></span><span> </span><span id="local-6989586621687052181"><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052181"><span class="hs-identifier hs-var">tableInfo</span></a></span></span><span> </span><span id="local-6989586621687052182"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052182"><span class="hs-identifier hs-var">fieldName</span></a></span></span><span> </span><span id="local-6989586621687052183"><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687052183"><span class="hs-identifier hs-var">description</span></a></span></span><span> </span><span id="local-6989586621687052184"><span class="annot"><span class="annottext">PrimaryKeyColumns b
</span><a href="#local-6989586621687052184"><span class="hs-identifier hs-var">pkeyColumns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MaybeT (SchemaT r m) (FieldParser n (ConnectionSelectExp b))
-&gt; SchemaT r m (Maybe (FieldParser n (ConnectionSelectExp b)))
forall (m :: * -&gt; *) a. MaybeT m a -&gt; m (Maybe a)
</span><span class="hs-identifier hs-var">runMaybeT</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-178"></span><span>  </span><span id="local-6989586621687052185"><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052185"><span class="hs-identifier hs-var">sourceInfo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Source.html#SourceInfo"><span class="hs-identifier hs-type">SourceInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051136"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(r -&gt; SourceInfo b) -&gt; MaybeT (SchemaT r m) (SourceInfo b)
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; SourceInfo b
forall a t. Has a t =&gt; t -&gt; a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/data-has-0.4.0.0-046b1b301c44f043005ecffcde95c748cd1a5249e8b9e9ea3eaa14bac0030231/share/doc/html/src/Data.Has.html#getter"><span class="hs-identifier hs-var">getter</span></a></span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687052186"><span class="annot"><span class="annottext">tableName :: TableName b
</span><a href="#local-6989586621687052186"><span class="hs-identifier hs-var hs-var">tableName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; TableName b
forall (b :: BackendType). TableInfo b -&gt; TableName b
</span><a href="Hasura.Table.Cache.html#tableInfoName"><span class="hs-identifier hs-var">tableInfoName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052181"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-180"></span><span>      </span><span id="local-6989586621687052187"><span class="annot"><span class="annottext">tCase :: NamingCase
</span><a href="#local-6989586621687052187"><span class="hs-identifier hs-var hs-var">tCase</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization -&gt; NamingCase
</span><a href="Hasura.RQL.Types.SourceCustomization.html#_rscNamingConvention"><span class="hs-identifier hs-var">_rscNamingConvention</span></a></span><span> </span><span class="annot"><span class="annottext">(ResolvedSourceCustomization -&gt; NamingCase)
-&gt; ResolvedSourceCustomization -&gt; NamingCase
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SourceInfo b -&gt; ResolvedSourceCustomization
forall (b :: BackendType).
SourceInfo b -&gt; ResolvedSourceCustomization
</span><a href="Hasura.RQL.Types.Source.html#_siCustomization"><span class="hs-identifier hs-var">_siCustomization</span></a></span><span> </span><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052185"><span class="hs-identifier hs-var">sourceInfo</span></a></span><span>
</span><span id="line-181"></span><span>  </span><span id="local-6989586621687052188"><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687052188"><span class="hs-identifier hs-var">roleName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SchemaContext -&gt; RoleName) -&gt; MaybeT (SchemaT r m) RoleName
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaContext -&gt; RoleName
</span><a href="Hasura.GraphQL.Schema.Common.html#scRole"><span class="hs-identifier hs-var">scRole</span></a></span><span>
</span><span id="line-182"></span><span>  </span><span id="local-6989586621687052189"><span class="annot"><span class="annottext">XRelay b
</span><a href="#local-6989586621687052189"><span class="hs-identifier hs-var">xRelayInfo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (XRelay b) -&gt; MaybeT (SchemaT r m) (XRelay b)
forall (m :: * -&gt; *) b. Applicative m =&gt; Maybe b -&gt; MaybeT m b
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#hoistMaybe"><span class="hs-identifier hs-var">hoistMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (XRelay b) -&gt; MaybeT (SchemaT r m) (XRelay b))
-&gt; Maybe (XRelay b) -&gt; MaybeT (SchemaT r m) (XRelay b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType). BackendSchema b =&gt; Maybe (XRelay b)
</span><a href="Hasura.GraphQL.Schema.Backend.html#relayExtension"><span class="hs-identifier hs-var">relayExtension</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687051136"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-183"></span><span>  </span><span id="local-6989586621687052191"><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687052191"><span class="hs-identifier hs-var">selectPermissions</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b)
forall (m :: * -&gt; *) b. Applicative m =&gt; Maybe b -&gt; MaybeT m b
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#hoistMaybe"><span class="hs-identifier hs-var">hoistMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b))
-&gt; Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleName -&gt; TableInfo b -&gt; Maybe (SelPermInfo b)
forall (b :: BackendType).
RoleName -&gt; TableInfo b -&gt; Maybe (SelPermInfo b)
</span><a href="Hasura.GraphQL.Schema.Table.html#tableSelectPermissions"><span class="hs-identifier hs-var">tableSelectPermissions</span></a></span><span> </span><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687052188"><span class="hs-identifier hs-var">roleName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052181"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-184"></span><span>  </span><span id="local-6989586621687052192"><span class="annot"><span class="annottext">Parser MetadataObjId 'Output n (ConnectionFields b)
</span><a href="#local-6989586621687052192"><span class="hs-identifier hs-var">selectionSetParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Parser MetadataObjId 'Output n (ConnectionFields b)
 -&gt; Parser MetadataObjId 'Output n (ConnectionFields b))
-&gt; MaybeT
     (SchemaT r m) (Parser MetadataObjId 'Output n (ConnectionFields b))
-&gt; MaybeT
     (SchemaT r m) (Parser MetadataObjId 'Output n (ConnectionFields b))
forall a b.
(a -&gt; b) -&gt; MaybeT (SchemaT r m) a -&gt; MaybeT (SchemaT r m) b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Output n (ConnectionFields b)
-&gt; Parser MetadataObjId 'Output n (ConnectionFields b)
forall (m :: * -&gt; *) origin a.
Parser origin 'Output m a -&gt; Parser origin 'Output m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nonNullableParser"><span class="hs-identifier hs-var">P.nonNullableParser</span></a></span><span> </span><span class="annot"><span class="annottext">(MaybeT
   (SchemaT r m) (Parser MetadataObjId 'Output n (ConnectionFields b))
 -&gt; MaybeT
      (SchemaT r m)
      (Parser MetadataObjId 'Output n (ConnectionFields b)))
-&gt; (SchemaT
      r m (Maybe (Parser MetadataObjId 'Output n (ConnectionFields b)))
    -&gt; MaybeT
         (SchemaT r m)
         (Parser MetadataObjId 'Output n (ConnectionFields b)))
-&gt; SchemaT
     r m (Maybe (Parser MetadataObjId 'Output n (ConnectionFields b)))
-&gt; MaybeT
     (SchemaT r m) (Parser MetadataObjId 'Output n (ConnectionFields b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SchemaT
  r m (Maybe (Parser MetadataObjId 'Output n (ConnectionFields b)))
-&gt; MaybeT
     (SchemaT r m) (Parser MetadataObjId 'Output n (ConnectionFields b))
forall (m :: * -&gt; *) a. m (Maybe a) -&gt; MaybeT m a
</span><span class="hs-identifier hs-var">MaybeT</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT
   r m (Maybe (Parser MetadataObjId 'Output n (ConnectionFields b)))
 -&gt; MaybeT
      (SchemaT r m)
      (Parser MetadataObjId 'Output n (ConnectionFields b)))
-&gt; SchemaT
     r m (Maybe (Parser MetadataObjId 'Output n (ConnectionFields b)))
-&gt; MaybeT
     (SchemaT r m) (Parser MetadataObjId 'Output n (ConnectionFields b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT
     r m (Maybe (Parser MetadataObjId 'Output n (ConnectionFields b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(MonadBuildSchema b r m n, BackendTableSelectSchema b) =&gt;
TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (ConnectionFields b)))
</span><a href="Hasura.GraphQL.Schema.Select.html#tableConnectionSelectionSet"><span class="hs-identifier hs-var">tableConnectionSelectionSet</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052181"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-185"></span><span>  </span><span class="annot"><span class="annottext">SchemaT r m (FieldParser n (ConnectionSelectExp b))
-&gt; MaybeT (SchemaT r m) (FieldParser n (ConnectionSelectExp b))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; MaybeT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m (FieldParser n (ConnectionSelectExp b))
 -&gt; MaybeT (SchemaT r m) (FieldParser n (ConnectionSelectExp b)))
-&gt; SchemaT r m (FieldParser n (ConnectionSelectExp b))
-&gt; MaybeT (SchemaT r m) (FieldParser n (ConnectionSelectExp b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (SourceName, TableName b, Name)
-&gt; SchemaT r m (FieldParser n (ConnectionSelectExp b))
-&gt; SchemaT r m (FieldParser n (ConnectionSelectExp b))
forall (m :: * -&gt; *) a (p :: (* -&gt; *) -&gt; * -&gt; *) (n :: * -&gt; *) b.
(MonadMemoize m, Ord a, Typeable a, Typeable p, MonadParse n,
 Typeable b) =&gt;
Name -&gt; a -&gt; m (p n b) -&gt; m (p n b)
</span><a href="Hasura.GraphQL.Schema.Parser.html#memoizeOn"><span class="hs-identifier hs-var">P.memoizeOn</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-identifier">selectTableConnection</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceInfo b -&gt; SourceName
forall (b :: BackendType). SourceInfo b -&gt; SourceName
</span><a href="Hasura.RQL.Types.Source.html#_siName"><span class="hs-identifier hs-var">_siName</span></a></span><span> </span><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052185"><span class="hs-identifier hs-var">sourceInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687052186"><span class="hs-identifier hs-var">tableName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052182"><span class="hs-identifier hs-var">fieldName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-186"></span><span>    </span><span id="local-6989586621687052195"><span class="annot"><span class="annottext">StringifyNumbers
</span><a href="#local-6989586621687052195"><span class="hs-identifier hs-var">stringifyNumbers</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SchemaOptions -&gt; StringifyNumbers) -&gt; SchemaT r m StringifyNumbers
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaOptions -&gt; StringifyNumbers
</span><a href="Hasura.RQL.Types.Schema.Options.html#soStringifyNumbers"><span class="hs-identifier hs-var">Options.soStringifyNumbers</span></a></span><span>
</span><span id="line-187"></span><span>    </span><span id="local-6989586621687052196"><span class="annot"><span class="annottext">InputFieldsParser
  n
  (SelectArgs b,
   Maybe (NonEmpty (ConnectionSplit b (UnpreparedValue b))),
   Maybe ConnectionSlice)
</span><a href="#local-6989586621687052196"><span class="hs-identifier hs-var">selectArgsParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PrimaryKeyColumns b
-&gt; TableInfo b
-&gt; SchemaT
     r
     m
     (InputFieldsParser
        n
        (SelectArgs b,
         Maybe (NonEmpty (ConnectionSplit b (UnpreparedValue b))),
         Maybe ConnectionSlice))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(MonadBuildSchema b r m n, AggregationPredicatesSchema b) =&gt;
PrimaryKeyColumns b
-&gt; TableInfo b
-&gt; SchemaT
     r
     m
     (InputFieldsParser
        n
        (SelectArgs b,
         Maybe (NonEmpty (ConnectionSplit b (UnpreparedValue b))),
         Maybe ConnectionSlice))
</span><a href="Hasura.GraphQL.Schema.Select.html#tableConnectionArgs"><span class="hs-identifier hs-var">tableConnectionArgs</span></a></span><span> </span><span class="annot"><span class="annottext">PrimaryKeyColumns b
</span><a href="#local-6989586621687052184"><span class="hs-identifier hs-var">pkeyColumns</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052181"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-188"></span><span>    </span><span class="hs-identifier">pure</span><span>
</span><span id="line-189"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; InputFieldsParser
     n
     (SelectArgs b,
      Maybe (NonEmpty (ConnectionSplit b (UnpreparedValue b))),
      Maybe ConnectionSlice)
-&gt; Parser MetadataObjId 'Output n (ConnectionFields b)
-&gt; FieldParser
     MetadataObjId
     n
     ((SelectArgs b,
       Maybe (NonEmpty (ConnectionSplit b (UnpreparedValue b))),
       Maybe ConnectionSlice),
      ConnectionFields b)
forall (m :: * -&gt; *) origin a b.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; InputFieldsParser origin m a
-&gt; Parser origin 'Output m b
-&gt; FieldParser origin m (a, b)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#subselection"><span class="hs-identifier hs-var">P.subselection</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052182"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687052183"><span class="hs-identifier hs-var">description</span></a></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser
  n
  (SelectArgs b,
   Maybe (NonEmpty (ConnectionSplit b (UnpreparedValue b))),
   Maybe ConnectionSlice)
</span><a href="#local-6989586621687052196"><span class="hs-identifier hs-var">selectArgsParser</span></a></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Output n (ConnectionFields b)
</span><a href="#local-6989586621687052192"><span class="hs-identifier hs-var">selectionSetParser</span></a></span><span>
</span><span id="line-190"></span><span>      </span><span class="annot"><span class="annottext">FieldParser
  MetadataObjId
  n
  ((SelectArgs b,
    Maybe (NonEmpty (ConnectionSplit b (UnpreparedValue b))),
    Maybe ConnectionSlice),
   ConnectionFields b)
-&gt; (((SelectArgs b,
      Maybe (NonEmpty (ConnectionSplit b (UnpreparedValue b))),
      Maybe ConnectionSlice),
     ConnectionFields b)
    -&gt; ConnectionSelectExp b)
-&gt; FieldParser n (ConnectionSelectExp b)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621687052197"><span class="annot"><span class="annottext">SelectArgs b
</span><a href="#local-6989586621687052197"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687052198"><span class="annot"><span class="annottext">Maybe (NonEmpty (ConnectionSplit b (UnpreparedValue b)))
</span><a href="#local-6989586621687052198"><span class="hs-identifier hs-var">split</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687052199"><span class="annot"><span class="annottext">Maybe ConnectionSlice
</span><a href="#local-6989586621687052199"><span class="hs-identifier hs-var">slice</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621687052200"><span class="annot"><span class="annottext">ConnectionFields b
</span><a href="#local-6989586621687052200"><span class="hs-identifier hs-var">fields</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-191"></span><span>        </span><span class="annot"><a href="Hasura.RQL.IR.Select.html#ConnectionSelect"><span class="hs-identifier hs-type">IR.ConnectionSelect</span></a></span><span>
</span><span id="line-192"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:_csXRelay:ConnectionSelect :: XRelay b
</span><a href="Hasura.RQL.IR.Select.html#%24sel%3A_csXRelay%3AConnectionSelect"><span class="hs-identifier hs-var">IR._csXRelay</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRelay b
</span><a href="#local-6989586621687052189"><span class="hs-identifier hs-var">xRelayInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-193"></span><span>            </span><span class="annot"><span class="annottext">$sel:_csPrimaryKeyColumns:ConnectionSelect :: PrimaryKeyColumns b
</span><a href="Hasura.RQL.IR.Select.html#%24sel%3A_csPrimaryKeyColumns%3AConnectionSelect"><span class="hs-identifier hs-var">IR._csPrimaryKeyColumns</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimaryKeyColumns b
</span><a href="#local-6989586621687052184"><span class="hs-identifier hs-var">pkeyColumns</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-194"></span><span>            </span><span class="annot"><span class="annottext">$sel:_csSplit:ConnectionSelect :: Maybe (NonEmpty (ConnectionSplit b (UnpreparedValue b)))
</span><a href="Hasura.RQL.IR.Select.html#%24sel%3A_csSplit%3AConnectionSelect"><span class="hs-identifier hs-var">IR._csSplit</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (NonEmpty (ConnectionSplit b (UnpreparedValue b)))
</span><a href="#local-6989586621687052198"><span class="hs-identifier hs-var">split</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-195"></span><span>            </span><span class="annot"><span class="annottext">$sel:_csSlice:ConnectionSelect :: Maybe ConnectionSlice
</span><a href="Hasura.RQL.IR.Select.html#%24sel%3A_csSlice%3AConnectionSelect"><span class="hs-identifier hs-var">IR._csSlice</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ConnectionSlice
</span><a href="#local-6989586621687052199"><span class="hs-identifier hs-var">slice</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-196"></span><span>            </span><span class="annot"><span class="annottext">$sel:_csSelect:ConnectionSelect :: AnnSelectG
  b
  (ConnectionField b (RemoteRelationshipField UnpreparedValue))
  (UnpreparedValue b)
</span><a href="Hasura.RQL.IR.Select.html#%24sel%3A_csSelect%3AConnectionSelect"><span class="hs-identifier hs-var">IR._csSelect</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-197"></span><span>              </span><span class="annot"><a href="Hasura.RQL.IR.Select.AnnSelectG.html#AnnSelectG"><span class="hs-identifier hs-type">IR.AnnSelectG</span></a></span><span>
</span><span id="line-198"></span><span>                </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:_asnFields:AnnSelectG :: ConnectionFields b
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnFields%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnFields</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConnectionFields b
</span><a href="#local-6989586621687052200"><span class="hs-identifier hs-var">fields</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-199"></span><span>                  </span><span class="annot"><span class="annottext">$sel:_asnFrom:AnnSelectG :: SelectFromG b (UnpreparedValue b)
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnFrom%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnFrom</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TableName b -&gt; SelectFromG b (UnpreparedValue b)
forall (b :: BackendType) v. TableName b -&gt; SelectFromG b v
</span><a href="Hasura.RQL.IR.Select.From.html#FromTable"><span class="hs-identifier hs-var">IR.FromTable</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687052186"><span class="hs-identifier hs-var">tableName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-200"></span><span>                  </span><span class="annot"><span class="annottext">$sel:_asnPerm:AnnSelectG :: TablePermG b (UnpreparedValue b)
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnPerm%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnPerm</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SelPermInfo b -&gt; TablePermG b (UnpreparedValue b)
forall (b :: BackendType).
Backend b =&gt;
SelPermInfo b -&gt; TablePerms b
</span><a href="Hasura.GraphQL.Schema.Select.html#tablePermissionsInfo"><span class="hs-identifier hs-var">tablePermissionsInfo</span></a></span><span> </span><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687052191"><span class="hs-identifier hs-var">selectPermissions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-201"></span><span>                  </span><span class="annot"><span class="annottext">$sel:_asnArgs:AnnSelectG :: SelectArgs b
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnArgs%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SelectArgs b
</span><a href="#local-6989586621687052197"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-202"></span><span>                  </span><span class="annot"><span class="annottext">$sel:_asnStrfyNum:AnnSelectG :: StringifyNumbers
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnStrfyNum%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnStrfyNum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StringifyNumbers
</span><a href="#local-6989586621687052195"><span class="hs-identifier hs-var">stringifyNumbers</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-203"></span><span>                  </span><span class="annot"><span class="annottext">$sel:_asnNamingConvention:AnnSelectG :: Maybe NamingCase
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnNamingConvention%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnNamingConvention</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamingCase -&gt; Maybe NamingCase
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">NamingCase
</span><a href="#local-6989586621687052187"><span class="hs-identifier hs-var">tCase</span></a></span><span>
</span><span id="line-204"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-205"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="hs-comment">-- | Table selection by primary key.</span><span>
</span><span id="line-208"></span><span class="hs-comment">--</span><span>
</span><span id="line-209"></span><span class="hs-comment">-- &gt; table_name(id: 42) {</span><span>
</span><span id="line-210"></span><span class="hs-comment">-- &gt;   col1: col1_type</span><span>
</span><span id="line-211"></span><span class="hs-comment">-- &gt;   col2: col2_type</span><span>
</span><span id="line-212"></span><span class="hs-comment">-- &gt; }: table</span><span>
</span><span id="line-213"></span><span class="hs-comment">--</span><span>
</span><span id="line-214"></span><span class="hs-comment">-- Returns Nothing if there's nothing that can be selected with</span><span>
</span><span id="line-215"></span><span class="hs-comment">-- current permissions or if there are primary keys the user</span><span>
</span><span id="line-216"></span><span class="hs-comment">-- doesn't have select permissions for.</span><span>
</span><span id="line-217"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#selectTableByPk"><span class="hs-identifier hs-type">selectTableByPk</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687052207"><span class="annot"><a href="#local-6989586621687052207"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621687052208"><span class="annot"><a href="#local-6989586621687052208"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621687052209"><span class="annot"><a href="#local-6989586621687052209"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687052210"><span class="annot"><a href="#local-6989586621687052210"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#MonadBuildSchema"><span class="hs-identifier hs-type">MonadBuildSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687052207"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687052208"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687052209"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687052210"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#BackendTableSelectSchema"><span class="hs-identifier hs-type">BackendTableSelectSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687052207"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-220"></span><span>  </span><span class="annot"><span class="hs-comment">-- | table info</span></span><span>
</span><span id="line-221"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#TableInfo"><span class="hs-identifier hs-type">TableInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687052207"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-222"></span><span>  </span><span class="annot"><span class="hs-comment">-- | field display name</span></span><span>
</span><span id="line-223"></span><span>  </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html#Name"><span class="hs-identifier hs-type">G.Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-224"></span><span>  </span><span class="annot"><span class="hs-comment">-- | field description, if any</span></span><span>
</span><span id="line-225"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-type">G.Description</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-226"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687052208"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687052209"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687052210"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SelectExp"><span class="hs-identifier hs-type">SelectExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687052207"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span id="selectTableByPk"><span class="annot"><span class="annottext">selectTableByPk :: forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(MonadBuildSchema b r m n, BackendTableSelectSchema b) =&gt;
TableInfo b
-&gt; Name
-&gt; Maybe Description
-&gt; SchemaT r m (Maybe (FieldParser n (SelectExp b)))
</span><a href="Hasura.GraphQL.Schema.Select.html#selectTableByPk"><span class="hs-identifier hs-var hs-var">selectTableByPk</span></a></span></span><span> </span><span id="local-6989586621687052322"><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052322"><span class="hs-identifier hs-var">tableInfo</span></a></span></span><span> </span><span id="local-6989586621687052323"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052323"><span class="hs-identifier hs-var">fieldName</span></a></span></span><span> </span><span id="local-6989586621687052324"><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687052324"><span class="hs-identifier hs-var">description</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MaybeT (SchemaT r m) (FieldParser n (SelectExp b))
-&gt; SchemaT r m (Maybe (FieldParser n (SelectExp b)))
forall (m :: * -&gt; *) a. MaybeT m a -&gt; m (Maybe a)
</span><span class="hs-identifier hs-var">runMaybeT</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-228"></span><span>  </span><span id="local-6989586621687052325"><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052325"><span class="hs-identifier hs-var">sourceInfo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Source.html#SourceInfo"><span class="hs-identifier hs-type">SourceInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687052207"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(r -&gt; SourceInfo b) -&gt; MaybeT (SchemaT r m) (SourceInfo b)
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; SourceInfo b
forall a t. Has a t =&gt; t -&gt; a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/data-has-0.4.0.0-046b1b301c44f043005ecffcde95c748cd1a5249e8b9e9ea3eaa14bac0030231/share/doc/html/src/Data.Has.html#getter"><span class="hs-identifier hs-var">getter</span></a></span><span>
</span><span id="line-229"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687052326"><span class="annot"><span class="annottext">sourceName :: SourceName
</span><a href="#local-6989586621687052326"><span class="hs-identifier hs-var hs-var">sourceName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceInfo b -&gt; SourceName
forall (b :: BackendType). SourceInfo b -&gt; SourceName
</span><a href="Hasura.RQL.Types.Source.html#_siName"><span class="hs-identifier hs-var">_siName</span></a></span><span> </span><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052325"><span class="hs-identifier hs-var">sourceInfo</span></a></span><span>
</span><span id="line-230"></span><span>      </span><span id="local-6989586621687052327"><span class="annot"><span class="annottext">tableName :: TableName b
</span><a href="#local-6989586621687052327"><span class="hs-identifier hs-var hs-var">tableName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; TableName b
forall (b :: BackendType). TableInfo b -&gt; TableName b
</span><a href="Hasura.Table.Cache.html#tableInfoName"><span class="hs-identifier hs-var">tableInfoName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052322"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-231"></span><span>      </span><span id="local-6989586621687052328"><span class="annot"><span class="annottext">tCase :: NamingCase
</span><a href="#local-6989586621687052328"><span class="hs-identifier hs-var hs-var">tCase</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization -&gt; NamingCase
</span><a href="Hasura.RQL.Types.SourceCustomization.html#_rscNamingConvention"><span class="hs-identifier hs-var">_rscNamingConvention</span></a></span><span> </span><span class="annot"><span class="annottext">(ResolvedSourceCustomization -&gt; NamingCase)
-&gt; ResolvedSourceCustomization -&gt; NamingCase
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SourceInfo b -&gt; ResolvedSourceCustomization
forall (b :: BackendType).
SourceInfo b -&gt; ResolvedSourceCustomization
</span><a href="Hasura.RQL.Types.Source.html#_siCustomization"><span class="hs-identifier hs-var">_siCustomization</span></a></span><span> </span><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052325"><span class="hs-identifier hs-var">sourceInfo</span></a></span><span>
</span><span id="line-232"></span><span>  </span><span id="local-6989586621687052329"><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687052329"><span class="hs-identifier hs-var">roleName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SchemaContext -&gt; RoleName) -&gt; MaybeT (SchemaT r m) RoleName
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaContext -&gt; RoleName
</span><a href="Hasura.GraphQL.Schema.Common.html#scRole"><span class="hs-identifier hs-var">scRole</span></a></span><span>
</span><span id="line-233"></span><span>  </span><span id="local-6989586621687052330"><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687052330"><span class="hs-identifier hs-var">selectPermissions</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b)
forall (m :: * -&gt; *) b. Applicative m =&gt; Maybe b -&gt; MaybeT m b
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#hoistMaybe"><span class="hs-identifier hs-var">hoistMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b))
-&gt; Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleName -&gt; TableInfo b -&gt; Maybe (SelPermInfo b)
forall (b :: BackendType).
RoleName -&gt; TableInfo b -&gt; Maybe (SelPermInfo b)
</span><a href="Hasura.GraphQL.Schema.Table.html#tableSelectPermissions"><span class="hs-identifier hs-var">tableSelectPermissions</span></a></span><span> </span><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687052329"><span class="hs-identifier hs-var">roleName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052322"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-234"></span><span>  </span><span id="local-6989586621687052331"><span class="annot"><span class="annottext">NESeq (ColumnInfo b)
</span><a href="#local-6989586621687052331"><span class="hs-identifier hs-var">primaryKeys</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (NESeq (ColumnInfo b))
-&gt; MaybeT (SchemaT r m) (NESeq (ColumnInfo b))
forall (m :: * -&gt; *) b. Applicative m =&gt; Maybe b -&gt; MaybeT m b
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#hoistMaybe"><span class="hs-identifier hs-var">hoistMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (NESeq (ColumnInfo b))
 -&gt; MaybeT (SchemaT r m) (NESeq (ColumnInfo b)))
-&gt; Maybe (NESeq (ColumnInfo b))
-&gt; MaybeT (SchemaT r m) (NESeq (ColumnInfo b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(PrimaryKey b (ColumnInfo b) -&gt; NESeq (ColumnInfo b))
-&gt; Maybe (PrimaryKey b (ColumnInfo b))
-&gt; Maybe (NESeq (ColumnInfo b))
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">PrimaryKey b (ColumnInfo b) -&gt; NESeq (ColumnInfo b)
forall (b :: BackendType) a. PrimaryKey b a -&gt; NESeq a
</span><a href="Hasura.Table.Cache.html#_pkColumns"><span class="hs-identifier hs-var">_pkColumns</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (PrimaryKey b (ColumnInfo b))
 -&gt; Maybe (NESeq (ColumnInfo b)))
-&gt; (TableInfo b -&gt; Maybe (PrimaryKey b (ColumnInfo b)))
-&gt; TableInfo b
-&gt; Maybe (NESeq (ColumnInfo b))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TableCoreInfoG b (FieldInfo b) (ColumnInfo b)
-&gt; Maybe (PrimaryKey b (ColumnInfo b))
forall (b :: BackendType) field primaryKeyColumn.
TableCoreInfoG b field primaryKeyColumn
-&gt; Maybe (PrimaryKey b primaryKeyColumn)
</span><a href="Hasura.Table.Cache.html#_tciPrimaryKey"><span class="hs-identifier hs-var">_tciPrimaryKey</span></a></span><span> </span><span class="annot"><span class="annottext">(TableCoreInfoG b (FieldInfo b) (ColumnInfo b)
 -&gt; Maybe (PrimaryKey b (ColumnInfo b)))
-&gt; (TableInfo b -&gt; TableCoreInfoG b (FieldInfo b) (ColumnInfo b))
-&gt; TableInfo b
-&gt; Maybe (PrimaryKey b (ColumnInfo b))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; TableCoreInfoG b (FieldInfo b) (ColumnInfo b)
forall (b :: BackendType). TableInfo b -&gt; TableCoreInfo b
</span><a href="Hasura.Table.Cache.html#_tiCoreInfo"><span class="hs-identifier hs-var">_tiCoreInfo</span></a></span><span> </span><span class="annot"><span class="annottext">(TableInfo b -&gt; Maybe (NESeq (ColumnInfo b)))
-&gt; TableInfo b -&gt; Maybe (NESeq (ColumnInfo b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052322"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-235"></span><span>  </span><span id="local-6989586621687052336"><span class="annot"><span class="annottext">Parser 'Output n (AnnotatedFields b)
</span><a href="#local-6989586621687052336"><span class="hs-identifier hs-var">selectionSetParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
-&gt; MaybeT (SchemaT r m) (Parser 'Output n (AnnotatedFields b))
forall (m :: * -&gt; *) a. m (Maybe a) -&gt; MaybeT m a
</span><span class="hs-identifier hs-var">MaybeT</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
 -&gt; MaybeT (SchemaT r m) (Parser 'Output n (AnnotatedFields b)))
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
-&gt; MaybeT (SchemaT r m) (Parser 'Output n (AnnotatedFields b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
forall r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSourceSchema b r m n =&gt;
TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(BackendTableSelectSchema b, MonadBuildSourceSchema b r m n) =&gt;
TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
</span><a href="Hasura.GraphQL.Schema.Backend.html#tableSelectionSet"><span class="hs-identifier hs-var">tableSelectionSet</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052322"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-236"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; MaybeT (SchemaT r m) ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; MaybeT (SchemaT r m) ())
-&gt; Bool -&gt; MaybeT (SchemaT r m) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(ColumnInfo b -&gt; Bool) -&gt; NESeq (ColumnInfo b) -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621687052339"><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687052339"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Column b
forall (b :: BackendType). ColumnInfo b -&gt; Column b
</span><a href="Hasura.RQL.Types.Column.html#ciColumn"><span class="hs-identifier hs-var">ciColumn</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687052339"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Column b
-&gt; HashMap (Column b) (Maybe (AnnColumnCaseBoolExpPartialSQL b))
-&gt; Bool
forall k a. (Eq k, Hashable k) =&gt; k -&gt; HashMap k a -&gt; Bool
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.html#member"><span class="hs-operator hs-var">`HashMap.member`</span></a></span><span> </span><span class="annot"><span class="annottext">SelPermInfo b
-&gt; HashMap (Column b) (Maybe (AnnColumnCaseBoolExpPartialSQL b))
forall (b :: BackendType).
SelPermInfo b
-&gt; HashMap (Column b) (Maybe (AnnColumnCaseBoolExpPartialSQL b))
</span><a href="Hasura.Table.Cache.html#spiCols"><span class="hs-identifier hs-var">spiCols</span></a></span><span> </span><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687052330"><span class="hs-identifier hs-var">selectPermissions</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NESeq (ColumnInfo b)
</span><a href="#local-6989586621687052331"><span class="hs-identifier hs-var">primaryKeys</span></a></span><span>
</span><span id="line-237"></span><span>  </span><span class="annot"><span class="annottext">SchemaT r m (FieldParser n (SelectExp b))
-&gt; MaybeT (SchemaT r m) (FieldParser n (SelectExp b))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; MaybeT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m (FieldParser n (SelectExp b))
 -&gt; MaybeT (SchemaT r m) (FieldParser n (SelectExp b)))
-&gt; SchemaT r m (FieldParser n (SelectExp b))
-&gt; MaybeT (SchemaT r m) (FieldParser n (SelectExp b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (SourceName, TableName b, Name)
-&gt; SchemaT r m (FieldParser n (SelectExp b))
-&gt; SchemaT r m (FieldParser n (SelectExp b))
forall (m :: * -&gt; *) a (p :: (* -&gt; *) -&gt; * -&gt; *) (n :: * -&gt; *) b.
(MonadMemoize m, Ord a, Typeable a, Typeable p, MonadParse n,
 Typeable b) =&gt;
Name -&gt; a -&gt; m (p n b) -&gt; m (p n b)
</span><a href="Hasura.GraphQL.Schema.Parser.html#memoizeOn"><span class="hs-identifier hs-var">P.memoizeOn</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-identifier">selectTableByPk</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621687052326"><span class="hs-identifier hs-var">sourceName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687052327"><span class="hs-identifier hs-var">tableName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052323"><span class="hs-identifier hs-var">fieldName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-238"></span><span>    </span><span id="local-6989586621687052343"><span class="annot"><span class="annottext">StringifyNumbers
</span><a href="#local-6989586621687052343"><span class="hs-identifier hs-var">stringifyNumbers</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SchemaOptions -&gt; StringifyNumbers) -&gt; SchemaT r m StringifyNumbers
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaOptions -&gt; StringifyNumbers
</span><a href="Hasura.RQL.Types.Schema.Options.html#soStringifyNumbers"><span class="hs-identifier hs-var">Options.soStringifyNumbers</span></a></span><span>
</span><span id="line-239"></span><span>    </span><span id="local-6989586621687052344"><span class="annot"><span class="annottext">InputFieldsParser
  MetadataObjId
  n
  (NESeq (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))))
</span><a href="#local-6989586621687052344"><span class="hs-identifier hs-var">argsParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-240"></span><span>      </span><span class="annot"><span class="annottext">NESeq
  (InputFieldsParser
     MetadataObjId n (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))))
-&gt; InputFieldsParser
     MetadataObjId
     n
     (NESeq (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))))
forall (t :: * -&gt; *) (f :: * -&gt; *) a.
(Traversable t, Applicative f) =&gt;
t (f a) -&gt; f (t a)
forall (f :: * -&gt; *) a. Applicative f =&gt; NESeq (f a) -&gt; f (NESeq a)
</span><span class="hs-identifier hs-var">sequenceA</span></span><span> </span><span class="annot"><span class="annottext">(NESeq
   (InputFieldsParser
      MetadataObjId n (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))))
 -&gt; InputFieldsParser
      MetadataObjId
      n
      (NESeq (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b)))))
-&gt; SchemaT
     r
     m
     (NESeq
        (InputFieldsParser
           MetadataObjId
           n
           (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b)))))
-&gt; SchemaT
     r
     m
     (InputFieldsParser
        MetadataObjId
        n
        (NESeq (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b)))))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NESeq (ColumnInfo b)
-&gt; (ColumnInfo b
    -&gt; SchemaT
         r
         m
         (InputFieldsParser
            MetadataObjId
            n
            (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b)))))
-&gt; SchemaT
     r
     m
     (NESeq
        (InputFieldsParser
           MetadataObjId
           n
           (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b)))))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><span class="hs-identifier hs-var">for</span></span><span> </span><span class="annot"><span class="annottext">NESeq (ColumnInfo b)
</span><a href="#local-6989586621687052331"><span class="hs-identifier hs-var">primaryKeys</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687052347"><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687052347"><span class="hs-identifier hs-var">columnInfo</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-241"></span><span>        </span><span id="local-6989586621687052348"><span class="annot"><span class="annottext">Parser 'Both n (ValueWithOrigin (ColumnValue b))
</span><a href="#local-6989586621687052348"><span class="hs-identifier hs-var">field</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ColumnType b
-&gt; Nullability
-&gt; SchemaT r m (Parser 'Both n (ValueWithOrigin (ColumnValue b)))
forall r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
ColumnType b
-&gt; Nullability
-&gt; SchemaT r m (Parser 'Both n (ValueWithOrigin (ColumnValue b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(BackendSchema b, MonadBuildSchema b r m n) =&gt;
ColumnType b
-&gt; Nullability
-&gt; SchemaT r m (Parser 'Both n (ValueWithOrigin (ColumnValue b)))
</span><a href="Hasura.GraphQL.Schema.Backend.html#columnParser"><span class="hs-identifier hs-var">columnParser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b -&gt; ColumnType b
forall (b :: BackendType). ColumnInfo b -&gt; ColumnType b
</span><a href="Hasura.RQL.Types.Column.html#ciType"><span class="hs-identifier hs-var">ciType</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687052347"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Nullability
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Nullability"><span class="hs-identifier hs-var">G.Nullability</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Nullability) -&gt; Bool -&gt; Nullability
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Bool
forall (b :: BackendType). ColumnInfo b -&gt; Bool
</span><a href="Hasura.RQL.Types.Column.html#ciIsNullable"><span class="hs-identifier hs-var">ciIsNullable</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687052347"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>        </span><span class="hs-identifier">pure</span><span>
</span><span id="line-243"></span><span>          </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">AnnBoolExpFld b (UnpreparedValue b)
-&gt; GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))
forall (backend :: BackendType) field.
field -&gt; GBoolExp backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#BoolField"><span class="hs-identifier hs-var">BoolField</span></a></span><span>
</span><span id="line-244"></span><span>          </span><span class="annot"><span class="annottext">(AnnBoolExpFld b (UnpreparedValue b)
 -&gt; GBoolExp b (AnnBoolExpFld b (UnpreparedValue b)))
-&gt; (ValueWithOrigin (ColumnValue b)
    -&gt; AnnBoolExpFld b (UnpreparedValue b))
-&gt; ValueWithOrigin (ColumnValue b)
-&gt; GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
-&gt; [OpExpG b (UnpreparedValue b)]
-&gt; AnnBoolExpFld b (UnpreparedValue b)
forall (backend :: BackendType) leaf.
ColumnInfo backend
-&gt; [OpExpG backend leaf] -&gt; AnnBoolExpFld backend leaf
</span><a href="Hasura.RQL.IR.BoolExp.html#AVColumn"><span class="hs-identifier hs-var">AVColumn</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687052347"><span class="hs-identifier hs-var">columnInfo</span></a></span><span>
</span><span id="line-245"></span><span>          </span><span class="annot"><span class="annottext">([OpExpG b (UnpreparedValue b)]
 -&gt; AnnBoolExpFld b (UnpreparedValue b))
-&gt; (ValueWithOrigin (ColumnValue b)
    -&gt; [OpExpG b (UnpreparedValue b)])
-&gt; ValueWithOrigin (ColumnValue b)
-&gt; AnnBoolExpFld b (UnpreparedValue b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">OpExpG b (UnpreparedValue b) -&gt; [OpExpG b (UnpreparedValue b)]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-246"></span><span>          </span><span class="annot"><span class="annottext">(OpExpG b (UnpreparedValue b) -&gt; [OpExpG b (UnpreparedValue b)])
-&gt; (ValueWithOrigin (ColumnValue b)
    -&gt; OpExpG b (UnpreparedValue b))
-&gt; ValueWithOrigin (ColumnValue b)
-&gt; [OpExpG b (UnpreparedValue b)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; UnpreparedValue b -&gt; OpExpG b (UnpreparedValue b)
forall (backend :: BackendType) field.
Bool -&gt; field -&gt; OpExpG backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#AEQ"><span class="hs-identifier hs-var">AEQ</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-247"></span><span>          </span><span class="annot"><span class="annottext">(UnpreparedValue b -&gt; OpExpG b (UnpreparedValue b))
-&gt; (ValueWithOrigin (ColumnValue b) -&gt; UnpreparedValue b)
-&gt; ValueWithOrigin (ColumnValue b)
-&gt; OpExpG b (UnpreparedValue b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ValueWithOrigin (ColumnValue b) -&gt; UnpreparedValue b
forall (b :: BackendType).
ValueWithOrigin (ColumnValue b) -&gt; UnpreparedValue b
</span><a href="Hasura.RQL.IR.Value.html#mkParameter"><span class="hs-identifier hs-var">IR.mkParameter</span></a></span><span>
</span><span id="line-248"></span><span>          </span><span class="annot"><span class="annottext">(ValueWithOrigin (ColumnValue b)
 -&gt; GBoolExp b (AnnBoolExpFld b (UnpreparedValue b)))
-&gt; InputFieldsParser
     MetadataObjId n (ValueWithOrigin (ColumnValue b))
-&gt; InputFieldsParser
     MetadataObjId n (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b)))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser 'Both n (ValueWithOrigin (ColumnValue b))
-&gt; InputFieldsParser
     MetadataObjId n (ValueWithOrigin (ColumnValue b))
forall (m :: * -&gt; *) (k :: Kind) origin a.
(MonadParse m, 'Input &lt;: k) =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin k m a
-&gt; InputFieldsParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Input.html#field"><span class="hs-identifier hs-var">P.field</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Name
forall (b :: BackendType). ColumnInfo b -&gt; Name
</span><a href="Hasura.RQL.Types.Column.html#ciName"><span class="hs-identifier hs-var">ciName</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687052347"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Maybe Description
forall (b :: BackendType). ColumnInfo b -&gt; Maybe Description
</span><a href="Hasura.RQL.Types.Column.html#ciDescription"><span class="hs-identifier hs-var">ciDescription</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687052347"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parser 'Both n (ValueWithOrigin (ColumnValue b))
</span><a href="#local-6989586621687052348"><span class="hs-identifier hs-var">field</span></a></span><span>
</span><span id="line-249"></span><span>    </span><span class="hs-identifier">pure</span><span>
</span><span id="line-250"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">MetadataObjId
-&gt; FieldParser n (SelectExp b) -&gt; FieldParser n (SelectExp b)
forall (m :: * -&gt; *) origin a.
origin -&gt; FieldParser origin m a -&gt; FieldParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#setFieldParserOrigin"><span class="hs-identifier hs-var">P.setFieldParserOrigin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceName -&gt; AnyBackend SourceMetadataObjId -&gt; MetadataObjId
</span><a href="Hasura.RQL.Types.Metadata.Object.html#MOSourceObjId"><span class="hs-identifier hs-var">MOSourceObjId</span></a></span><span> </span><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621687052326"><span class="hs-identifier hs-var">sourceName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceMetadataObjId b -&gt; AnyBackend SourceMetadataObjId
forall (b :: BackendType) (i :: BackendType -&gt; *).
HasTag b =&gt;
i b -&gt; AnyBackend i
</span><a href="Hasura.SQL.AnyBackend.html#mkAnyBackend"><span class="hs-identifier hs-var">AB.mkAnyBackend</span></a></span><span> </span><span class="annot"><span class="annottext">(SourceMetadataObjId b -&gt; AnyBackend SourceMetadataObjId)
-&gt; SourceMetadataObjId b -&gt; AnyBackend SourceMetadataObjId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType). TableName b -&gt; SourceMetadataObjId b
</span><a href="Hasura.RQL.Types.Metadata.Object.html#SMOTable"><span class="hs-identifier hs-var">SMOTable</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687052207"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687052327"><span class="hs-identifier hs-var">tableName</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>      </span><span class="annot"><span class="annottext">(FieldParser n (SelectExp b) -&gt; FieldParser n (SelectExp b))
-&gt; FieldParser n (SelectExp b) -&gt; FieldParser n (SelectExp b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; InputFieldsParser
     MetadataObjId
     n
     (NESeq (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))))
-&gt; Parser 'Output n (AnnotatedFields b)
-&gt; FieldParser
     MetadataObjId
     n
     (NESeq (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))),
      AnnotatedFields b)
forall (m :: * -&gt; *) origin a b.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; InputFieldsParser origin m a
-&gt; Parser origin 'Output m b
-&gt; FieldParser origin m (a, b)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#subselection"><span class="hs-identifier hs-var">P.subselection</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052323"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687052324"><span class="hs-identifier hs-var">description</span></a></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser
  MetadataObjId
  n
  (NESeq (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))))
</span><a href="#local-6989586621687052344"><span class="hs-identifier hs-var">argsParser</span></a></span><span> </span><span class="annot"><span class="annottext">Parser 'Output n (AnnotatedFields b)
</span><a href="#local-6989586621687052336"><span class="hs-identifier hs-var">selectionSetParser</span></a></span><span>
</span><span id="line-252"></span><span>      </span><span class="annot"><span class="annottext">FieldParser
  MetadataObjId
  n
  (NESeq (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))),
   AnnotatedFields b)
-&gt; ((NESeq (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))),
     AnnotatedFields b)
    -&gt; SelectExp b)
-&gt; FieldParser n (SelectExp b)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621687052360"><span class="annot"><span class="annottext">NESeq (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b)))
</span><a href="#local-6989586621687052360"><span class="hs-identifier hs-var">boolExpr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687052361"><span class="annot"><span class="annottext">AnnotatedFields b
</span><a href="#local-6989586621687052361"><span class="hs-identifier hs-var">fields</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-253"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687052362"><span class="annot"><span class="annottext">defaultPerms :: TablePermG b (UnpreparedValue b)
</span><a href="#local-6989586621687052362"><span class="hs-identifier hs-var hs-var">defaultPerms</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SelPermInfo b -&gt; TablePermG b (UnpreparedValue b)
forall (b :: BackendType).
Backend b =&gt;
SelPermInfo b -&gt; TablePerms b
</span><a href="Hasura.GraphQL.Schema.Select.html#tablePermissionsInfo"><span class="hs-identifier hs-var">tablePermissionsInfo</span></a></span><span> </span><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687052330"><span class="hs-identifier hs-var">selectPermissions</span></a></span><span>
</span><span id="line-254"></span><span>            </span><span class="hs-comment">-- Do not account permission limit since the result is just a nullable object</span><span>
</span><span id="line-255"></span><span>            </span><span id="local-6989586621687052363"><span class="annot"><span class="annottext">permissions :: TablePermG b (UnpreparedValue b)
</span><a href="#local-6989586621687052363"><span class="hs-identifier hs-var hs-var">permissions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TablePermG b (UnpreparedValue b)
</span><a href="#local-6989586621687052362"><span class="hs-identifier hs-var">defaultPerms</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">$sel:_tpLimit:TablePerm :: Maybe Int
</span><a href="Hasura.RQL.IR.Select.TablePerm.html#%24sel%3A_tpLimit%3ATablePerm"><span class="hs-identifier hs-var">IR._tpLimit</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">}</span><span>
</span><span id="line-256"></span><span>            </span><span id="local-6989586621687052365"><span class="annot"><span class="annottext">whereExpr :: Maybe (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b)))
</span><a href="#local-6989586621687052365"><span class="hs-identifier hs-var hs-var">whereExpr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))
-&gt; Maybe (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b)))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))
 -&gt; Maybe (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))))
-&gt; GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))
-&gt; Maybe (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))]
-&gt; GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))
forall (backend :: BackendType) field.
[GBoolExp backend field] -&gt; GBoolExp backend field
</span><a href="Hasura.RQL.IR.BoolExp.html#BoolAnd"><span class="hs-identifier hs-var">BoolAnd</span></a></span><span> </span><span class="annot"><span class="annottext">([GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))]
 -&gt; GBoolExp b (AnnBoolExpFld b (UnpreparedValue b)))
-&gt; [GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))]
-&gt; GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NESeq (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b)))
-&gt; [GBoolExp b (AnnBoolExpFld b (UnpreparedValue b))]
forall a. NESeq a -&gt; [a]
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><span class="hs-identifier hs-var">toList</span></span><span> </span><span class="annot"><span class="annottext">NESeq (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b)))
</span><a href="#local-6989586621687052360"><span class="hs-identifier hs-var">boolExpr</span></a></span><span>
</span><span id="line-257"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="annot"><a href="Hasura.RQL.IR.Select.AnnSelectG.html#AnnSelectG"><span class="hs-identifier hs-type">IR.AnnSelectG</span></a></span><span>
</span><span id="line-258"></span><span>              </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:_asnFields:AnnSelectG :: AnnotatedFields b
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnFields%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnFields</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnnotatedFields b
</span><a href="#local-6989586621687052361"><span class="hs-identifier hs-var">fields</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-259"></span><span>                </span><span class="annot"><span class="annottext">$sel:_asnFrom:AnnSelectG :: SelectFromG b (UnpreparedValue b)
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnFrom%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnFrom</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TableName b -&gt; SelectFromG b (UnpreparedValue b)
forall (b :: BackendType) v. TableName b -&gt; SelectFromG b v
</span><a href="Hasura.RQL.IR.Select.From.html#FromTable"><span class="hs-identifier hs-var">IR.FromTable</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687052327"><span class="hs-identifier hs-var">tableName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-260"></span><span>                </span><span class="annot"><span class="annottext">$sel:_asnPerm:AnnSelectG :: TablePermG b (UnpreparedValue b)
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnPerm%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnPerm</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TablePermG b (UnpreparedValue b)
</span><a href="#local-6989586621687052363"><span class="hs-identifier hs-var">permissions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-261"></span><span>                </span><span class="annot"><span class="annottext">$sel:_asnArgs:AnnSelectG :: SelectArgsG b (UnpreparedValue b)
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnArgs%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SelectArgsG b (UnpreparedValue b)
forall (backend :: BackendType) v. SelectArgsG backend v
</span><a href="Hasura.RQL.IR.Select.Args.html#noSelectArgs"><span class="hs-identifier hs-var">IR.noSelectArgs</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">$sel:_saWhere:SelectArgs :: Maybe (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b)))
</span><a href="Hasura.RQL.IR.Select.Args.html#%24sel%3A_saWhere%3ASelectArgs"><span class="hs-identifier hs-var">IR._saWhere</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (GBoolExp b (AnnBoolExpFld b (UnpreparedValue b)))
</span><a href="#local-6989586621687052365"><span class="hs-identifier hs-var">whereExpr</span></a></span><span class="hs-special">}</span><span class="hs-special">,</span><span>
</span><span id="line-262"></span><span>                </span><span class="annot"><span class="annottext">$sel:_asnStrfyNum:AnnSelectG :: StringifyNumbers
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnStrfyNum%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnStrfyNum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StringifyNumbers
</span><a href="#local-6989586621687052343"><span class="hs-identifier hs-var">stringifyNumbers</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-263"></span><span>                </span><span class="annot"><span class="annottext">$sel:_asnNamingConvention:AnnSelectG :: Maybe NamingCase
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnNamingConvention%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnNamingConvention</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamingCase -&gt; Maybe NamingCase
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">NamingCase
</span><a href="#local-6989586621687052328"><span class="hs-identifier hs-var">tCase</span></a></span><span>
</span><span id="line-264"></span><span>              </span><span class="hs-special">}</span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-comment">-- | Table aggregation selection</span><span>
</span><span id="line-267"></span><span class="hs-comment">--</span><span>
</span><span id="line-268"></span><span class="hs-comment">-- Parser for an aggregation selection of a table.</span><span>
</span><span id="line-269"></span><span class="hs-comment">-- &gt; table_aggregate(limit: 10) {</span><span>
</span><span id="line-270"></span><span class="hs-comment">-- &gt;   aggregate: table_aggregate_fields</span><span>
</span><span id="line-271"></span><span class="hs-comment">-- &gt;   nodes: [table!]!</span><span>
</span><span id="line-272"></span><span class="hs-comment">-- &gt; } :: table_aggregate!</span><span>
</span><span id="line-273"></span><span class="hs-comment">--</span><span>
</span><span id="line-274"></span><span class="hs-comment">-- Returns Nothing if there's nothing that can be selected with</span><span>
</span><span id="line-275"></span><span class="hs-comment">-- current permissions.</span><span>
</span><span id="line-276"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#defaultSelectTableAggregate"><span class="hs-identifier hs-type">defaultSelectTableAggregate</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-277"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687051254"><span class="annot"><a href="#local-6989586621687051254"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621687051255"><span class="annot"><a href="#local-6989586621687051255"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621687051256"><span class="annot"><a href="#local-6989586621687051256"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687051257"><span class="annot"><a href="#local-6989586621687051257"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-278"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#MonadBuildSchema"><span class="hs-identifier hs-type">MonadBuildSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051254"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051255"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051256"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051257"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#BackendTableSelectSchema"><span class="hs-identifier hs-type">BackendTableSelectSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051254"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-279"></span><span>  </span><span class="annot"><span class="hs-comment">-- | table info</span></span><span>
</span><span id="line-280"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#TableInfo"><span class="hs-identifier hs-type">TableInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051254"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-281"></span><span>  </span><span class="annot"><span class="hs-comment">-- | field display name</span></span><span>
</span><span id="line-282"></span><span>  </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html#Name"><span class="hs-identifier hs-type">G.Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-283"></span><span>  </span><span class="annot"><span class="hs-comment">-- | field description, if any</span></span><span>
</span><span id="line-284"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-type">G.Description</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-285"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051255"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051256"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051257"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#AggSelectExp"><span class="hs-identifier hs-type">AggSelectExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051254"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-286"></span><span id="defaultSelectTableAggregate"><span class="annot"><span class="annottext">defaultSelectTableAggregate :: forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(MonadBuildSchema b r m n, BackendTableSelectSchema b) =&gt;
TableInfo b
-&gt; Name
-&gt; Maybe Description
-&gt; SchemaT r m (Maybe (FieldParser n (AggSelectExp b)))
</span><a href="Hasura.GraphQL.Schema.Select.html#defaultSelectTableAggregate"><span class="hs-identifier hs-var hs-var">defaultSelectTableAggregate</span></a></span></span><span> </span><span id="local-6989586621687052475"><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052475"><span class="hs-identifier hs-var">tableInfo</span></a></span></span><span> </span><span id="local-6989586621687052476"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052476"><span class="hs-identifier hs-var">fieldName</span></a></span></span><span> </span><span id="local-6989586621687052477"><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687052477"><span class="hs-identifier hs-var">description</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MaybeT (SchemaT r m) (FieldParser n (AggSelectExp b))
-&gt; SchemaT r m (Maybe (FieldParser n (AggSelectExp b)))
forall (m :: * -&gt; *) a. MaybeT m a -&gt; m (Maybe a)
</span><span class="hs-identifier hs-var">runMaybeT</span></span><span> </span><span class="annot"><span class="annottext">(MaybeT (SchemaT r m) (FieldParser n (AggSelectExp b))
 -&gt; SchemaT r m (Maybe (FieldParser n (AggSelectExp b))))
-&gt; MaybeT (SchemaT r m) (FieldParser n (AggSelectExp b))
-&gt; SchemaT r m (Maybe (FieldParser n (AggSelectExp b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-287"></span><span>  </span><span id="local-6989586621687052478"><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052478"><span class="hs-identifier hs-var">sourceInfo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Source.html#SourceInfo"><span class="hs-identifier hs-type">SourceInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051254"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(r -&gt; SourceInfo b) -&gt; MaybeT (SchemaT r m) (SourceInfo b)
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; SourceInfo b
forall a t. Has a t =&gt; t -&gt; a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/data-has-0.4.0.0-046b1b301c44f043005ecffcde95c748cd1a5249e8b9e9ea3eaa14bac0030231/share/doc/html/src/Data.Has.html#getter"><span class="hs-identifier hs-var">getter</span></a></span><span>
</span><span id="line-288"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687052479"><span class="annot"><span class="annottext">sourceName :: SourceName
</span><a href="#local-6989586621687052479"><span class="hs-identifier hs-var hs-var">sourceName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceInfo b -&gt; SourceName
forall (b :: BackendType). SourceInfo b -&gt; SourceName
</span><a href="Hasura.RQL.Types.Source.html#_siName"><span class="hs-identifier hs-var">_siName</span></a></span><span> </span><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052478"><span class="hs-identifier hs-var">sourceInfo</span></a></span><span>
</span><span id="line-289"></span><span>      </span><span id="local-6989586621687052480"><span class="annot"><span class="annottext">tableName :: TableName b
</span><a href="#local-6989586621687052480"><span class="hs-identifier hs-var hs-var">tableName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; TableName b
forall (b :: BackendType). TableInfo b -&gt; TableName b
</span><a href="Hasura.Table.Cache.html#tableInfoName"><span class="hs-identifier hs-var">tableInfoName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052475"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-290"></span><span>      </span><span id="local-6989586621687052481"><span class="annot"><span class="annottext">customization :: ResolvedSourceCustomization
</span><a href="#local-6989586621687052481"><span class="hs-identifier hs-var hs-var">customization</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceInfo b -&gt; ResolvedSourceCustomization
forall (b :: BackendType).
SourceInfo b -&gt; ResolvedSourceCustomization
</span><a href="Hasura.RQL.Types.Source.html#_siCustomization"><span class="hs-identifier hs-var">_siCustomization</span></a></span><span> </span><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052478"><span class="hs-identifier hs-var">sourceInfo</span></a></span><span>
</span><span id="line-291"></span><span>      </span><span id="local-6989586621687052482"><span class="annot"><span class="annottext">tCase :: NamingCase
</span><a href="#local-6989586621687052482"><span class="hs-identifier hs-var hs-var">tCase</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization -&gt; NamingCase
</span><a href="Hasura.RQL.Types.SourceCustomization.html#_rscNamingConvention"><span class="hs-identifier hs-var">_rscNamingConvention</span></a></span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization
</span><a href="#local-6989586621687052481"><span class="hs-identifier hs-var">customization</span></a></span><span>
</span><span id="line-292"></span><span>      </span><span id="local-6989586621687052483"><span class="annot"><span class="annottext">mkTypename :: Name -&gt; Name
</span><a href="#local-6989586621687052483"><span class="hs-identifier hs-var hs-var">mkTypename</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MkTypename -&gt; Name -&gt; Name
</span><a href="Hasura.GraphQL.Schema.Typename.html#runMkTypename"><span class="hs-identifier hs-var">runMkTypename</span></a></span><span> </span><span class="annot"><span class="annottext">(MkTypename -&gt; Name -&gt; Name) -&gt; MkTypename -&gt; Name -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization -&gt; MkTypename
</span><a href="Hasura.RQL.Types.SourceCustomization.html#_rscTypeNames"><span class="hs-identifier hs-var">_rscTypeNames</span></a></span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization
</span><a href="#local-6989586621687052481"><span class="hs-identifier hs-var">customization</span></a></span><span>
</span><span id="line-293"></span><span>  </span><span id="local-6989586621687052486"><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687052486"><span class="hs-identifier hs-var">roleName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SchemaContext -&gt; RoleName) -&gt; MaybeT (SchemaT r m) RoleName
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaContext -&gt; RoleName
</span><a href="Hasura.GraphQL.Schema.Common.html#scRole"><span class="hs-identifier hs-var">scRole</span></a></span><span>
</span><span id="line-294"></span><span>  </span><span id="local-6989586621687052487"><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687052487"><span class="hs-identifier hs-var">selectPermissions</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b)
forall (m :: * -&gt; *) b. Applicative m =&gt; Maybe b -&gt; MaybeT m b
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#hoistMaybe"><span class="hs-identifier hs-var">hoistMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b))
-&gt; Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleName -&gt; TableInfo b -&gt; Maybe (SelPermInfo b)
forall (b :: BackendType).
RoleName -&gt; TableInfo b -&gt; Maybe (SelPermInfo b)
</span><a href="Hasura.GraphQL.Schema.Table.html#tableSelectPermissions"><span class="hs-identifier hs-var">tableSelectPermissions</span></a></span><span> </span><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687052486"><span class="hs-identifier hs-var">roleName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052475"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-295"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; MaybeT (SchemaT r m) ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; MaybeT (SchemaT r m) ())
-&gt; Bool -&gt; MaybeT (SchemaT r m) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SelPermInfo b -&gt; Bool
forall (b :: BackendType). SelPermInfo b -&gt; Bool
</span><a href="Hasura.Table.Cache.html#spiAllowAgg"><span class="hs-identifier hs-var">spiAllowAgg</span></a></span><span> </span><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687052487"><span class="hs-identifier hs-var">selectPermissions</span></a></span><span>
</span><span id="line-296"></span><span>  </span><span id="local-6989586621687052489"><span class="annot"><span class="annottext">XNodesAgg b
</span><a href="#local-6989586621687052489"><span class="hs-identifier hs-var">xNodesAgg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (XNodesAgg b) -&gt; MaybeT (SchemaT r m) (XNodesAgg b)
forall (m :: * -&gt; *) b. Applicative m =&gt; Maybe b -&gt; MaybeT m b
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#hoistMaybe"><span class="hs-identifier hs-var">hoistMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (XNodesAgg b) -&gt; MaybeT (SchemaT r m) (XNodesAgg b))
-&gt; Maybe (XNodesAgg b) -&gt; MaybeT (SchemaT r m) (XNodesAgg b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType). BackendSchema b =&gt; Maybe (XNodesAgg b)
</span><a href="Hasura.GraphQL.Schema.Backend.html#nodesAggExtension"><span class="hs-identifier hs-var">nodesAggExtension</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687051254"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-297"></span><span>  </span><span id="local-6989586621687052491"><span class="annot"><span class="annottext">Parser 'Output n (AnnotatedFields b)
</span><a href="#local-6989586621687052491"><span class="hs-identifier hs-var">nodesParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
-&gt; MaybeT (SchemaT r m) (Parser 'Output n (AnnotatedFields b))
forall (m :: * -&gt; *) a. m (Maybe a) -&gt; MaybeT m a
</span><span class="hs-identifier hs-var">MaybeT</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
 -&gt; MaybeT (SchemaT r m) (Parser 'Output n (AnnotatedFields b)))
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
-&gt; MaybeT (SchemaT r m) (Parser 'Output n (AnnotatedFields b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(MonadBuildSchema b r m n, BackendTableSelectSchema b) =&gt;
TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
</span><a href="Hasura.GraphQL.Schema.Select.html#tableSelectionList"><span class="hs-identifier hs-var">tableSelectionList</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052475"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-298"></span><span>  </span><span class="annot"><span class="annottext">SchemaT r m (FieldParser n (AggSelectExp b))
-&gt; MaybeT (SchemaT r m) (FieldParser n (AggSelectExp b))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; MaybeT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m (FieldParser n (AggSelectExp b))
 -&gt; MaybeT (SchemaT r m) (FieldParser n (AggSelectExp b)))
-&gt; SchemaT r m (FieldParser n (AggSelectExp b))
-&gt; MaybeT (SchemaT r m) (FieldParser n (AggSelectExp b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (SourceName, TableName b, Name)
-&gt; SchemaT r m (FieldParser n (AggSelectExp b))
-&gt; SchemaT r m (FieldParser n (AggSelectExp b))
forall (m :: * -&gt; *) a (p :: (* -&gt; *) -&gt; * -&gt; *) (n :: * -&gt; *) b.
(MonadMemoize m, Ord a, Typeable a, Typeable p, MonadParse n,
 Typeable b) =&gt;
Name -&gt; a -&gt; m (p n b) -&gt; m (p n b)
</span><a href="Hasura.GraphQL.Schema.Parser.html#memoizeOn"><span class="hs-identifier hs-var">P.memoizeOn</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-identifier">defaultSelectTableAggregate</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621687052479"><span class="hs-identifier hs-var">sourceName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687052480"><span class="hs-identifier hs-var">tableName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052476"><span class="hs-identifier hs-var">fieldName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-299"></span><span>    </span><span id="local-6989586621687052492"><span class="annot"><span class="annottext">StringifyNumbers
</span><a href="#local-6989586621687052492"><span class="hs-identifier hs-var">stringifyNumbers</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SchemaOptions -&gt; StringifyNumbers) -&gt; SchemaT r m StringifyNumbers
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaOptions -&gt; StringifyNumbers
</span><a href="Hasura.RQL.Types.Schema.Options.html#soStringifyNumbers"><span class="hs-identifier hs-var">Options.soStringifyNumbers</span></a></span><span>
</span><span id="line-300"></span><span>    </span><span id="local-6989586621687052493"><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687052493"><span class="hs-identifier hs-var">tableGQLName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; SchemaT r m GQLNameIdentifier
forall (b :: BackendType) (m :: * -&gt; *).
(Backend b, MonadError QErr m) =&gt;
TableInfo b -&gt; m GQLNameIdentifier
</span><a href="Hasura.GraphQL.Schema.Table.html#getTableIdentifierName"><span class="hs-identifier hs-var">getTableIdentifierName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052475"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-301"></span><span>    </span><span id="local-6989586621687052495"><span class="annot"><span class="annottext">InputFieldsParser n (SelectArgsG b (UnpreparedValue b))
</span><a href="#local-6989586621687052495"><span class="hs-identifier hs-var">tableArgsParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT
     r m (InputFieldsParser n (SelectArgsG b (UnpreparedValue b)))
forall r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSourceSchema b r m n =&gt;
TableInfo b
-&gt; SchemaT
     r m (InputFieldsParser n (SelectArgsG b (UnpreparedValue b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(BackendTableSelectSchema b, MonadBuildSourceSchema b r m n) =&gt;
TableInfo b
-&gt; SchemaT
     r m (InputFieldsParser n (SelectArgsG b (UnpreparedValue b)))
</span><a href="Hasura.GraphQL.Schema.Backend.html#tableArguments"><span class="hs-identifier hs-var">tableArguments</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052475"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-302"></span><span>    </span><span id="local-6989586621687052496"><span class="annot"><span class="annottext">Parser 'Output n (AggregateFields b (UnpreparedValue b))
</span><a href="#local-6989586621687052496"><span class="hs-identifier hs-var">aggregateParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT
     r m (Parser 'Output n (AggregateFields b (UnpreparedValue b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
TableInfo b
-&gt; SchemaT
     r m (Parser 'Output n (AggregateFields b (UnpreparedValue b)))
</span><a href="Hasura.GraphQL.Schema.Select.html#tableAggregationFields"><span class="hs-identifier hs-var">tableAggregationFields</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052475"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-303"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687052497"><span class="annot"><span class="annottext">selectionName :: Name
</span><a href="#local-6989586621687052497"><span class="hs-identifier hs-var hs-var">selectionName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="#local-6989586621687052483"><span class="hs-identifier hs-var">mkTypename</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; Name -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NamingCase -&gt; GQLNameIdentifier -&gt; Name
</span><a href="Hasura.RQL.Types.SourceCustomization.html#applyTypeNameCaseIdentifier"><span class="hs-identifier hs-var">applyTypeNameCaseIdentifier</span></a></span><span> </span><span class="annot"><span class="annottext">NamingCase
</span><a href="#local-6989586621687052482"><span class="hs-identifier hs-var">tCase</span></a></span><span> </span><span class="annot"><span class="annottext">(GQLNameIdentifier -&gt; Name) -&gt; GQLNameIdentifier -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier -&gt; GQLNameIdentifier
</span><a href="Hasura.RQL.Types.SourceCustomization.html#mkTableAggregateTypeName"><span class="hs-identifier hs-var">mkTableAggregateTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687052493"><span class="hs-identifier hs-var">tableGQLName</span></a></span><span>
</span><span id="line-304"></span><span>        </span><span id="local-6989586621687052500"><span class="annot"><span class="annottext">aggregationParser :: Parser
  MetadataObjId
  'Output
  n
  (Fields
     (TableAggregateFieldG
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
</span><a href="#local-6989586621687052500"><span class="hs-identifier hs-var hs-var">aggregationParser</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-305"></span><span>          </span><span class="annot"><span class="annottext">Parser
  MetadataObjId
  'Output
  n
  (Fields
     (TableAggregateFieldG
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
-&gt; Parser
     MetadataObjId
     'Output
     n
     (Fields
        (TableAggregateFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
forall (m :: * -&gt; *) origin a.
Parser origin 'Output m a -&gt; Parser origin 'Output m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nonNullableParser"><span class="hs-identifier hs-var">P.nonNullableParser</span></a></span><span>
</span><span id="line-306"></span><span>            </span><span class="annot"><span class="annottext">(Parser
   MetadataObjId
   'Output
   n
   (Fields
      (TableAggregateFieldG
         b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
 -&gt; Parser
      MetadataObjId
      'Output
      n
      (Fields
         (TableAggregateFieldG
            b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))))
-&gt; Parser
     MetadataObjId
     'Output
     n
     (Fields
        (TableAggregateFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
-&gt; Parser
     MetadataObjId
     'Output
     n
     (Fields
        (TableAggregateFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Text
 -&gt; TableAggregateFieldG
      b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; InsOrdHashMap
     Name
     (ParsedSelection
        (TableAggregateFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
-&gt; Fields
     (TableAggregateFieldG
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
forall a.
(Text -&gt; a) -&gt; InsOrdHashMap Name (ParsedSelection a) -&gt; Fields a
</span><a href="Hasura.GraphQL.Schema.Common.html#parsedSelectionsToFields"><span class="hs-identifier hs-var">parsedSelectionsToFields</span></a></span><span> </span><span class="annot"><span class="annottext">Text
-&gt; TableAggregateFieldG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall (b :: BackendType) r v. Text -&gt; TableAggregateFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#TAFExp"><span class="hs-identifier hs-var">IR.TAFExp</span></a></span><span>
</span><span id="line-307"></span><span>            </span><span class="annot"><span class="annottext">(InsOrdHashMap
   Name
   (ParsedSelection
      (TableAggregateFieldG
         b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
 -&gt; Fields
      (TableAggregateFieldG
         b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
-&gt; Parser
     MetadataObjId
     'Output
     n
     (InsOrdHashMap
        Name
        (ParsedSelection
           (TableAggregateFieldG
              b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))))
-&gt; Parser
     MetadataObjId
     'Output
     n
     (Fields
        (TableAggregateFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; [FieldParser
      MetadataObjId
      n
      (TableAggregateFieldG
         b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))]
-&gt; Parser
     MetadataObjId
     'Output
     n
     (InsOrdHashMap
        Name
        (ParsedSelection
           (TableAggregateFieldG
              b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))))
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; [FieldParser origin m a]
-&gt; Parser origin 'Output m (InsOrdHashMap Name (ParsedSelection a))
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selectionSet"><span class="hs-identifier hs-var">P.selectionSet</span></a></span><span>
</span><span id="line-308"></span><span>              </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052497"><span class="hs-identifier hs-var">selectionName</span></a></span><span>
</span><span id="line-309"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Description -&gt; Maybe Description)
-&gt; Description -&gt; Maybe Description
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-var">G.Description</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Description) -&gt; Text -&gt; Description
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;aggregated selection of &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; TableName b -&gt; Text
forall t. ToTxt t =&gt; Text -&gt; t -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html#%3C%3E%3E"><span class="hs-operator hs-var">&lt;&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687052480"><span class="hs-identifier hs-var">tableName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span>              </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">XNodesAgg b
-&gt; AnnotatedFields b
-&gt; TableAggregateFieldG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall (b :: BackendType) r v.
XNodesAgg b -&gt; AnnFieldsG b r v -&gt; TableAggregateFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#TAFNodes"><span class="hs-identifier hs-var">IR.TAFNodes</span></a></span><span> </span><span class="annot"><span class="annottext">XNodesAgg b
</span><a href="#local-6989586621687052489"><span class="hs-identifier hs-var">xNodesAgg</span></a></span><span> </span><span class="annot"><span class="annottext">(AnnotatedFields b
 -&gt; TableAggregateFieldG
      b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; FieldParser MetadataObjId n (AnnotatedFields b)
-&gt; FieldParser
     MetadataObjId
     n
     (TableAggregateFieldG
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser 'Output n (AnnotatedFields b)
-&gt; FieldParser MetadataObjId n (AnnotatedFields b)
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin 'Output m a
-&gt; FieldParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#subselection_"><span class="hs-identifier hs-var">P.subselection_</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_nodes"><span class="hs-identifier hs-var">Name._nodes</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Parser 'Output n (AnnotatedFields b)
</span><a href="#local-6989586621687052491"><span class="hs-identifier hs-var">nodesParser</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-311"></span><span>                </span><span class="annot"><span class="annottext">AggregateFields b (UnpreparedValue b)
-&gt; TableAggregateFieldG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall (b :: BackendType) r v.
AggregateFields b v -&gt; TableAggregateFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#TAFAgg"><span class="hs-identifier hs-var">IR.TAFAgg</span></a></span><span> </span><span class="annot"><span class="annottext">(AggregateFields b (UnpreparedValue b)
 -&gt; TableAggregateFieldG
      b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; FieldParser
     MetadataObjId n (AggregateFields b (UnpreparedValue b))
-&gt; FieldParser
     MetadataObjId
     n
     (TableAggregateFieldG
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser 'Output n (AggregateFields b (UnpreparedValue b))
-&gt; FieldParser
     MetadataObjId n (AggregateFields b (UnpreparedValue b))
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin 'Output m a
-&gt; FieldParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#subselection_"><span class="hs-identifier hs-var">P.subselection_</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_aggregate"><span class="hs-identifier hs-var">Name._aggregate</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Parser 'Output n (AggregateFields b (UnpreparedValue b))
</span><a href="#local-6989586621687052496"><span class="hs-identifier hs-var">aggregateParser</span></a></span><span>
</span><span id="line-312"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-313"></span><span>    </span><span class="hs-identifier">pure</span><span>
</span><span id="line-314"></span><span>      </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">MetadataObjId
-&gt; FieldParser n (AggSelectExp b) -&gt; FieldParser n (AggSelectExp b)
forall (m :: * -&gt; *) origin a.
origin -&gt; FieldParser origin m a -&gt; FieldParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#setFieldParserOrigin"><span class="hs-identifier hs-var">P.setFieldParserOrigin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceName -&gt; AnyBackend SourceMetadataObjId -&gt; MetadataObjId
</span><a href="Hasura.RQL.Types.Metadata.Object.html#MOSourceObjId"><span class="hs-identifier hs-var">MOSourceObjId</span></a></span><span> </span><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621687052479"><span class="hs-identifier hs-var">sourceName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceMetadataObjId b -&gt; AnyBackend SourceMetadataObjId
forall (b :: BackendType) (i :: BackendType -&gt; *).
HasTag b =&gt;
i b -&gt; AnyBackend i
</span><a href="Hasura.SQL.AnyBackend.html#mkAnyBackend"><span class="hs-identifier hs-var">AB.mkAnyBackend</span></a></span><span> </span><span class="annot"><span class="annottext">(SourceMetadataObjId b -&gt; AnyBackend SourceMetadataObjId)
-&gt; SourceMetadataObjId b -&gt; AnyBackend SourceMetadataObjId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType). TableName b -&gt; SourceMetadataObjId b
</span><a href="Hasura.RQL.Types.Metadata.Object.html#SMOTable"><span class="hs-identifier hs-var">SMOTable</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687051254"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687052480"><span class="hs-identifier hs-var">tableName</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-315"></span><span>      </span><span class="annot"><span class="annottext">(FieldParser n (AggSelectExp b) -&gt; FieldParser n (AggSelectExp b))
-&gt; FieldParser n (AggSelectExp b) -&gt; FieldParser n (AggSelectExp b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; InputFieldsParser n (SelectArgsG b (UnpreparedValue b))
-&gt; Parser
     MetadataObjId
     'Output
     n
     (Fields
        (TableAggregateFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
-&gt; FieldParser
     MetadataObjId
     n
     (SelectArgsG b (UnpreparedValue b),
      Fields
        (TableAggregateFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
forall (m :: * -&gt; *) origin a b.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; InputFieldsParser origin m a
-&gt; Parser origin 'Output m b
-&gt; FieldParser origin m (a, b)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#subselection"><span class="hs-identifier hs-var">P.subselection</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052476"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687052477"><span class="hs-identifier hs-var">description</span></a></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser n (SelectArgsG b (UnpreparedValue b))
</span><a href="#local-6989586621687052495"><span class="hs-identifier hs-var">tableArgsParser</span></a></span><span> </span><span class="annot"><span class="annottext">Parser
  MetadataObjId
  'Output
  n
  (Fields
     (TableAggregateFieldG
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
</span><a href="#local-6989586621687052500"><span class="hs-identifier hs-var">aggregationParser</span></a></span><span>
</span><span id="line-316"></span><span>      </span><span class="annot"><span class="annottext">FieldParser
  MetadataObjId
  n
  (SelectArgsG b (UnpreparedValue b),
   Fields
     (TableAggregateFieldG
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
-&gt; ((SelectArgsG b (UnpreparedValue b),
     Fields
       (TableAggregateFieldG
          b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
    -&gt; AggSelectExp b)
-&gt; FieldParser n (AggSelectExp b)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621687052511"><span class="annot"><span class="annottext">SelectArgsG b (UnpreparedValue b)
</span><a href="#local-6989586621687052511"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687052512"><span class="annot"><span class="annottext">Fields
  (TableAggregateFieldG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
</span><a href="#local-6989586621687052512"><span class="hs-identifier hs-var">fields</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-317"></span><span>        </span><span class="annot"><a href="Hasura.RQL.IR.Select.AnnSelectG.html#AnnSelectG"><span class="hs-identifier hs-type">IR.AnnSelectG</span></a></span><span>
</span><span id="line-318"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:_asnFields:AnnSelectG :: Fields
  (TableAggregateFieldG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnFields%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnFields</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Fields
  (TableAggregateFieldG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
</span><a href="#local-6989586621687052512"><span class="hs-identifier hs-var">fields</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-319"></span><span>            </span><span class="annot"><span class="annottext">$sel:_asnFrom:AnnSelectG :: SelectFromG b (UnpreparedValue b)
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnFrom%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnFrom</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TableName b -&gt; SelectFromG b (UnpreparedValue b)
forall (b :: BackendType) v. TableName b -&gt; SelectFromG b v
</span><a href="Hasura.RQL.IR.Select.From.html#FromTable"><span class="hs-identifier hs-var">IR.FromTable</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687052480"><span class="hs-identifier hs-var">tableName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-320"></span><span>            </span><span class="annot"><span class="annottext">$sel:_asnPerm:AnnSelectG :: TablePermG b (UnpreparedValue b)
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnPerm%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnPerm</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SelPermInfo b -&gt; TablePermG b (UnpreparedValue b)
forall (b :: BackendType).
Backend b =&gt;
SelPermInfo b -&gt; TablePerms b
</span><a href="Hasura.GraphQL.Schema.Select.html#tablePermissionsInfo"><span class="hs-identifier hs-var">tablePermissionsInfo</span></a></span><span> </span><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687052487"><span class="hs-identifier hs-var">selectPermissions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-321"></span><span>            </span><span class="annot"><span class="annottext">$sel:_asnArgs:AnnSelectG :: SelectArgsG b (UnpreparedValue b)
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnArgs%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SelectArgsG b (UnpreparedValue b)
</span><a href="#local-6989586621687052511"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-322"></span><span>            </span><span class="annot"><span class="annottext">$sel:_asnStrfyNum:AnnSelectG :: StringifyNumbers
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnStrfyNum%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnStrfyNum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StringifyNumbers
</span><a href="#local-6989586621687052492"><span class="hs-identifier hs-var">stringifyNumbers</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-323"></span><span>            </span><span class="annot"><span class="annottext">$sel:_asnNamingConvention:AnnSelectG :: Maybe NamingCase
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnNamingConvention%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnNamingConvention</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamingCase -&gt; Maybe NamingCase
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">NamingCase
</span><a href="#local-6989586621687052482"><span class="hs-identifier hs-var">tCase</span></a></span><span>
</span><span id="line-324"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span class="hs-comment">{- Note [Selectability of tables]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The GraphQL specification requires that if the type of a selected field is an
interface, union, or object, then its subselection set must not be empty
(Section 5.3.3).  Since we model database tables by GraphQL objects, this means
that a table can be selected as a GraphQL field only if it has fields that we
can select, such as a column.  It is perfectly fine not to allow any selections
of any columns of the table in the database.  In that case, the table would not
be selectable as a field in GraphQL.

However, this is not the end of the story.  In addition to scalar fields, we
support relationships between tables, so that we may have another table B as a
selected field of this table A.  Then the selectability of A depends on the
selectability of B: if we permit selection a column of B, then, as a
consequence, we permit selection of the relationship from A to B, and hence we
permit selection of A, as there would now be valid GraphQL syntax that selects
A.  In turn, the selectability of B can depend on the selectability of a further
table C, through a relationship from B to C.

Now consider the case of a table A, whose columns themselves are not selectable,
but which has a relationship with itself.  Is A selectable?  In fact, if A has
no further relationships with other tables, or any computed fields, A is not
selectable.  But as soon as any leaf field in the transitive closure of tables
related to A becomes selectable, A itself becomes selectable.

In summary, figuring out the selectability of a table is a mess.  In order to
avoid doing graph theory, for now, we simply pretend that GraphQL did not have
the restriction of only allowing selections of fields of type objects when its
subselection is non-empty.  In practice, this white lie is somewhat unlikely to
cause errors on the client side, for the following reasons:

- Introspection of the GraphQL schema is normally provided to aid development of
  valid GraphQL schemas, and so any errors in the exposed schema can be caught
  at development time: when a developer is building a GraphQL query using schema
  introspection, they will eventually find out that the selection they aim to do
  is not valid GraphQL.  Put differently: exposing a given field through
  introspection is not the same as claiming that there is a valid GraphQL query
  that selects that field.

- We only support tables that have at least one column (since we require primary
  keys), so that the admin role can select every table anyway.
-}</span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span class="hs-comment">-- | Fields of a table</span><span>
</span><span id="line-371"></span><span class="hs-comment">--</span><span>
</span><span id="line-372"></span><span class="hs-comment">-- &gt; type table{</span><span>
</span><span id="line-373"></span><span class="hs-comment">-- &gt;   # table columns</span><span>
</span><span id="line-374"></span><span class="hs-comment">-- &gt;   column_1: column1_type</span><span>
</span><span id="line-375"></span><span class="hs-comment">-- &gt;   .</span><span>
</span><span id="line-376"></span><span class="hs-comment">-- &gt;   column_n: columnn_type</span><span>
</span><span id="line-377"></span><span class="hs-comment">-- &gt;</span><span>
</span><span id="line-378"></span><span class="hs-comment">-- &gt;   # table relationships</span><span>
</span><span id="line-379"></span><span class="hs-comment">-- &gt;   object_relationship: remote_table</span><span>
</span><span id="line-380"></span><span class="hs-comment">-- &gt;   array_relationship: [remote_table!]!</span><span>
</span><span id="line-381"></span><span class="hs-comment">-- &gt;</span><span>
</span><span id="line-382"></span><span class="hs-comment">-- &gt;   # computed fields</span><span>
</span><span id="line-383"></span><span class="hs-comment">-- &gt;   computed_field: field_type</span><span>
</span><span id="line-384"></span><span class="hs-comment">-- &gt;</span><span>
</span><span id="line-385"></span><span class="hs-comment">-- &gt;   # remote relationships</span><span>
</span><span id="line-386"></span><span class="hs-comment">-- &gt;   remote_field: field_type</span><span>
</span><span id="line-387"></span><span class="hs-comment">-- &gt; }</span><span>
</span><span id="line-388"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#defaultTableSelectionSet"><span class="hs-identifier hs-type">defaultTableSelectionSet</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-389"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687051298"><span class="annot"><a href="#local-6989586621687051298"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621687051300"><span class="annot"><a href="#local-6989586621687051300"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621687051301"><span class="annot"><a href="#local-6989586621687051301"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687051302"><span class="annot"><a href="#local-6989586621687051302"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-390"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.BoolExp.html#AggregationPredicatesSchema"><span class="hs-identifier hs-type">AggregationPredicatesSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051298"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-391"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#BackendTableSelectSchema"><span class="hs-identifier hs-type">BackendTableSelectSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051298"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-392"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#AnnBoolExp"><span class="hs-identifier hs-type">AnnBoolExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051298"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051298"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-393"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#MonadBuildSchema"><span class="hs-identifier hs-type">MonadBuildSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051298"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051300"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051301"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051302"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-394"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-395"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#TableInfo"><span class="hs-identifier hs-type">TableInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051298"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-396"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051300"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051301"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Schema.Definition.html#Output"><span class="hs-identifier hs-type">Output</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051302"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#AnnotatedFields"><span class="hs-identifier hs-type">AnnotatedFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051298"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-397"></span><span id="defaultTableSelectionSet"><span class="annot"><span class="annottext">defaultTableSelectionSet :: forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(AggregationPredicatesSchema b, BackendTableSelectSchema b,
 Eq (AnnBoolExp b (UnpreparedValue b)), MonadBuildSchema b r m n) =&gt;
TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
</span><a href="Hasura.GraphQL.Schema.Select.html#defaultTableSelectionSet"><span class="hs-identifier hs-var hs-var">defaultTableSelectionSet</span></a></span></span><span> </span><span id="local-6989586621687052640"><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052640"><span class="hs-identifier hs-var">tableInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MaybeT (SchemaT r m) (Parser 'Output n (AnnotatedFields b))
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
forall (m :: * -&gt; *) a. MaybeT m a -&gt; m (Maybe a)
</span><span class="hs-identifier hs-var">runMaybeT</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-398"></span><span>  </span><span id="local-6989586621687052641"><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052641"><span class="hs-identifier hs-var">sourceInfo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Source.html#SourceInfo"><span class="hs-identifier hs-type">SourceInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051298"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(r -&gt; SourceInfo b) -&gt; MaybeT (SchemaT r m) (SourceInfo b)
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; SourceInfo b
forall a t. Has a t =&gt; t -&gt; a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/data-has-0.4.0.0-046b1b301c44f043005ecffcde95c748cd1a5249e8b9e9ea3eaa14bac0030231/share/doc/html/src/Data.Has.html#getter"><span class="hs-identifier hs-var">getter</span></a></span><span>
</span><span id="line-399"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687052642"><span class="annot"><span class="annottext">sourceName :: SourceName
</span><a href="#local-6989586621687052642"><span class="hs-identifier hs-var hs-var">sourceName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceInfo b -&gt; SourceName
forall (b :: BackendType). SourceInfo b -&gt; SourceName
</span><a href="Hasura.RQL.Types.Source.html#_siName"><span class="hs-identifier hs-var">_siName</span></a></span><span> </span><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052641"><span class="hs-identifier hs-var">sourceInfo</span></a></span><span>
</span><span id="line-400"></span><span>      </span><span id="local-6989586621687052643"><span class="annot"><span class="annottext">tableName :: TableName b
</span><a href="#local-6989586621687052643"><span class="hs-identifier hs-var hs-var">tableName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; TableName b
forall (b :: BackendType). TableInfo b -&gt; TableName b
</span><a href="Hasura.Table.Cache.html#tableInfoName"><span class="hs-identifier hs-var">tableInfoName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052640"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-401"></span><span>      </span><span id="local-6989586621687052644"><span class="annot"><span class="annottext">tableCoreInfo :: TableCoreInfo b
</span><a href="#local-6989586621687052644"><span class="hs-identifier hs-var hs-var">tableCoreInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; TableCoreInfo b
forall (b :: BackendType). TableInfo b -&gt; TableCoreInfo b
</span><a href="Hasura.Table.Cache.html#_tiCoreInfo"><span class="hs-identifier hs-var">_tiCoreInfo</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052640"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-402"></span><span>      </span><span id="local-6989586621687052645"><span class="annot"><span class="annottext">customization :: ResolvedSourceCustomization
</span><a href="#local-6989586621687052645"><span class="hs-identifier hs-var hs-var">customization</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceInfo b -&gt; ResolvedSourceCustomization
forall (b :: BackendType).
SourceInfo b -&gt; ResolvedSourceCustomization
</span><a href="Hasura.RQL.Types.Source.html#_siCustomization"><span class="hs-identifier hs-var">_siCustomization</span></a></span><span> </span><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052641"><span class="hs-identifier hs-var">sourceInfo</span></a></span><span>
</span><span id="line-403"></span><span>      </span><span id="local-6989586621687052646"><span class="annot"><span class="annottext">tCase :: NamingCase
</span><a href="#local-6989586621687052646"><span class="hs-identifier hs-var hs-var">tCase</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization -&gt; NamingCase
</span><a href="Hasura.RQL.Types.SourceCustomization.html#_rscNamingConvention"><span class="hs-identifier hs-var">_rscNamingConvention</span></a></span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization
</span><a href="#local-6989586621687052645"><span class="hs-identifier hs-var">customization</span></a></span><span>
</span><span id="line-404"></span><span>      </span><span id="local-6989586621687052647"><span class="annot"><span class="annottext">mkTypename :: Name -&gt; Name
</span><a href="#local-6989586621687052647"><span class="hs-identifier hs-var hs-var">mkTypename</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MkTypename -&gt; Name -&gt; Name
</span><a href="Hasura.GraphQL.Schema.Typename.html#runMkTypename"><span class="hs-identifier hs-var">runMkTypename</span></a></span><span> </span><span class="annot"><span class="annottext">(MkTypename -&gt; Name -&gt; Name) -&gt; MkTypename -&gt; Name -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization -&gt; MkTypename
</span><a href="Hasura.RQL.Types.SourceCustomization.html#_rscTypeNames"><span class="hs-identifier hs-var">_rscTypeNames</span></a></span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization
</span><a href="#local-6989586621687052645"><span class="hs-identifier hs-var">customization</span></a></span><span>
</span><span id="line-405"></span><span>      </span><span id="local-6989586621687052648"><span class="annot"><span class="annottext">logicalModelCache :: LogicalModelCache b
</span><a href="#local-6989586621687052648"><span class="hs-identifier hs-var hs-var">logicalModelCache</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceInfo b -&gt; LogicalModelCache b
forall (b :: BackendType). SourceInfo b -&gt; LogicalModelCache b
</span><a href="Hasura.RQL.Types.Source.html#_siLogicalModels"><span class="hs-identifier hs-var">_siLogicalModels</span></a></span><span> </span><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052641"><span class="hs-identifier hs-var">sourceInfo</span></a></span><span>
</span><span id="line-406"></span><span>  </span><span id="local-6989586621687052650"><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687052650"><span class="hs-identifier hs-var">roleName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SchemaContext -&gt; RoleName) -&gt; MaybeT (SchemaT r m) RoleName
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaContext -&gt; RoleName
</span><a href="Hasura.GraphQL.Schema.Common.html#scRole"><span class="hs-identifier hs-var">scRole</span></a></span><span>
</span><span id="line-407"></span><span>  </span><span id="local-6989586621687052651"><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687052651"><span class="hs-identifier hs-var">_selectPermissions</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b)
forall (m :: * -&gt; *) b. Applicative m =&gt; Maybe b -&gt; MaybeT m b
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#hoistMaybe"><span class="hs-identifier hs-var">hoistMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b))
-&gt; Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleName -&gt; TableInfo b -&gt; Maybe (SelPermInfo b)
forall (b :: BackendType).
RoleName -&gt; TableInfo b -&gt; Maybe (SelPermInfo b)
</span><a href="Hasura.GraphQL.Schema.Table.html#tableSelectPermissions"><span class="hs-identifier hs-var">tableSelectPermissions</span></a></span><span> </span><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687052650"><span class="hs-identifier hs-var">roleName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052640"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-408"></span><span>  </span><span id="local-6989586621687052652"><span class="annot"><span class="annottext">SchemaKind
</span><a href="#local-6989586621687052652"><span class="hs-identifier hs-var">schemaKind</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SchemaT r m SchemaKind -&gt; MaybeT (SchemaT r m) SchemaKind
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; MaybeT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m SchemaKind -&gt; MaybeT (SchemaT r m) SchemaKind)
-&gt; SchemaT r m SchemaKind -&gt; MaybeT (SchemaT r m) SchemaKind
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(SchemaContext -&gt; SchemaKind) -&gt; SchemaT r m SchemaKind
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaContext -&gt; SchemaKind
</span><a href="Hasura.GraphQL.Schema.Common.html#scSchemaKind"><span class="hs-identifier hs-var">scSchemaKind</span></a></span><span>
</span><span id="line-409"></span><span>  </span><span class="hs-comment">-- If this check fails, it means we're attempting to build a Relay schema, but</span><span>
</span><span id="line-410"></span><span>  </span><span class="hs-comment">-- the current backend b does't support Relay; rather than returning an</span><span>
</span><span id="line-411"></span><span>  </span><span class="hs-comment">-- incomplete selection set, we fail early and return 'Nothing'. This check</span><span>
</span><span id="line-412"></span><span>  </span><span class="hs-comment">-- must happen first, since we can't memoize a @Maybe Parser@.</span><span>
</span><span id="line-413"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; MaybeT (SchemaT r m) ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; MaybeT (SchemaT r m) ())
-&gt; Bool -&gt; MaybeT (SchemaT r m) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SchemaKind -&gt; Bool
</span><a href="Hasura.GraphQL.Schema.Common.html#isHasuraSchema"><span class="hs-identifier hs-var">isHasuraSchema</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaKind
</span><a href="#local-6989586621687052652"><span class="hs-identifier hs-var">schemaKind</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Maybe (XRelay b) -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isJust</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (b :: BackendType). BackendSchema b =&gt; Maybe (XRelay b)
</span><a href="Hasura.GraphQL.Schema.Backend.html#relayExtension"><span class="hs-identifier hs-var">relayExtension</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687051298"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-414"></span><span>  </span><span class="annot"><span class="annottext">SchemaT r m (Parser 'Output n (AnnotatedFields b))
-&gt; MaybeT (SchemaT r m) (Parser 'Output n (AnnotatedFields b))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; MaybeT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m (Parser 'Output n (AnnotatedFields b))
 -&gt; MaybeT (SchemaT r m) (Parser 'Output n (AnnotatedFields b)))
-&gt; SchemaT r m (Parser 'Output n (AnnotatedFields b))
-&gt; MaybeT (SchemaT r m) (Parser 'Output n (AnnotatedFields b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (SourceName, TableName b)
-&gt; SchemaT r m (Parser 'Output n (AnnotatedFields b))
-&gt; SchemaT r m (Parser 'Output n (AnnotatedFields b))
forall (m :: * -&gt; *) a (p :: (* -&gt; *) -&gt; * -&gt; *) (n :: * -&gt; *) b.
(MonadMemoize m, Ord a, Typeable a, Typeable p, MonadParse n,
 Typeable b) =&gt;
Name -&gt; a -&gt; m (p n b) -&gt; m (p n b)
</span><a href="Hasura.GraphQL.Schema.Parser.html#memoizeOn"><span class="hs-identifier hs-var">P.memoizeOn</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-identifier">defaultTableSelectionSet</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621687052642"><span class="hs-identifier hs-var">sourceName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687052643"><span class="hs-identifier hs-var">tableName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-415"></span><span>    </span><span id="local-6989586621687052657"><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687052657"><span class="hs-identifier hs-var">tableGQLName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; SchemaT r m GQLNameIdentifier
forall (b :: BackendType) (m :: * -&gt; *).
(Backend b, MonadError QErr m) =&gt;
TableInfo b -&gt; m GQLNameIdentifier
</span><a href="Hasura.GraphQL.Schema.Table.html#getTableIdentifierName"><span class="hs-identifier hs-var">getTableIdentifierName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052640"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-416"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687052658"><span class="annot"><span class="annottext">objectTypename :: Name
</span><a href="#local-6989586621687052658"><span class="hs-identifier hs-var hs-var">objectTypename</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="#local-6989586621687052647"><span class="hs-identifier hs-var">mkTypename</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; Name -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NamingCase -&gt; GQLNameIdentifier -&gt; Name
</span><a href="Hasura.RQL.Types.SourceCustomization.html#applyTypeNameCaseIdentifier"><span class="hs-identifier hs-var">applyTypeNameCaseIdentifier</span></a></span><span> </span><span class="annot"><span class="annottext">NamingCase
</span><a href="#local-6989586621687052646"><span class="hs-identifier hs-var">tCase</span></a></span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687052657"><span class="hs-identifier hs-var">tableGQLName</span></a></span><span>
</span><span id="line-417"></span><span>        </span><span id="local-6989586621687052659"><span class="annot"><span class="annottext">xRelay :: Maybe (XRelay b)
</span><a href="#local-6989586621687052659"><span class="hs-identifier hs-var hs-var">xRelay</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType). BackendSchema b =&gt; Maybe (XRelay b)
</span><a href="Hasura.GraphQL.Schema.Backend.html#relayExtension"><span class="hs-identifier hs-var">relayExtension</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687051298"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-418"></span><span>        </span><span id="local-6989586621687052660"><span class="annot"><span class="annottext">tableFields :: [FieldInfo b]
</span><a href="#local-6989586621687052660"><span class="hs-identifier hs-var hs-var">tableFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap FieldName (FieldInfo b) -&gt; [FieldInfo b]
forall k v. HashMap k v -&gt; [v]
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.html#elems"><span class="hs-identifier hs-var">HashMap.elems</span></a></span><span> </span><span class="annot"><span class="annottext">(HashMap FieldName (FieldInfo b) -&gt; [FieldInfo b])
-&gt; HashMap FieldName (FieldInfo b) -&gt; [FieldInfo b]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TableCoreInfo b -&gt; HashMap FieldName (FieldInfo b)
forall (b :: BackendType) field primaryKeyColumn.
TableCoreInfoG b field primaryKeyColumn -&gt; FieldInfoMap field
</span><a href="Hasura.Table.Cache.html#_tciFieldInfoMap"><span class="hs-identifier hs-var">_tciFieldInfoMap</span></a></span><span> </span><span class="annot"><span class="annottext">TableCoreInfo b
</span><a href="#local-6989586621687052644"><span class="hs-identifier hs-var">tableCoreInfo</span></a></span><span>
</span><span id="line-419"></span><span>        </span><span id="local-6989586621687052663"><span class="annot"><span class="annottext">tablePkeyColumns :: Maybe (NESeq (ColumnInfo b))
</span><a href="#local-6989586621687052663"><span class="hs-identifier hs-var hs-var">tablePkeyColumns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimaryKey b (ColumnInfo b) -&gt; NESeq (ColumnInfo b)
forall (b :: BackendType) a. PrimaryKey b a -&gt; NESeq a
</span><a href="Hasura.Table.Cache.html#_pkColumns"><span class="hs-identifier hs-var">_pkColumns</span></a></span><span> </span><span class="annot"><span class="annottext">(PrimaryKey b (ColumnInfo b) -&gt; NESeq (ColumnInfo b))
-&gt; Maybe (PrimaryKey b (ColumnInfo b))
-&gt; Maybe (NESeq (ColumnInfo b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">TableCoreInfo b -&gt; Maybe (PrimaryKey b (ColumnInfo b))
forall (b :: BackendType) field primaryKeyColumn.
TableCoreInfoG b field primaryKeyColumn
-&gt; Maybe (PrimaryKey b primaryKeyColumn)
</span><a href="Hasura.Table.Cache.html#_tciPrimaryKey"><span class="hs-identifier hs-var">_tciPrimaryKey</span></a></span><span> </span><span class="annot"><span class="annottext">TableCoreInfo b
</span><a href="#local-6989586621687052644"><span class="hs-identifier hs-var">tableCoreInfo</span></a></span><span>
</span><span id="line-420"></span><span>        </span><span id="local-6989586621687052664"><span class="annot"><span class="annottext">pkFields :: [ColumnInfo b]
</span><a href="#local-6989586621687052664"><span class="hs-identifier hs-var hs-var">pkFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NESeq (ColumnInfo b) -&gt; [ColumnInfo b])
-&gt; Maybe (NESeq (ColumnInfo b)) -&gt; [ColumnInfo b]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="annot"><span class="annottext">NESeq (ColumnInfo b) -&gt; [ColumnInfo b]
forall a. NESeq a -&gt; [a]
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><span class="hs-identifier hs-var">toList</span></span><span> </span><span class="annot"><span class="annottext">Maybe (NESeq (ColumnInfo b))
</span><a href="#local-6989586621687052663"><span class="hs-identifier hs-var">tablePkeyColumns</span></a></span><span>
</span><span id="line-421"></span><span>        </span><span id="local-6989586621687052666"><span class="annot"><span class="annottext">pkFieldDirective :: Text
</span><a href="#local-6989586621687052666"><span class="hs-identifier hs-var hs-var">pkFieldDirective</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Text] -&gt; Text
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/text-2.0.1-27d8e86ddce8dd754c06549efa10988301d41e208fc11cac9fe9ed6d99d6eb35/share/doc/html/src/Data.Text.html#intercalate"><span class="hs-identifier hs-var">T.intercalate</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">([Text] -&gt; Text) -&gt; [Text] -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(ColumnInfo b -&gt; Text) -&gt; [ColumnInfo b] -&gt; [Text]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html#unName"><span class="hs-identifier hs-var">G.unName</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Text) -&gt; (ColumnInfo b -&gt; Name) -&gt; ColumnInfo b -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Name
forall (b :: BackendType). ColumnInfo b -&gt; Name
</span><a href="Hasura.RQL.Types.Column.html#ciName"><span class="hs-identifier hs-var">ciName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ColumnInfo b]
</span><a href="#local-6989586621687052664"><span class="hs-identifier hs-var">pkFields</span></a></span><span>
</span><span id="line-422"></span><span>        </span><span class="hs-comment">-- Adding `@key` directives to type for apollo federation. An example</span><span>
</span><span id="line-423"></span><span>        </span><span class="hs-comment">-- of type with key directive:</span><span>
</span><span id="line-424"></span><span>        </span><span class="hs-comment">--  type Product @key(fields: &quot;upc sku&quot;){</span><span>
</span><span id="line-425"></span><span>        </span><span class="hs-comment">--    upc: UPC!</span><span>
</span><span id="line-426"></span><span>        </span><span class="hs-comment">--    sku: SKU!</span><span>
</span><span id="line-427"></span><span>        </span><span class="hs-comment">--    name: String</span><span>
</span><span id="line-428"></span><span>        </span><span class="hs-comment">--  }</span><span>
</span><span id="line-429"></span><span>        </span><span id="local-6989586621687052669"><span class="annot"><span class="annottext">pkDirectives :: [Directive Void]
</span><a href="#local-6989586621687052669"><span class="hs-identifier hs-var hs-var">pkDirectives</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-430"></span><span>          </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Maybe ApolloFederationConfig -&gt; Bool
</span><a href="Hasura.RQL.Types.Common.html#isApolloFedV1enabled"><span class="hs-identifier hs-var">isApolloFedV1enabled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TableCoreInfo b -&gt; Maybe ApolloFederationConfig
forall (b :: BackendType) field primaryKeyColumn.
TableCoreInfoG b field primaryKeyColumn
-&gt; Maybe ApolloFederationConfig
</span><a href="Hasura.Table.Cache.html#_tciApolloFederationConfig"><span class="hs-identifier hs-var">_tciApolloFederationConfig</span></a></span><span> </span><span class="annot"><span class="annottext">TableCoreInfo b
</span><a href="#local-6989586621687052644"><span class="hs-identifier hs-var">tableCoreInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool)
-&gt; ([ColumnInfo b] -&gt; Bool) -&gt; [ColumnInfo b] -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[ColumnInfo b] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ColumnInfo b]
</span><a href="#local-6989586621687052664"><span class="hs-identifier hs-var">pkFields</span></a></span><span>
</span><span id="line-431"></span><span>            </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; HashMap Name (Value Void) -&gt; Directive Void
forall var. Name -&gt; HashMap Name (Value var) -&gt; Directive var
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Directive"><span class="hs-identifier hs-var">G.Directive</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_key"><span class="hs-identifier hs-var">Name._key</span></a></span><span> </span><span class="annot"><span class="annottext">(HashMap Name (Value Void) -&gt; Directive Void)
-&gt; (Text -&gt; HashMap Name (Value Void)) -&gt; Text -&gt; Directive Void
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Value Void -&gt; HashMap Name (Value Void)
forall k v. Hashable k =&gt; k -&gt; v -&gt; HashMap k v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.Strict.html#singleton"><span class="hs-identifier hs-var">HashMap.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_fields"><span class="hs-identifier hs-var">Name._fields</span></a></span><span> </span><span class="annot"><span class="annottext">(Value Void -&gt; HashMap Name (Value Void))
-&gt; (Text -&gt; Value Void) -&gt; Text -&gt; HashMap Name (Value Void)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value Void
forall var. Text -&gt; Value var
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#VString"><span class="hs-identifier hs-var">G.VString</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621687052666"><span class="hs-identifier hs-var">pkFieldDirective</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-432"></span><span>            </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">[Directive Void]
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-433"></span><span>        </span><span id="local-6989586621687052680"><span class="annot"><span class="annottext">description :: Maybe Description
</span><a href="#local-6989586621687052680"><span class="hs-identifier hs-var hs-var">description</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-var">G.Description</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Description)
-&gt; (PGDescription -&gt; Text) -&gt; PGDescription -&gt; Description
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PGDescription -&gt; Text
</span><a href="Hasura.Backends.Postgres.SQL.Types.html#getPGDescription"><span class="hs-identifier hs-var">Postgres.getPGDescription</span></a></span><span> </span><span class="annot"><span class="annottext">(PGDescription -&gt; Description)
-&gt; Maybe PGDescription -&gt; Maybe Description
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">TableCoreInfo b -&gt; Maybe PGDescription
forall (b :: BackendType) field primaryKeyColumn.
TableCoreInfoG b field primaryKeyColumn -&gt; Maybe PGDescription
</span><a href="Hasura.Table.Cache.html#_tciDescription"><span class="hs-identifier hs-var">_tciDescription</span></a></span><span> </span><span class="annot"><span class="annottext">TableCoreInfo b
</span><a href="#local-6989586621687052644"><span class="hs-identifier hs-var">tableCoreInfo</span></a></span><span>
</span><span id="line-434"></span><span>    </span><span id="local-6989586621687052683"><span class="annot"><span class="annottext">[FieldParser n (AnnotatedField b)]
</span><a href="#local-6989586621687052683"><span class="hs-identifier hs-var">fieldParsers</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-435"></span><span>      </span><span class="annot"><span class="annottext">[[FieldParser n (AnnotatedField b)]]
-&gt; [FieldParser n (AnnotatedField b)]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span>
</span><span id="line-436"></span><span>        </span><span class="annot"><span class="annottext">([[FieldParser n (AnnotatedField b)]]
 -&gt; [FieldParser n (AnnotatedField b)])
-&gt; SchemaT r m [[FieldParser n (AnnotatedField b)]]
-&gt; SchemaT r m [FieldParser n (AnnotatedField b)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[FieldInfo b]
-&gt; (FieldInfo b -&gt; SchemaT r m [FieldParser n (AnnotatedField b)])
-&gt; SchemaT r m [[FieldParser n (AnnotatedField b)]]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><span class="hs-identifier hs-var">for</span></span><span>
</span><span id="line-437"></span><span>          </span><span class="annot"><span class="annottext">[FieldInfo b]
</span><a href="#local-6989586621687052660"><span class="hs-identifier hs-var">tableFields</span></a></span><span>
</span><span id="line-438"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogicalModelCache b
-&gt; TableName b
-&gt; TableInfo b
-&gt; FieldInfo b
-&gt; SchemaT r m [FieldParser n (AnnotatedField b)]
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(AggregationPredicatesSchema b, BackendTableSelectSchema b,
 Eq (AnnBoolExp b (UnpreparedValue b)), MonadBuildSchema b r m n) =&gt;
LogicalModelCache b
-&gt; TableName b
-&gt; TableInfo b
-&gt; FieldInfo b
-&gt; SchemaT r m [FieldParser n (AnnotatedField b)]
</span><a href="Hasura.GraphQL.Schema.Select.html#fieldSelection"><span class="hs-identifier hs-var">fieldSelection</span></a></span><span> </span><span class="annot"><span class="annottext">LogicalModelCache b
</span><a href="#local-6989586621687052648"><span class="hs-identifier hs-var">logicalModelCache</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687052643"><span class="hs-identifier hs-var">tableName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052640"><span class="hs-identifier hs-var">tableInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-439"></span><span>
</span><span id="line-440"></span><span>    </span><span class="hs-comment">-- We don't check *here* that the subselection set is non-empty,</span><span>
</span><span id="line-441"></span><span>    </span><span class="hs-comment">-- even though the GraphQL specification requires that it is (see</span><span>
</span><span id="line-442"></span><span>    </span><span class="hs-comment">-- Note [Selectability of tables]). However, the GraphQL parser</span><span>
</span><span id="line-443"></span><span>    </span><span class="hs-comment">-- enforces that a selection set, if present, is non-empty; and our</span><span>
</span><span id="line-444"></span><span>    </span><span class="hs-comment">-- parser later verifies that a selection set is present if</span><span>
</span><span id="line-445"></span><span>    </span><span class="hs-comment">-- required, meaning that not having this check here does not allow</span><span>
</span><span id="line-446"></span><span>    </span><span class="hs-comment">-- for the construction of invalid queries.</span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SchemaKind
</span><a href="#local-6989586621687052652"><span class="hs-identifier hs-var">schemaKind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (NESeq (ColumnInfo b))
</span><a href="#local-6989586621687052663"><span class="hs-identifier hs-var">tablePkeyColumns</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (XRelay b)
</span><a href="#local-6989586621687052659"><span class="hs-identifier hs-var">xRelay</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-449"></span><span>      </span><span class="hs-comment">-- A relay table</span><span>
</span><span id="line-450"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#RelaySchema"><span class="hs-identifier hs-type">RelaySchema</span></a></span><span> </span><span id="local-6989586621687052687"><span class="annot"><span class="annottext">NodeInterfaceParserBuilder
</span><a href="#local-6989586621687052687"><span class="hs-identifier hs-var">nodeBuilder</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687052688"><span class="annot"><span class="annottext">NESeq (ColumnInfo b)
</span><a href="#local-6989586621687052688"><span class="hs-identifier hs-var">pkeyColumns</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687052689"><span class="annot"><span class="annottext">XRelay b
</span><a href="#local-6989586621687052689"><span class="hs-identifier hs-var">xRelayInfo</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-451"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687052690"><span class="annot"><span class="annottext">nodeIdFieldParser :: FieldParser n (AnnotatedField b)
</span><a href="#local-6989586621687052690"><span class="hs-identifier hs-var hs-var">nodeIdFieldParser</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-452"></span><span>              </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser MetadataObjId 'Both n Text
-&gt; FieldParser MetadataObjId n ()
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin 'Both m a
-&gt; FieldParser origin m ()
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selection_"><span class="hs-identifier hs-var">P.selection_</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_id"><span class="hs-identifier hs-var">Name._id</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Both n Text
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
Parser origin 'Both m Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Scalars.html#identifier"><span class="hs-identifier hs-var">P.identifier</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser MetadataObjId n ()
-&gt; AnnotatedField b -&gt; FieldParser n (AnnotatedField b)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">XRelay b
-&gt; SourceName
-&gt; TableName b
-&gt; NESeq (ColumnInfo b)
-&gt; AnnotatedField b
forall (b :: BackendType) r v.
XRelay b
-&gt; SourceName
-&gt; TableName b
-&gt; PrimaryKeyColumns b
-&gt; AnnFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#AFNodeId"><span class="hs-identifier hs-var">IR.AFNodeId</span></a></span><span> </span><span class="annot"><span class="annottext">XRelay b
</span><a href="#local-6989586621687052689"><span class="hs-identifier hs-var">xRelayInfo</span></a></span><span> </span><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621687052642"><span class="hs-identifier hs-var">sourceName</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687052643"><span class="hs-identifier hs-var">tableName</span></a></span><span> </span><span class="annot"><span class="annottext">NESeq (ColumnInfo b)
</span><a href="#local-6989586621687052688"><span class="hs-identifier hs-var">pkeyColumns</span></a></span><span>
</span><span id="line-453"></span><span>            </span><span id="local-6989586621687052696"><span class="annot"><span class="annottext">allFieldParsers :: [FieldParser n (AnnotatedField b)]
</span><a href="#local-6989586621687052696"><span class="hs-identifier hs-var hs-var">allFieldParsers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FieldParser n (AnnotatedField b)]
</span><a href="#local-6989586621687052683"><span class="hs-identifier hs-var">fieldParsers</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldParser n (AnnotatedField b)]
-&gt; [FieldParser n (AnnotatedField b)]
-&gt; [FieldParser n (AnnotatedField b)]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">FieldParser n (AnnotatedField b)
</span><a href="#local-6989586621687052690"><span class="hs-identifier hs-var">nodeIdFieldParser</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-454"></span><span>        </span><span id="local-6989586621687052697"><span class="annot"><span class="annottext">SchemaContext
</span><a href="#local-6989586621687052697"><span class="hs-identifier hs-var">context</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(r -&gt; SchemaContext) -&gt; SchemaT r m SchemaContext
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; SchemaContext
forall a t. Has a t =&gt; t -&gt; a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/data-has-0.4.0.0-046b1b301c44f043005ecffcde95c748cd1a5249e8b9e9ea3eaa14bac0030231/share/doc/html/src/Data.Has.html#getter"><span class="hs-identifier hs-var">getter</span></a></span><span>
</span><span id="line-455"></span><span>        </span><span id="local-6989586621687052698"><span class="annot"><span class="annottext">SchemaOptions
</span><a href="#local-6989586621687052698"><span class="hs-identifier hs-var">options</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(r -&gt; SchemaOptions) -&gt; SchemaT r m SchemaOptions
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; SchemaOptions
forall a t. Has a t =&gt; t -&gt; a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/data-has-0.4.0.0-046b1b301c44f043005ecffcde95c748cd1a5249e8b9e9ea3eaa14bac0030231/share/doc/html/src/Data.Has.html#getter"><span class="hs-identifier hs-var">getter</span></a></span><span>
</span><span id="line-456"></span><span>        </span><span class="hs-comment">-- This `lift` is important! If we don't use it, the underlying node</span><span>
</span><span id="line-457"></span><span>        </span><span class="hs-comment">-- builder will assume that the current `SchemaT r m` is the monad in</span><span>
</span><span id="line-458"></span><span>        </span><span class="hs-comment">-- which to run, and will stack another `SchemaT` on top of it when</span><span>
</span><span id="line-459"></span><span>        </span><span class="hs-comment">-- recursively processing tables.</span><span>
</span><span id="line-460"></span><span>        </span><span id="local-6989586621687052699"><span class="annot"><span class="annottext">Parser 'Output n NodeMap
</span><a href="#local-6989586621687052699"><span class="hs-identifier hs-var">nodeInterface</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m (Parser 'Output n NodeMap)
-&gt; SchemaT r m (Parser 'Output n NodeMap)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; SchemaT r m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(m (Parser 'Output n NodeMap)
 -&gt; SchemaT r m (Parser 'Output n NodeMap))
-&gt; m (Parser 'Output n NodeMap)
-&gt; SchemaT r m (Parser 'Output n NodeMap)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NodeInterfaceParserBuilder
-&gt; forall (m :: * -&gt; *) (n :: * -&gt; *).
   MonadBuildSchemaBase m n =&gt;
   SchemaContext -&gt; SchemaOptions -&gt; m (Parser 'Output n NodeMap)
</span><a href="Hasura.GraphQL.Schema.Common.html#runNodeBuilder"><span class="hs-identifier hs-var">runNodeBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">NodeInterfaceParserBuilder
</span><a href="#local-6989586621687052687"><span class="hs-identifier hs-var">nodeBuilder</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaContext
</span><a href="#local-6989586621687052697"><span class="hs-identifier hs-var">context</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaOptions
</span><a href="#local-6989586621687052698"><span class="hs-identifier hs-var">options</span></a></span><span>
</span><span id="line-461"></span><span>        </span><span class="hs-identifier">pure</span><span>
</span><span id="line-462"></span><span>          </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; [FieldParser n (AnnotatedField b)]
-&gt; [Parser 'Output n NodeMap]
-&gt; [Directive Void]
-&gt; Parser
     MetadataObjId
     'Output
     n
     (InsOrdHashMap Name (ParsedSelection (AnnotatedField b)))
forall {m :: * -&gt; *} {origin} {a} {b}.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; [FieldParser origin m a]
-&gt; [Parser origin 'Output m b]
-&gt; [Directive Void]
-&gt; Parser origin 'Output m (InsOrdHashMap Name (ParsedSelection a))
</span><a href="#local-6989586621687052701"><span class="hs-identifier hs-var">selectionSetObjectWithDirective</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052658"><span class="hs-identifier hs-var">objectTypename</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687052680"><span class="hs-identifier hs-var">description</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldParser n (AnnotatedField b)]
</span><a href="#local-6989586621687052696"><span class="hs-identifier hs-var">allFieldParsers</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Parser 'Output n NodeMap
</span><a href="#local-6989586621687052699"><span class="hs-identifier hs-var">nodeInterface</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621687052669"><span class="hs-identifier hs-var">pkDirectives</span></a></span><span>
</span><span id="line-463"></span><span>          </span><span class="annot"><span class="annottext">Parser
  MetadataObjId
  'Output
  n
  (InsOrdHashMap Name (ParsedSelection (AnnotatedField b)))
-&gt; (InsOrdHashMap Name (ParsedSelection (AnnotatedField b))
    -&gt; AnnotatedFields b)
-&gt; Parser 'Output n (AnnotatedFields b)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; AnnotatedField b)
-&gt; InsOrdHashMap Name (ParsedSelection (AnnotatedField b))
-&gt; AnnotatedFields b
forall a.
(Text -&gt; a) -&gt; InsOrdHashMap Name (ParsedSelection a) -&gt; Fields a
</span><a href="Hasura.GraphQL.Schema.Common.html#parsedSelectionsToFields"><span class="hs-identifier hs-var">parsedSelectionsToFields</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; AnnotatedField b
forall (b :: BackendType) r v. Text -&gt; AnnFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#AFExpression"><span class="hs-identifier hs-var">IR.AFExpression</span></a></span><span>
</span><span id="line-464"></span><span>      </span><span class="annot"><span class="annottext">(SchemaKind, Maybe (NESeq (ColumnInfo b)), Maybe (XRelay b))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-465"></span><span>        </span><span class="annot"><span class="annottext">Parser 'Output n (AnnotatedFields b)
-&gt; SchemaT r m (Parser 'Output n (AnnotatedFields b))
forall a. a -&gt; SchemaT r m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-466"></span><span>          </span><span class="annot"><span class="annottext">(Parser 'Output n (AnnotatedFields b)
 -&gt; SchemaT r m (Parser 'Output n (AnnotatedFields b)))
-&gt; Parser 'Output n (AnnotatedFields b)
-&gt; SchemaT r m (Parser 'Output n (AnnotatedFields b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; [FieldParser n (AnnotatedField b)]
-&gt; [Parser MetadataObjId 'Output n Any]
-&gt; [Directive Void]
-&gt; Parser
     MetadataObjId
     'Output
     n
     (InsOrdHashMap Name (ParsedSelection (AnnotatedField b)))
forall {m :: * -&gt; *} {origin} {a} {b}.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; [FieldParser origin m a]
-&gt; [Parser origin 'Output m b]
-&gt; [Directive Void]
-&gt; Parser origin 'Output m (InsOrdHashMap Name (ParsedSelection a))
</span><a href="#local-6989586621687052701"><span class="hs-identifier hs-var">selectionSetObjectWithDirective</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052658"><span class="hs-identifier hs-var">objectTypename</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687052680"><span class="hs-identifier hs-var">description</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldParser n (AnnotatedField b)]
</span><a href="#local-6989586621687052683"><span class="hs-identifier hs-var">fieldParsers</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621687052669"><span class="hs-identifier hs-var">pkDirectives</span></a></span><span>
</span><span id="line-467"></span><span>          </span><span class="annot"><span class="annottext">Parser
  MetadataObjId
  'Output
  n
  (InsOrdHashMap Name (ParsedSelection (AnnotatedField b)))
-&gt; (InsOrdHashMap Name (ParsedSelection (AnnotatedField b))
    -&gt; AnnotatedFields b)
-&gt; Parser 'Output n (AnnotatedFields b)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; AnnotatedField b)
-&gt; InsOrdHashMap Name (ParsedSelection (AnnotatedField b))
-&gt; AnnotatedFields b
forall a.
(Text -&gt; a) -&gt; InsOrdHashMap Name (ParsedSelection a) -&gt; Fields a
</span><a href="Hasura.GraphQL.Schema.Common.html#parsedSelectionsToFields"><span class="hs-identifier hs-var">parsedSelectionsToFields</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; AnnotatedField b
forall (b :: BackendType) r v. Text -&gt; AnnFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#AFExpression"><span class="hs-identifier hs-var">IR.AFExpression</span></a></span><span>
</span><span id="line-468"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-469"></span><span>    </span><span id="local-6989586621687052701"><span class="annot"><span class="annottext">selectionSetObjectWithDirective :: Name
-&gt; Maybe Description
-&gt; [FieldParser origin m a]
-&gt; [Parser origin 'Output m b]
-&gt; [Directive Void]
-&gt; Parser origin 'Output m (InsOrdHashMap Name (ParsedSelection a))
</span><a href="#local-6989586621687052701"><span class="hs-identifier hs-var hs-var">selectionSetObjectWithDirective</span></a></span></span><span> </span><span id="local-6989586621687052714"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052714"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621687052715"><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687052715"><span class="hs-identifier hs-var">description</span></a></span></span><span> </span><span id="local-6989586621687052716"><span class="annot"><span class="annottext">[FieldParser origin m a]
</span><a href="#local-6989586621687052716"><span class="hs-identifier hs-var">parsers</span></a></span></span><span> </span><span id="local-6989586621687052717"><span class="annot"><span class="annottext">[Parser origin 'Output m b]
</span><a href="#local-6989586621687052717"><span class="hs-identifier hs-var">implementsInterfaces</span></a></span></span><span> </span><span id="local-6989586621687052718"><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621687052718"><span class="hs-identifier hs-var">directives</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-470"></span><span>      </span><span class="annot"><span class="annottext">[Directive Void]
-&gt; Parser origin 'Output m (InsOrdHashMap Name (ParsedSelection a))
-&gt; Parser origin 'Output m (InsOrdHashMap Name (ParsedSelection a))
forall origin (k :: Kind) (m :: * -&gt; *) a.
[Directive Void] -&gt; Parser origin k m a -&gt; Parser origin k m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#setParserDirectives"><span class="hs-identifier hs-var">IP.setParserDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621687052718"><span class="hs-identifier hs-var">directives</span></a></span><span>
</span><span id="line-471"></span><span>        </span><span class="annot"><span class="annottext">(Parser origin 'Output m (InsOrdHashMap Name (ParsedSelection a))
 -&gt; Parser
      origin 'Output m (InsOrdHashMap Name (ParsedSelection a)))
-&gt; Parser origin 'Output m (InsOrdHashMap Name (ParsedSelection a))
-&gt; Parser origin 'Output m (InsOrdHashMap Name (ParsedSelection a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; [FieldParser origin m a]
-&gt; [Parser origin 'Output m b]
-&gt; Parser origin 'Output m (InsOrdHashMap Name (ParsedSelection a))
forall (m :: * -&gt; *) origin a b.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; [FieldParser origin m a]
-&gt; [Parser origin 'Output m b]
-&gt; Parser origin 'Output m (InsOrdHashMap Name (ParsedSelection a))
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selectionSetObject"><span class="hs-identifier hs-var">P.selectionSetObject</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052714"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687052715"><span class="hs-identifier hs-var">description</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldParser origin m a]
</span><a href="#local-6989586621687052716"><span class="hs-identifier hs-var">parsers</span></a></span><span> </span><span class="annot"><span class="annottext">[Parser origin 'Output m b]
</span><a href="#local-6989586621687052717"><span class="hs-identifier hs-var">implementsInterfaces</span></a></span><span>
</span><span id="line-472"></span><span>
</span><span id="line-473"></span><span class="hs-comment">-- | List of table fields object.</span><span>
</span><span id="line-474"></span><span class="hs-comment">-- Just a @'nonNullableObjectList' wrapper over @'tableSelectionSet'.</span><span>
</span><span id="line-475"></span><span class="hs-comment">-- &gt; table_name: [table!]!</span><span>
</span><span id="line-476"></span><span id="local-6989586621687051093"><span id="local-6989586621687051094"><span id="local-6989586621687051095"><span id="local-6989586621687051096"><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tableSelectionList"><span class="hs-identifier hs-type">tableSelectionList</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-477"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#MonadBuildSchema"><span class="hs-identifier hs-type">MonadBuildSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051093"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051094"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051095"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051096"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#BackendTableSelectSchema"><span class="hs-identifier hs-type">BackendTableSelectSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051093"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-478"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#TableInfo"><span class="hs-identifier hs-type">TableInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051093"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-479"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051094"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051095"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Schema.Definition.html#Output"><span class="hs-identifier hs-type">Output</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051096"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#AnnotatedFields"><span class="hs-identifier hs-type">AnnotatedFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051093"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-480"></span><span id="tableSelectionList"><span class="annot"><span class="annottext">tableSelectionList :: forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(MonadBuildSchema b r m n, BackendTableSelectSchema b) =&gt;
TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
</span><a href="Hasura.GraphQL.Schema.Select.html#tableSelectionList"><span class="hs-identifier hs-var hs-var">tableSelectionList</span></a></span></span><span> </span><span id="local-6989586621687052734"><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052734"><span class="hs-identifier hs-var">tableInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-481"></span><span>  </span><span class="annot"><span class="annottext">(Parser 'Output n (AnnotatedFields b)
 -&gt; Parser 'Output n (AnnotatedFields b))
-&gt; Maybe (Parser 'Output n (AnnotatedFields b))
-&gt; Maybe (Parser 'Output n (AnnotatedFields b))
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Parser 'Output n (AnnotatedFields b)
-&gt; Parser 'Output n (AnnotatedFields b)
forall (m :: * -&gt; *) a. Parser 'Output m a -&gt; Parser 'Output m a
</span><a href="Hasura.GraphQL.Schema.Select.html#nonNullableObjectList"><span class="hs-identifier hs-var">nonNullableObjectList</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Parser 'Output n (AnnotatedFields b))
 -&gt; Maybe (Parser 'Output n (AnnotatedFields b)))
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
forall r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSourceSchema b r m n =&gt;
TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(BackendTableSelectSchema b, MonadBuildSourceSchema b r m n) =&gt;
TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
</span><a href="Hasura.GraphQL.Schema.Backend.html#tableSelectionSet"><span class="hs-identifier hs-var">tableSelectionSet</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052734"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span class="annot"><span class="hs-comment">-- | Converts an output type parser from object_type to [object_type!]!</span></span><span>
</span><span id="line-484"></span><span id="local-6989586621687051383"><span id="local-6989586621687051384"><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#nonNullableObjectList"><span class="hs-identifier hs-type">nonNullableObjectList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Schema.Definition.html#Output"><span class="hs-identifier hs-type">Output</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051383"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051384"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Schema.Definition.html#Output"><span class="hs-identifier hs-type">Output</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051383"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051384"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-485"></span><span id="nonNullableObjectList"><span class="annot"><span class="annottext">nonNullableObjectList :: forall (m :: * -&gt; *) a. Parser 'Output m a -&gt; Parser 'Output m a
</span><a href="Hasura.GraphQL.Schema.Select.html#nonNullableObjectList"><span class="hs-identifier hs-var hs-var">nonNullableObjectList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-486"></span><span>  </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Output m a
-&gt; Parser MetadataObjId 'Output m a
forall (m :: * -&gt; *) origin a.
Parser origin 'Output m a -&gt; Parser origin 'Output m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nonNullableParser"><span class="hs-identifier hs-var">P.nonNullableParser</span></a></span><span> </span><span class="annot"><span class="annottext">(Parser MetadataObjId 'Output m a
 -&gt; Parser MetadataObjId 'Output m a)
-&gt; (Parser MetadataObjId 'Output m a
    -&gt; Parser MetadataObjId 'Output m a)
-&gt; Parser MetadataObjId 'Output m a
-&gt; Parser MetadataObjId 'Output m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Output m a
-&gt; Parser MetadataObjId 'Output m a
forall (m :: * -&gt; *) origin a.
Parser origin 'Output m a -&gt; Parser origin 'Output m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#multiple"><span class="hs-identifier hs-var">P.multiple</span></a></span><span> </span><span class="annot"><span class="annottext">(Parser MetadataObjId 'Output m a
 -&gt; Parser MetadataObjId 'Output m a)
-&gt; (Parser MetadataObjId 'Output m a
    -&gt; Parser MetadataObjId 'Output m a)
-&gt; Parser MetadataObjId 'Output m a
-&gt; Parser MetadataObjId 'Output m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Output m a
-&gt; Parser MetadataObjId 'Output m a
forall (m :: * -&gt; *) origin a.
Parser origin 'Output m a -&gt; Parser origin 'Output m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nonNullableParser"><span class="hs-identifier hs-var">P.nonNullableParser</span></a></span><span>
</span><span id="line-487"></span><span>
</span><span id="line-488"></span><span class="hs-comment">-- | Connection fields of a table</span><span>
</span><span id="line-489"></span><span class="hs-comment">--</span><span>
</span><span id="line-490"></span><span class="hs-comment">-- &gt; type tableConnection{</span><span>
</span><span id="line-491"></span><span class="hs-comment">-- &gt;   pageInfo: PageInfo!</span><span>
</span><span id="line-492"></span><span class="hs-comment">-- &gt;   edges: [tableEdge!]!</span><span>
</span><span id="line-493"></span><span class="hs-comment">-- &gt; }</span><span>
</span><span id="line-494"></span><span class="hs-comment">--</span><span>
</span><span id="line-495"></span><span class="hs-comment">-- &gt; type PageInfo{</span><span>
</span><span id="line-496"></span><span class="hs-comment">-- &gt;   startCursor: String!</span><span>
</span><span id="line-497"></span><span class="hs-comment">-- &gt;   endCursor: String!</span><span>
</span><span id="line-498"></span><span class="hs-comment">-- &gt;   hasNextPage: Boolean!</span><span>
</span><span id="line-499"></span><span class="hs-comment">-- &gt;   hasPreviousPage: Boolean!</span><span>
</span><span id="line-500"></span><span class="hs-comment">-- &gt; }</span><span>
</span><span id="line-501"></span><span class="hs-comment">--</span><span>
</span><span id="line-502"></span><span class="hs-comment">-- &gt; type tableEdge{</span><span>
</span><span id="line-503"></span><span class="hs-comment">-- &gt;   cursor: String!</span><span>
</span><span id="line-504"></span><span class="hs-comment">-- &gt;   node: table!</span><span>
</span><span id="line-505"></span><span class="hs-comment">-- &gt; }</span><span>
</span><span id="line-506"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tableConnectionSelectionSet"><span class="hs-identifier hs-type">tableConnectionSelectionSet</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-507"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687051160"><span class="annot"><a href="#local-6989586621687051160"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621687051161"><span class="annot"><a href="#local-6989586621687051161"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621687051162"><span class="annot"><a href="#local-6989586621687051162"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687051163"><span class="annot"><a href="#local-6989586621687051163"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-508"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#MonadBuildSchema"><span class="hs-identifier hs-type">MonadBuildSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051160"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051161"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051162"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051163"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#BackendTableSelectSchema"><span class="hs-identifier hs-type">BackendTableSelectSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051160"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-509"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#TableInfo"><span class="hs-identifier hs-type">TableInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051160"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-510"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051161"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051162"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Schema.Definition.html#Output"><span class="hs-identifier hs-type">Output</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051163"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#ConnectionFields"><span class="hs-identifier hs-type">ConnectionFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051160"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-511"></span><span id="tableConnectionSelectionSet"><span class="annot"><span class="annottext">tableConnectionSelectionSet :: forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(MonadBuildSchema b r m n, BackendTableSelectSchema b) =&gt;
TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (ConnectionFields b)))
</span><a href="Hasura.GraphQL.Schema.Select.html#tableConnectionSelectionSet"><span class="hs-identifier hs-var hs-var">tableConnectionSelectionSet</span></a></span></span><span> </span><span id="local-6989586621687052831"><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052831"><span class="hs-identifier hs-var">tableInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MaybeT (SchemaT r m) (Parser 'Output n (ConnectionFields b))
-&gt; SchemaT r m (Maybe (Parser 'Output n (ConnectionFields b)))
forall (m :: * -&gt; *) a. MaybeT m a -&gt; m (Maybe a)
</span><span class="hs-identifier hs-var">runMaybeT</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-512"></span><span>  </span><span id="local-6989586621687052832"><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052832"><span class="hs-identifier hs-var">sourceInfo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Source.html#SourceInfo"><span class="hs-identifier hs-type">SourceInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051160"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(r -&gt; SourceInfo b) -&gt; MaybeT (SchemaT r m) (SourceInfo b)
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; SourceInfo b
forall a t. Has a t =&gt; t -&gt; a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/data-has-0.4.0.0-046b1b301c44f043005ecffcde95c748cd1a5249e8b9e9ea3eaa14bac0030231/share/doc/html/src/Data.Has.html#getter"><span class="hs-identifier hs-var">getter</span></a></span><span>
</span><span id="line-513"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687052833"><span class="annot"><span class="annottext">sourceName :: SourceName
</span><a href="#local-6989586621687052833"><span class="hs-identifier hs-var hs-var">sourceName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceInfo b -&gt; SourceName
forall (b :: BackendType). SourceInfo b -&gt; SourceName
</span><a href="Hasura.RQL.Types.Source.html#_siName"><span class="hs-identifier hs-var">_siName</span></a></span><span> </span><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052832"><span class="hs-identifier hs-var">sourceInfo</span></a></span><span>
</span><span id="line-514"></span><span>      </span><span id="local-6989586621687052834"><span class="annot"><span class="annottext">tableName :: TableName b
</span><a href="#local-6989586621687052834"><span class="hs-identifier hs-var hs-var">tableName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; TableName b
forall (b :: BackendType). TableInfo b -&gt; TableName b
</span><a href="Hasura.Table.Cache.html#tableInfoName"><span class="hs-identifier hs-var">tableInfoName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052831"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-515"></span><span>      </span><span id="local-6989586621687052835"><span class="annot"><span class="annottext">customization :: ResolvedSourceCustomization
</span><a href="#local-6989586621687052835"><span class="hs-identifier hs-var hs-var">customization</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceInfo b -&gt; ResolvedSourceCustomization
forall (b :: BackendType).
SourceInfo b -&gt; ResolvedSourceCustomization
</span><a href="Hasura.RQL.Types.Source.html#_siCustomization"><span class="hs-identifier hs-var">_siCustomization</span></a></span><span> </span><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687052832"><span class="hs-identifier hs-var">sourceInfo</span></a></span><span>
</span><span id="line-516"></span><span>      </span><span id="local-6989586621687052836"><span class="annot"><span class="annottext">tCase :: NamingCase
</span><a href="#local-6989586621687052836"><span class="hs-identifier hs-var hs-var">tCase</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization -&gt; NamingCase
</span><a href="Hasura.RQL.Types.SourceCustomization.html#_rscNamingConvention"><span class="hs-identifier hs-var">_rscNamingConvention</span></a></span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization
</span><a href="#local-6989586621687052835"><span class="hs-identifier hs-var">customization</span></a></span><span>
</span><span id="line-517"></span><span>      </span><span id="local-6989586621687052837"><span class="annot"><span class="annottext">mkTypename :: Name -&gt; Name
</span><a href="#local-6989586621687052837"><span class="hs-identifier hs-var hs-var">mkTypename</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MkTypename -&gt; Name -&gt; Name
</span><a href="Hasura.GraphQL.Schema.Typename.html#runMkTypename"><span class="hs-identifier hs-var">runMkTypename</span></a></span><span> </span><span class="annot"><span class="annottext">(MkTypename -&gt; Name -&gt; Name) -&gt; MkTypename -&gt; Name -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization -&gt; MkTypename
</span><a href="Hasura.RQL.Types.SourceCustomization.html#_rscTypeNames"><span class="hs-identifier hs-var">_rscTypeNames</span></a></span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization
</span><a href="#local-6989586621687052835"><span class="hs-identifier hs-var">customization</span></a></span><span>
</span><span id="line-518"></span><span>  </span><span id="local-6989586621687052838"><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687052838"><span class="hs-identifier hs-var">roleName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SchemaContext -&gt; RoleName) -&gt; MaybeT (SchemaT r m) RoleName
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaContext -&gt; RoleName
</span><a href="Hasura.GraphQL.Schema.Common.html#scRole"><span class="hs-identifier hs-var">scRole</span></a></span><span>
</span><span id="line-519"></span><span>  </span><span id="local-6989586621687052839"><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687052839"><span class="hs-identifier hs-var">tableIdentifierName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SchemaT r m GQLNameIdentifier
-&gt; MaybeT (SchemaT r m) GQLNameIdentifier
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; MaybeT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m GQLNameIdentifier
 -&gt; MaybeT (SchemaT r m) GQLNameIdentifier)
-&gt; SchemaT r m GQLNameIdentifier
-&gt; MaybeT (SchemaT r m) GQLNameIdentifier
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; SchemaT r m GQLNameIdentifier
forall (b :: BackendType) (m :: * -&gt; *).
(Backend b, MonadError QErr m) =&gt;
TableInfo b -&gt; m GQLNameIdentifier
</span><a href="Hasura.GraphQL.Schema.Table.html#getTableIdentifierName"><span class="hs-identifier hs-var">getTableIdentifierName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052831"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-520"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687052840"><span class="annot"><span class="annottext">tableGQLName :: Name
</span><a href="#local-6989586621687052840"><span class="hs-identifier hs-var hs-var">tableGQLName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamingCase -&gt; GQLNameIdentifier -&gt; Name
</span><a href="Hasura.RQL.Types.SourceCustomization.html#applyTypeNameCaseIdentifier"><span class="hs-identifier hs-var">applyTypeNameCaseIdentifier</span></a></span><span> </span><span class="annot"><span class="annottext">NamingCase
</span><a href="#local-6989586621687052836"><span class="hs-identifier hs-var">tCase</span></a></span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687052839"><span class="hs-identifier hs-var">tableIdentifierName</span></a></span><span>
</span><span id="line-521"></span><span>  </span><span class="annot"><span class="annottext">MaybeT (SchemaT r m) (SelPermInfo b) -&gt; MaybeT (SchemaT r m) ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(MaybeT (SchemaT r m) (SelPermInfo b) -&gt; MaybeT (SchemaT r m) ())
-&gt; MaybeT (SchemaT r m) (SelPermInfo b) -&gt; MaybeT (SchemaT r m) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b)
forall (m :: * -&gt; *) b. Applicative m =&gt; Maybe b -&gt; MaybeT m b
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#hoistMaybe"><span class="hs-identifier hs-var">hoistMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b))
-&gt; Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleName -&gt; TableInfo b -&gt; Maybe (SelPermInfo b)
forall (b :: BackendType).
RoleName -&gt; TableInfo b -&gt; Maybe (SelPermInfo b)
</span><a href="Hasura.GraphQL.Schema.Table.html#tableSelectPermissions"><span class="hs-identifier hs-var">tableSelectPermissions</span></a></span><span> </span><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687052838"><span class="hs-identifier hs-var">roleName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052831"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-522"></span><span>  </span><span id="local-6989586621687052842"><span class="annot"><span class="annottext">Parser 'Output n (EdgeFields b)
</span><a href="#local-6989586621687052842"><span class="hs-identifier hs-var">edgesParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SchemaT r m (Maybe (Parser 'Output n (EdgeFields b)))
-&gt; MaybeT (SchemaT r m) (Parser 'Output n (EdgeFields b))
forall (m :: * -&gt; *) a. m (Maybe a) -&gt; MaybeT m a
</span><span class="hs-identifier hs-var">MaybeT</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m (Maybe (Parser 'Output n (EdgeFields b)))
 -&gt; MaybeT (SchemaT r m) (Parser 'Output n (EdgeFields b)))
-&gt; SchemaT r m (Maybe (Parser 'Output n (EdgeFields b)))
-&gt; MaybeT (SchemaT r m) (Parser 'Output n (EdgeFields b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name)
-&gt; Name -&gt; SchemaT r m (Maybe (Parser 'Output n (EdgeFields b)))
</span><a href="#local-6989586621687052843"><span class="hs-identifier hs-var">tableEdgesSelectionSet</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="#local-6989586621687052837"><span class="hs-identifier hs-var">mkTypename</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052840"><span class="hs-identifier hs-var">tableGQLName</span></a></span><span>
</span><span id="line-523"></span><span>  </span><span class="annot"><span class="annottext">SchemaT r m (Parser 'Output n (ConnectionFields b))
-&gt; MaybeT (SchemaT r m) (Parser 'Output n (ConnectionFields b))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; MaybeT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m (Parser 'Output n (ConnectionFields b))
 -&gt; MaybeT (SchemaT r m) (Parser 'Output n (ConnectionFields b)))
-&gt; SchemaT r m (Parser 'Output n (ConnectionFields b))
-&gt; MaybeT (SchemaT r m) (Parser 'Output n (ConnectionFields b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (SourceName, TableName b)
-&gt; SchemaT r m (Parser 'Output n (ConnectionFields b))
-&gt; SchemaT r m (Parser 'Output n (ConnectionFields b))
forall (m :: * -&gt; *) a (p :: (* -&gt; *) -&gt; * -&gt; *) (n :: * -&gt; *) b.
(MonadMemoize m, Ord a, Typeable a, Typeable p, MonadParse n,
 Typeable b) =&gt;
Name -&gt; a -&gt; m (p n b) -&gt; m (p n b)
</span><a href="Hasura.GraphQL.Schema.Parser.html#memoizeOn"><span class="hs-identifier hs-var">P.memoizeOn</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-identifier">tableConnectionSelectionSet</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621687052833"><span class="hs-identifier hs-var">sourceName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687052834"><span class="hs-identifier hs-var">tableName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-524"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687052844"><span class="annot"><span class="annottext">connectionTypeName :: Name
</span><a href="#local-6989586621687052844"><span class="hs-identifier hs-var hs-var">connectionTypeName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="#local-6989586621687052837"><span class="hs-identifier hs-var">mkTypename</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; Name -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052840"><span class="hs-identifier hs-var">tableGQLName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Name
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_Connection"><span class="hs-identifier hs-var">Name._Connection</span></a></span><span>
</span><span id="line-525"></span><span>        </span><span id="local-6989586621687052846"><span class="annot"><span class="annottext">pageInfo :: FieldParser
  MetadataObjId
  n
  (ConnectionField
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
</span><a href="#local-6989586621687052846"><span class="hs-identifier hs-var hs-var">pageInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-526"></span><span>          </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser MetadataObjId 'Output n PageInfoFields
-&gt; FieldParser MetadataObjId n PageInfoFields
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin 'Output m a
-&gt; FieldParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#subselection_"><span class="hs-identifier hs-var">P.subselection_</span></a></span><span>
</span><span id="line-527"></span><span>            </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_pageInfo"><span class="hs-identifier hs-var">Name._pageInfo</span></a></span><span>
</span><span id="line-528"></span><span>            </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-529"></span><span>            </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Output n PageInfoFields
</span><a href="#local-6989586621687052848"><span class="hs-identifier hs-var">pageInfoSelectionSet</span></a></span><span>
</span><span id="line-530"></span><span>            </span><span class="annot"><span class="annottext">FieldParser MetadataObjId n PageInfoFields
-&gt; (PageInfoFields
    -&gt; ConnectionField
         b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; FieldParser
     MetadataObjId
     n
     (ConnectionField
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="annot"><span class="annottext">PageInfoFields
-&gt; ConnectionField
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall (b :: BackendType) r v.
PageInfoFields -&gt; ConnectionField b r v
</span><a href="Hasura.RQL.IR.Select.html#ConnectionPageInfo"><span class="hs-identifier hs-var">IR.ConnectionPageInfo</span></a></span><span>
</span><span id="line-531"></span><span>        </span><span id="local-6989586621687052850"><span class="annot"><span class="annottext">edges :: FieldParser
  MetadataObjId
  n
  (ConnectionField
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
</span><a href="#local-6989586621687052850"><span class="hs-identifier hs-var hs-var">edges</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-532"></span><span>          </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser 'Output n (EdgeFields b)
-&gt; FieldParser MetadataObjId n (EdgeFields b)
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin 'Output m a
-&gt; FieldParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#subselection_"><span class="hs-identifier hs-var">P.subselection_</span></a></span><span>
</span><span id="line-533"></span><span>            </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_edges"><span class="hs-identifier hs-var">Name._edges</span></a></span><span>
</span><span id="line-534"></span><span>            </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-535"></span><span>            </span><span class="annot"><span class="annottext">Parser 'Output n (EdgeFields b)
</span><a href="#local-6989586621687052842"><span class="hs-identifier hs-var">edgesParser</span></a></span><span>
</span><span id="line-536"></span><span>            </span><span class="annot"><span class="annottext">FieldParser MetadataObjId n (EdgeFields b)
-&gt; (EdgeFields b
    -&gt; ConnectionField
         b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; FieldParser
     MetadataObjId
     n
     (ConnectionField
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="annot"><span class="annottext">EdgeFields b
-&gt; ConnectionField
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall (b :: BackendType) r v.
EdgeFields b r v -&gt; ConnectionField b r v
</span><a href="Hasura.RQL.IR.Select.html#ConnectionEdges"><span class="hs-identifier hs-var">IR.ConnectionEdges</span></a></span><span>
</span><span id="line-537"></span><span>        </span><span id="local-6989586621687052853"><span class="annot"><span class="annottext">connectionDescription :: Description
</span><a href="#local-6989586621687052853"><span class="hs-identifier hs-var hs-var">connectionDescription</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-var">G.Description</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Description) -&gt; Text -&gt; Description
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;A Relay connection object on &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; TableName b -&gt; Text
forall t. ToTxt t =&gt; Text -&gt; t -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html#%3C%3E%3E"><span class="hs-operator hs-var">&lt;&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687052834"><span class="hs-identifier hs-var">tableName</span></a></span><span>
</span><span id="line-538"></span><span>    </span><span class="annot"><span class="annottext">Parser 'Output n (ConnectionFields b)
-&gt; SchemaT r m (Parser 'Output n (ConnectionFields b))
forall a. a -&gt; SchemaT r m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-539"></span><span>      </span><span class="annot"><span class="annottext">(Parser 'Output n (ConnectionFields b)
 -&gt; SchemaT r m (Parser 'Output n (ConnectionFields b)))
-&gt; Parser 'Output n (ConnectionFields b)
-&gt; SchemaT r m (Parser 'Output n (ConnectionFields b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Parser 'Output n (ConnectionFields b)
-&gt; Parser 'Output n (ConnectionFields b)
forall (m :: * -&gt; *) origin a.
Parser origin 'Output m a -&gt; Parser origin 'Output m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nonNullableParser"><span class="hs-identifier hs-var">P.nonNullableParser</span></a></span><span>
</span><span id="line-540"></span><span>      </span><span class="annot"><span class="annottext">(Parser 'Output n (ConnectionFields b)
 -&gt; Parser 'Output n (ConnectionFields b))
-&gt; Parser 'Output n (ConnectionFields b)
-&gt; Parser 'Output n (ConnectionFields b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; [FieldParser
      MetadataObjId
      n
      (ConnectionField
         b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))]
-&gt; Parser
     MetadataObjId
     'Output
     n
     (InsOrdHashMap
        Name
        (ParsedSelection
           (ConnectionField
              b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))))
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; [FieldParser origin m a]
-&gt; Parser origin 'Output m (InsOrdHashMap Name (ParsedSelection a))
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selectionSet"><span class="hs-identifier hs-var">P.selectionSet</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052844"><span class="hs-identifier hs-var">connectionTypeName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Description
</span><a href="#local-6989586621687052853"><span class="hs-identifier hs-var">connectionDescription</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">FieldParser
  MetadataObjId
  n
  (ConnectionField
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
</span><a href="#local-6989586621687052846"><span class="hs-identifier hs-var">pageInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FieldParser
  MetadataObjId
  n
  (ConnectionField
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
</span><a href="#local-6989586621687052850"><span class="hs-identifier hs-var">edges</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-541"></span><span>      </span><span class="annot"><span class="annottext">Parser
  MetadataObjId
  'Output
  n
  (InsOrdHashMap
     Name
     (ParsedSelection
        (ConnectionField
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))))
-&gt; (InsOrdHashMap
      Name
      (ParsedSelection
         (ConnectionField
            b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
    -&gt; ConnectionFields b)
-&gt; Parser 'Output n (ConnectionFields b)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Text
 -&gt; ConnectionField
      b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; InsOrdHashMap
     Name
     (ParsedSelection
        (ConnectionField
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
-&gt; ConnectionFields b
forall a.
(Text -&gt; a) -&gt; InsOrdHashMap Name (ParsedSelection a) -&gt; Fields a
</span><a href="Hasura.GraphQL.Schema.Common.html#parsedSelectionsToFields"><span class="hs-identifier hs-var">parsedSelectionsToFields</span></a></span><span> </span><span class="annot"><span class="annottext">Text
-&gt; ConnectionField
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall (b :: BackendType) r v. Text -&gt; ConnectionField b r v
</span><a href="Hasura.RQL.IR.Select.html#ConnectionTypename"><span class="hs-identifier hs-var">IR.ConnectionTypename</span></a></span><span>
</span><span id="line-542"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-543"></span><span>    </span><span class="annot"><a href="#local-6989586621687052848"><span class="hs-identifier hs-type">pageInfoSelectionSet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Schema.Definition.html#Output"><span class="hs-identifier hs-type">Output</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051163"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.IR.Select.html#PageInfoFields"><span class="hs-identifier hs-type">IR.PageInfoFields</span></a></span><span>
</span><span id="line-544"></span><span>    </span><span id="local-6989586621687052848"><span class="annot"><span class="annottext">pageInfoSelectionSet :: Parser MetadataObjId 'Output n PageInfoFields
</span><a href="#local-6989586621687052848"><span class="hs-identifier hs-var hs-var">pageInfoSelectionSet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-545"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687052863"><span class="annot"><span class="annottext">startCursorField :: FieldParser origin n PageInfoField
</span><a href="#local-6989586621687052863"><span class="hs-identifier hs-var hs-var">startCursorField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-546"></span><span>            </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser origin 'Both n Text
-&gt; FieldParser origin n ()
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin 'Both m a
-&gt; FieldParser origin m ()
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selection_"><span class="hs-identifier hs-var">P.selection_</span></a></span><span>
</span><span id="line-547"></span><span>              </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_startCursor"><span class="hs-identifier hs-var">Name._startCursor</span></a></span><span>
</span><span id="line-548"></span><span>              </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-549"></span><span>              </span><span class="annot"><span class="annottext">Parser origin 'Both n Text
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
Parser origin 'Both m Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Scalars.html#string"><span class="hs-identifier hs-var">P.string</span></a></span><span>
</span><span id="line-550"></span><span>              </span><span class="annot"><span class="annottext">FieldParser origin n ()
-&gt; PageInfoField -&gt; FieldParser origin n PageInfoField
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">PageInfoField
</span><a href="Hasura.RQL.IR.Select.html#PageInfoStartCursor"><span class="hs-identifier hs-var">IR.PageInfoStartCursor</span></a></span><span>
</span><span id="line-551"></span><span>          </span><span id="local-6989586621687052875"><span class="annot"><span class="annottext">endCursorField :: FieldParser origin n PageInfoField
</span><a href="#local-6989586621687052875"><span class="hs-identifier hs-var hs-var">endCursorField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-552"></span><span>            </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser origin 'Both n Text
-&gt; FieldParser origin n ()
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin 'Both m a
-&gt; FieldParser origin m ()
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selection_"><span class="hs-identifier hs-var">P.selection_</span></a></span><span>
</span><span id="line-553"></span><span>              </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_endCursor"><span class="hs-identifier hs-var">Name._endCursor</span></a></span><span>
</span><span id="line-554"></span><span>              </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-555"></span><span>              </span><span class="annot"><span class="annottext">Parser origin 'Both n Text
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
Parser origin 'Both m Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Scalars.html#string"><span class="hs-identifier hs-var">P.string</span></a></span><span>
</span><span id="line-556"></span><span>              </span><span class="annot"><span class="annottext">FieldParser origin n ()
-&gt; PageInfoField -&gt; FieldParser origin n PageInfoField
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">PageInfoField
</span><a href="Hasura.RQL.IR.Select.html#PageInfoEndCursor"><span class="hs-identifier hs-var">IR.PageInfoEndCursor</span></a></span><span>
</span><span id="line-557"></span><span>          </span><span id="local-6989586621687052886"><span class="annot"><span class="annottext">hasNextPageField :: FieldParser origin n PageInfoField
</span><a href="#local-6989586621687052886"><span class="hs-identifier hs-var hs-var">hasNextPageField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-558"></span><span>            </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser origin 'Both n Bool
-&gt; FieldParser origin n ()
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin 'Both m a
-&gt; FieldParser origin m ()
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selection_"><span class="hs-identifier hs-var">P.selection_</span></a></span><span>
</span><span id="line-559"></span><span>              </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_hasNextPage"><span class="hs-identifier hs-var">Name._hasNextPage</span></a></span><span>
</span><span id="line-560"></span><span>              </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-561"></span><span>              </span><span class="annot"><span class="annottext">Parser origin 'Both n Bool
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
Parser origin 'Both m Bool
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Scalars.html#boolean"><span class="hs-identifier hs-var">P.boolean</span></a></span><span>
</span><span id="line-562"></span><span>              </span><span class="annot"><span class="annottext">FieldParser origin n ()
-&gt; PageInfoField -&gt; FieldParser origin n PageInfoField
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">PageInfoField
</span><a href="Hasura.RQL.IR.Select.html#PageInfoHasNextPage"><span class="hs-identifier hs-var">IR.PageInfoHasNextPage</span></a></span><span>
</span><span id="line-563"></span><span>          </span><span id="local-6989586621687052898"><span class="annot"><span class="annottext">hasPreviousPageField :: FieldParser origin n PageInfoField
</span><a href="#local-6989586621687052898"><span class="hs-identifier hs-var hs-var">hasPreviousPageField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-564"></span><span>            </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser origin 'Both n Bool
-&gt; FieldParser origin n ()
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin 'Both m a
-&gt; FieldParser origin m ()
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selection_"><span class="hs-identifier hs-var">P.selection_</span></a></span><span>
</span><span id="line-565"></span><span>              </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_hasPreviousPage"><span class="hs-identifier hs-var">Name._hasPreviousPage</span></a></span><span>
</span><span id="line-566"></span><span>              </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-567"></span><span>              </span><span class="annot"><span class="annottext">Parser origin 'Both n Bool
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
Parser origin 'Both m Bool
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Scalars.html#boolean"><span class="hs-identifier hs-var">P.boolean</span></a></span><span>
</span><span id="line-568"></span><span>              </span><span class="annot"><span class="annottext">FieldParser origin n ()
-&gt; PageInfoField -&gt; FieldParser origin n PageInfoField
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">PageInfoField
</span><a href="Hasura.RQL.IR.Select.html#PageInfoHasPreviousPage"><span class="hs-identifier hs-var">IR.PageInfoHasPreviousPage</span></a></span><span>
</span><span id="line-569"></span><span>          </span><span id="local-6989586621687052901"><span class="annot"><span class="annottext">allFields :: [FieldParser MetadataObjId n PageInfoField]
</span><a href="#local-6989586621687052901"><span class="hs-identifier hs-var hs-var">allFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-570"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FieldParser MetadataObjId n PageInfoField
forall {origin}. FieldParser origin n PageInfoField
</span><a href="#local-6989586621687052863"><span class="hs-identifier hs-var">startCursorField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-571"></span><span>              </span><span class="annot"><span class="annottext">FieldParser MetadataObjId n PageInfoField
forall {origin}. FieldParser origin n PageInfoField
</span><a href="#local-6989586621687052875"><span class="hs-identifier hs-var">endCursorField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-572"></span><span>              </span><span class="annot"><span class="annottext">FieldParser MetadataObjId n PageInfoField
forall {origin}. FieldParser origin n PageInfoField
</span><a href="#local-6989586621687052886"><span class="hs-identifier hs-var">hasNextPageField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-573"></span><span>              </span><span class="annot"><span class="annottext">FieldParser MetadataObjId n PageInfoField
forall {origin}. FieldParser origin n PageInfoField
</span><a href="#local-6989586621687052898"><span class="hs-identifier hs-var">hasPreviousPageField</span></a></span><span>
</span><span id="line-574"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-575"></span><span>       </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Output n PageInfoFields
-&gt; Parser MetadataObjId 'Output n PageInfoFields
forall (m :: * -&gt; *) origin a.
Parser origin 'Output m a -&gt; Parser origin 'Output m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nonNullableParser"><span class="hs-identifier hs-var">P.nonNullableParser</span></a></span><span>
</span><span id="line-576"></span><span>            </span><span class="annot"><span class="annottext">(Parser MetadataObjId 'Output n PageInfoFields
 -&gt; Parser MetadataObjId 'Output n PageInfoFields)
-&gt; Parser MetadataObjId 'Output n PageInfoFields
-&gt; Parser MetadataObjId 'Output n PageInfoFields
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; [FieldParser MetadataObjId n PageInfoField]
-&gt; Parser
     MetadataObjId
     'Output
     n
     (InsOrdHashMap Name (ParsedSelection PageInfoField))
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; [FieldParser origin m a]
-&gt; Parser origin 'Output m (InsOrdHashMap Name (ParsedSelection a))
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selectionSet"><span class="hs-identifier hs-var">P.selectionSet</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_PageInfo"><span class="hs-identifier hs-var">Name._PageInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">[FieldParser MetadataObjId n PageInfoField]
</span><a href="#local-6989586621687052901"><span class="hs-identifier hs-var">allFields</span></a></span><span>
</span><span id="line-577"></span><span>            </span><span class="annot"><span class="annottext">Parser
  MetadataObjId
  'Output
  n
  (InsOrdHashMap Name (ParsedSelection PageInfoField))
-&gt; (InsOrdHashMap Name (ParsedSelection PageInfoField)
    -&gt; PageInfoFields)
-&gt; Parser MetadataObjId 'Output n PageInfoFields
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; PageInfoField)
-&gt; InsOrdHashMap Name (ParsedSelection PageInfoField)
-&gt; PageInfoFields
forall a.
(Text -&gt; a) -&gt; InsOrdHashMap Name (ParsedSelection a) -&gt; Fields a
</span><a href="Hasura.GraphQL.Schema.Common.html#parsedSelectionsToFields"><span class="hs-identifier hs-var">parsedSelectionsToFields</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; PageInfoField
</span><a href="Hasura.RQL.IR.Select.html#PageInfoTypename"><span class="hs-identifier hs-var">IR.PageInfoTypename</span></a></span><span>
</span><span id="line-578"></span><span>
</span><span id="line-579"></span><span>    </span><span class="annot"><a href="#local-6989586621687052843"><span class="hs-identifier hs-type">tableEdgesSelectionSet</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-580"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html#Name"><span class="hs-identifier hs-type">G.Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html#Name"><span class="hs-identifier hs-type">G.Name</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-581"></span><span>      </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html#Name"><span class="hs-identifier hs-type">G.Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-582"></span><span>      </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051161"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051162"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Schema.Definition.html#Output"><span class="hs-identifier hs-type">Output</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051163"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#EdgeFields"><span class="hs-identifier hs-type">EdgeFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051160"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-583"></span><span>    </span><span id="local-6989586621687052843"><span class="annot"><span class="annottext">tableEdgesSelectionSet :: (Name -&gt; Name)
-&gt; Name -&gt; SchemaT r m (Maybe (Parser 'Output n (EdgeFields b)))
</span><a href="#local-6989586621687052843"><span class="hs-identifier hs-var hs-var">tableEdgesSelectionSet</span></a></span></span><span> </span><span id="local-6989586621687052904"><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="#local-6989586621687052904"><span class="hs-identifier hs-var">mkTypename</span></a></span></span><span> </span><span id="local-6989586621687052905"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052905"><span class="hs-identifier hs-var">tableGQLName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MaybeT (SchemaT r m) (Parser 'Output n (EdgeFields b))
-&gt; SchemaT r m (Maybe (Parser 'Output n (EdgeFields b)))
forall (m :: * -&gt; *) a. MaybeT m a -&gt; m (Maybe a)
</span><span class="hs-identifier hs-var">runMaybeT</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-584"></span><span>      </span><span id="local-6989586621687052906"><span class="annot"><span class="annottext">Parser MetadataObjId 'Output n (AnnotatedFields b)
</span><a href="#local-6989586621687052906"><span class="hs-identifier hs-var">edgeNodeParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SchemaT
  r m (Maybe (Parser MetadataObjId 'Output n (AnnotatedFields b)))
-&gt; MaybeT
     (SchemaT r m) (Parser MetadataObjId 'Output n (AnnotatedFields b))
forall (m :: * -&gt; *) a. m (Maybe a) -&gt; MaybeT m a
</span><span class="hs-identifier hs-var">MaybeT</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT
   r m (Maybe (Parser MetadataObjId 'Output n (AnnotatedFields b)))
 -&gt; MaybeT
      (SchemaT r m) (Parser MetadataObjId 'Output n (AnnotatedFields b)))
-&gt; SchemaT
     r m (Maybe (Parser MetadataObjId 'Output n (AnnotatedFields b)))
-&gt; MaybeT
     (SchemaT r m) (Parser MetadataObjId 'Output n (AnnotatedFields b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Parser MetadataObjId 'Output n (AnnotatedFields b)
 -&gt; Parser MetadataObjId 'Output n (AnnotatedFields b))
-&gt; Maybe (Parser MetadataObjId 'Output n (AnnotatedFields b))
-&gt; Maybe (Parser MetadataObjId 'Output n (AnnotatedFields b))
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Output n (AnnotatedFields b)
-&gt; Parser MetadataObjId 'Output n (AnnotatedFields b)
forall (m :: * -&gt; *) origin a.
Parser origin 'Output m a -&gt; Parser origin 'Output m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nonNullableParser"><span class="hs-identifier hs-var">P.nonNullableParser</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Parser MetadataObjId 'Output n (AnnotatedFields b))
 -&gt; Maybe (Parser MetadataObjId 'Output n (AnnotatedFields b)))
-&gt; SchemaT
     r m (Maybe (Parser MetadataObjId 'Output n (AnnotatedFields b)))
-&gt; SchemaT
     r m (Maybe (Parser MetadataObjId 'Output n (AnnotatedFields b)))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT
     r m (Maybe (Parser MetadataObjId 'Output n (AnnotatedFields b)))
forall r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSourceSchema b r m n =&gt;
TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(BackendTableSelectSchema b, MonadBuildSourceSchema b r m n) =&gt;
TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
</span><a href="Hasura.GraphQL.Schema.Backend.html#tableSelectionSet"><span class="hs-identifier hs-var">tableSelectionSet</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052831"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-585"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687052907"><span class="annot"><span class="annottext">edgesType :: Name
</span><a href="#local-6989586621687052907"><span class="hs-identifier hs-var hs-var">edgesType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name
</span><a href="#local-6989586621687052904"><span class="hs-identifier hs-var">mkTypename</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; Name -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052905"><span class="hs-identifier hs-var">tableGQLName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Name
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_Edge"><span class="hs-identifier hs-var">Name._Edge</span></a></span><span>
</span><span id="line-586"></span><span>          </span><span id="local-6989586621687052917"><span class="annot"><span class="annottext">cursor :: FieldParser origin n (EdgeField b r v)
</span><a href="#local-6989586621687052917"><span class="hs-identifier hs-var hs-var">cursor</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-587"></span><span>            </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser origin 'Both n Text
-&gt; FieldParser origin n ()
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin 'Both m a
-&gt; FieldParser origin m ()
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selection_"><span class="hs-identifier hs-var">P.selection_</span></a></span><span>
</span><span id="line-588"></span><span>              </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_cursor"><span class="hs-identifier hs-var">Name._cursor</span></a></span><span>
</span><span id="line-589"></span><span>              </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-590"></span><span>              </span><span class="annot"><span class="annottext">Parser origin 'Both n Text
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
Parser origin 'Both m Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Scalars.html#string"><span class="hs-identifier hs-var">P.string</span></a></span><span>
</span><span id="line-591"></span><span>              </span><span class="annot"><span class="annottext">FieldParser origin n ()
-&gt; EdgeField b r v -&gt; FieldParser origin n (EdgeField b r v)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">EdgeField b r v
forall (b :: BackendType) r v. EdgeField b r v
</span><a href="Hasura.RQL.IR.Select.html#EdgeCursor"><span class="hs-identifier hs-var">IR.EdgeCursor</span></a></span><span>
</span><span id="line-592"></span><span>          </span><span id="local-6989586621687052920"><span class="annot"><span class="annottext">edgeNode :: FieldParser
  MetadataObjId
  n
  (EdgeField
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
</span><a href="#local-6989586621687052920"><span class="hs-identifier hs-var hs-var">edgeNode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-593"></span><span>            </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser MetadataObjId 'Output n (AnnotatedFields b)
-&gt; FieldParser MetadataObjId n (AnnotatedFields b)
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin 'Output m a
-&gt; FieldParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#subselection_"><span class="hs-identifier hs-var">P.subselection_</span></a></span><span>
</span><span id="line-594"></span><span>              </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_node"><span class="hs-identifier hs-var">Name._node</span></a></span><span>
</span><span id="line-595"></span><span>              </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-596"></span><span>              </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Output n (AnnotatedFields b)
</span><a href="#local-6989586621687052906"><span class="hs-identifier hs-var">edgeNodeParser</span></a></span><span>
</span><span id="line-597"></span><span>              </span><span class="annot"><span class="annottext">FieldParser MetadataObjId n (AnnotatedFields b)
-&gt; (AnnotatedFields b
    -&gt; EdgeField
         b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; FieldParser
     MetadataObjId
     n
     (EdgeField
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="annot"><span class="annottext">AnnotatedFields b
-&gt; EdgeField
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall (b :: BackendType) r v. AnnFieldsG b r v -&gt; EdgeField b r v
</span><a href="Hasura.RQL.IR.Select.html#EdgeNode"><span class="hs-identifier hs-var">IR.EdgeNode</span></a></span><span>
</span><span id="line-598"></span><span>      </span><span class="annot"><span class="annottext">Parser 'Output n (EdgeFields b)
-&gt; MaybeT (SchemaT r m) (Parser 'Output n (EdgeFields b))
forall a. a -&gt; MaybeT (SchemaT r m) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-599"></span><span>        </span><span class="annot"><span class="annottext">(Parser 'Output n (EdgeFields b)
 -&gt; MaybeT (SchemaT r m) (Parser 'Output n (EdgeFields b)))
-&gt; Parser 'Output n (EdgeFields b)
-&gt; MaybeT (SchemaT r m) (Parser 'Output n (EdgeFields b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Parser 'Output n (EdgeFields b) -&gt; Parser 'Output n (EdgeFields b)
forall (m :: * -&gt; *) a. Parser 'Output m a -&gt; Parser 'Output m a
</span><a href="Hasura.GraphQL.Schema.Select.html#nonNullableObjectList"><span class="hs-identifier hs-var">nonNullableObjectList</span></a></span><span>
</span><span id="line-600"></span><span>        </span><span class="annot"><span class="annottext">(Parser 'Output n (EdgeFields b)
 -&gt; Parser 'Output n (EdgeFields b))
-&gt; Parser 'Output n (EdgeFields b)
-&gt; Parser 'Output n (EdgeFields b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; [FieldParser
      MetadataObjId
      n
      (EdgeField
         b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))]
-&gt; Parser
     MetadataObjId
     'Output
     n
     (InsOrdHashMap
        Name
        (ParsedSelection
           (EdgeField
              b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))))
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; [FieldParser origin m a]
-&gt; Parser origin 'Output m (InsOrdHashMap Name (ParsedSelection a))
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selectionSet"><span class="hs-identifier hs-var">P.selectionSet</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052907"><span class="hs-identifier hs-var">edgesType</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">FieldParser
  MetadataObjId
  n
  (EdgeField
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
forall {origin} {b :: BackendType} {r} {v}.
FieldParser origin n (EdgeField b r v)
</span><a href="#local-6989586621687052917"><span class="hs-identifier hs-var">cursor</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FieldParser
  MetadataObjId
  n
  (EdgeField
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
</span><a href="#local-6989586621687052920"><span class="hs-identifier hs-var">edgeNode</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-601"></span><span>        </span><span class="annot"><span class="annottext">Parser
  MetadataObjId
  'Output
  n
  (InsOrdHashMap
     Name
     (ParsedSelection
        (EdgeField
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))))
-&gt; (InsOrdHashMap
      Name
      (ParsedSelection
         (EdgeField
            b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
    -&gt; EdgeFields b)
-&gt; Parser 'Output n (EdgeFields b)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Text
 -&gt; EdgeField
      b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; InsOrdHashMap
     Name
     (ParsedSelection
        (EdgeField
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
-&gt; EdgeFields b
forall a.
(Text -&gt; a) -&gt; InsOrdHashMap Name (ParsedSelection a) -&gt; Fields a
</span><a href="Hasura.GraphQL.Schema.Common.html#parsedSelectionsToFields"><span class="hs-identifier hs-var">parsedSelectionsToFields</span></a></span><span> </span><span class="annot"><span class="annottext">Text
-&gt; EdgeField
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall (b :: BackendType) r v. Text -&gt; EdgeField b r v
</span><a href="Hasura.RQL.IR.Select.html#EdgeTypename"><span class="hs-identifier hs-var">IR.EdgeTypename</span></a></span><span>
</span><span id="line-602"></span><span>
</span><span id="line-603"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-604"></span><span class="hs-comment">-- Components</span><span>
</span><span id="line-605"></span><span class="hs-comment">--</span><span>
</span><span id="line-606"></span><span class="hs-comment">-- Those parsers are sub-components of those top-level parsers.</span><span>
</span><span id="line-607"></span><span>
</span><span id="line-608"></span><span class="hs-comment">-- | Arguments for a table selection. Default implementation for BackendSchema.</span><span>
</span><span id="line-609"></span><span class="hs-comment">--</span><span>
</span><span id="line-610"></span><span class="hs-comment">-- &gt; distinct_on: [table_select_column!]</span><span>
</span><span id="line-611"></span><span class="hs-comment">-- &gt; limit: Int</span><span>
</span><span id="line-612"></span><span class="hs-comment">-- &gt; offset: Int</span><span>
</span><span id="line-613"></span><span class="hs-comment">-- &gt; order_by: [table_order_by!]</span><span>
</span><span id="line-614"></span><span class="hs-comment">-- &gt; where: table_bool_exp</span><span>
</span><span id="line-615"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#defaultTableArgs"><span class="hs-identifier hs-type">defaultTableArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-616"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687051414"><span class="annot"><a href="#local-6989586621687051414"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621687051415"><span class="annot"><a href="#local-6989586621687051415"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621687051416"><span class="annot"><a href="#local-6989586621687051416"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687051417"><span class="annot"><a href="#local-6989586621687051417"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-617"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#MonadBuildSchema"><span class="hs-identifier hs-type">MonadBuildSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051414"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051415"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051416"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051417"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.BoolExp.html#AggregationPredicatesSchema"><span class="hs-identifier hs-type">AggregationPredicatesSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051414"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-618"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#TableInfo"><span class="hs-identifier hs-type">TableInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051414"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-619"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051415"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051416"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#InputFieldsParser"><span class="hs-identifier hs-type">InputFieldsParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051417"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SelectArgs"><span class="hs-identifier hs-type">SelectArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051414"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-620"></span><span id="defaultTableArgs"><span class="annot"><span class="annottext">defaultTableArgs :: forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(MonadBuildSchema b r m n, AggregationPredicatesSchema b) =&gt;
TableInfo b -&gt; SchemaT r m (InputFieldsParser n (SelectArgs b))
</span><a href="Hasura.GraphQL.Schema.Select.html#defaultTableArgs"><span class="hs-identifier hs-var hs-var">defaultTableArgs</span></a></span></span><span> </span><span id="local-6989586621687052941"><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052941"><span class="hs-identifier hs-var">tableInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-621"></span><span>  </span><span id="local-6989586621687052942"><span class="annot"><span class="annottext">InputFieldsParser n (Maybe (AnnBoolExp b (UnpreparedValue b)))
</span><a href="#local-6989586621687052942"><span class="hs-identifier hs-var">whereParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT
     r
     m
     (InputFieldsParser n (Maybe (AnnBoolExp b (UnpreparedValue b))))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(AggregationPredicatesSchema b, MonadBuildSchema b r m n) =&gt;
TableInfo b
-&gt; SchemaT
     r
     m
     (InputFieldsParser n (Maybe (AnnBoolExp b (UnpreparedValue b))))
</span><a href="Hasura.GraphQL.Schema.Select.html#tableWhereArg"><span class="hs-identifier hs-var">tableWhereArg</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052941"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-622"></span><span>  </span><span id="local-6989586621687052943"><span class="annot"><span class="annottext">InputFieldsParser
  n (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
</span><a href="#local-6989586621687052943"><span class="hs-identifier hs-var">orderByParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT
     r
     m
     (InputFieldsParser
        n (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
TableInfo b
-&gt; SchemaT
     r
     m
     (InputFieldsParser
        n (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))))
</span><a href="Hasura.GraphQL.Schema.Select.html#tableOrderByArg"><span class="hs-identifier hs-var">tableOrderByArg</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052941"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-623"></span><span>  </span><span id="local-6989586621687052944"><span class="annot"><span class="annottext">InputFieldsParser n (Maybe (NonEmpty (Column b)))
</span><a href="#local-6989586621687052944"><span class="hs-identifier hs-var">distinctParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT r m (InputFieldsParser n (Maybe (NonEmpty (Column b))))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
TableInfo b
-&gt; SchemaT r m (InputFieldsParser n (Maybe (NonEmpty (Column b))))
</span><a href="Hasura.GraphQL.Schema.Select.html#tableDistinctArg"><span class="hs-identifier hs-var">tableDistinctArg</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052941"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-624"></span><span>  </span><span class="annot"><span class="annottext">InputFieldsParser n (Maybe (AnnBoolExp b (UnpreparedValue b)))
-&gt; InputFieldsParser
     n (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
-&gt; InputFieldsParser n (Maybe (NonEmpty (Column b)))
-&gt; SchemaT r m (InputFieldsParser n (SelectArgs b))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
InputFieldsParser n (Maybe (AnnBoolExp b (UnpreparedValue b)))
-&gt; InputFieldsParser
     n (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
-&gt; InputFieldsParser n (Maybe (NonEmpty (Column b)))
-&gt; SchemaT r m (InputFieldsParser n (SelectArgs b))
</span><a href="Hasura.GraphQL.Schema.Select.html#defaultArgsParser"><span class="hs-identifier hs-var">defaultArgsParser</span></a></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser n (Maybe (AnnBoolExp b (UnpreparedValue b)))
</span><a href="#local-6989586621687052942"><span class="hs-identifier hs-var">whereParser</span></a></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser
  n (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
</span><a href="#local-6989586621687052943"><span class="hs-identifier hs-var">orderByParser</span></a></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser n (Maybe (NonEmpty (Column b)))
</span><a href="#local-6989586621687052944"><span class="hs-identifier hs-var">distinctParser</span></a></span><span>
</span><span id="line-625"></span><span>
</span><span id="line-626"></span><span class="hs-comment">-- | Argument to filter rows returned from table selection</span><span>
</span><span id="line-627"></span><span class="hs-comment">-- &gt; where: table_bool_exp</span><span>
</span><span id="line-628"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tableWhereArg"><span class="hs-identifier hs-type">tableWhereArg</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-629"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687051422"><span class="annot"><a href="#local-6989586621687051422"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621687051423"><span class="annot"><a href="#local-6989586621687051423"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621687051424"><span class="annot"><a href="#local-6989586621687051424"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687051425"><span class="annot"><a href="#local-6989586621687051425"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-630"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.BoolExp.html#AggregationPredicatesSchema"><span class="hs-identifier hs-type">AggregationPredicatesSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051422"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-631"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#MonadBuildSchema"><span class="hs-identifier hs-type">MonadBuildSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051422"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051423"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051424"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051425"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-632"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-633"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#TableInfo"><span class="hs-identifier hs-type">TableInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051422"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-634"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051423"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051424"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#InputFieldsParser"><span class="hs-identifier hs-type">InputFieldsParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051425"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#AnnBoolExp"><span class="hs-identifier hs-type">IR.AnnBoolExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051422"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051422"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-635"></span><span id="tableWhereArg"><span class="annot"><span class="annottext">tableWhereArg :: forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(AggregationPredicatesSchema b, MonadBuildSchema b r m n) =&gt;
TableInfo b
-&gt; SchemaT
     r
     m
     (InputFieldsParser n (Maybe (AnnBoolExp b (UnpreparedValue b))))
</span><a href="Hasura.GraphQL.Schema.Select.html#tableWhereArg"><span class="hs-identifier hs-var hs-var">tableWhereArg</span></a></span></span><span> </span><span id="local-6989586621687052969"><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052969"><span class="hs-identifier hs-var">tableInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-636"></span><span>  </span><span id="local-6989586621687052970"><span class="annot"><span class="annottext">Parser 'Input n (AnnBoolExp b (UnpreparedValue b))
</span><a href="#local-6989586621687052970"><span class="hs-identifier hs-var">boolExpParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT r m (Parser 'Input n (AnnBoolExp b (UnpreparedValue b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(MonadBuildSchema b r m n, AggregationPredicatesSchema b) =&gt;
TableInfo b
-&gt; SchemaT r m (Parser 'Input n (AnnBoolExp b (UnpreparedValue b)))
</span><a href="Hasura.GraphQL.Schema.BoolExp.html#tableBoolExp"><span class="hs-identifier hs-var">tableBoolExp</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687052969"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-637"></span><span>  </span><span class="hs-identifier">pure</span><span>
</span><span id="line-638"></span><span>    </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">(Maybe (Maybe (AnnBoolExp b (UnpreparedValue b)))
 -&gt; Maybe (AnnBoolExp b (UnpreparedValue b)))
-&gt; InputFieldsParser
     MetadataObjId n (Maybe (Maybe (AnnBoolExp b (UnpreparedValue b))))
-&gt; InputFieldsParser n (Maybe (AnnBoolExp b (UnpreparedValue b)))
forall a b.
(a -&gt; b)
-&gt; InputFieldsParser MetadataObjId n a
-&gt; InputFieldsParser MetadataObjId n b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Maybe (AnnBoolExp b (UnpreparedValue b)))
-&gt; Maybe (AnnBoolExp b (UnpreparedValue b))
forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><span class="hs-identifier hs-var">join</span></span><span>
</span><span id="line-639"></span><span>    </span><span class="annot"><span class="annottext">(InputFieldsParser
   MetadataObjId n (Maybe (Maybe (AnnBoolExp b (UnpreparedValue b))))
 -&gt; InputFieldsParser n (Maybe (AnnBoolExp b (UnpreparedValue b))))
-&gt; InputFieldsParser
     MetadataObjId n (Maybe (Maybe (AnnBoolExp b (UnpreparedValue b))))
-&gt; InputFieldsParser n (Maybe (AnnBoolExp b (UnpreparedValue b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser
     MetadataObjId 'Input n (Maybe (AnnBoolExp b (UnpreparedValue b)))
-&gt; InputFieldsParser
     MetadataObjId n (Maybe (Maybe (AnnBoolExp b (UnpreparedValue b))))
forall (m :: * -&gt; *) (k :: Kind) origin a.
(MonadParse m, 'Input &lt;: k) =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin k m a
-&gt; InputFieldsParser origin m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Input.html#fieldOptional"><span class="hs-identifier hs-var">P.fieldOptional</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687052973"><span class="hs-identifier hs-var">whereName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687052974"><span class="hs-identifier hs-var">whereDesc</span></a></span><span>
</span><span id="line-640"></span><span>    </span><span class="annot"><span class="annottext">(Parser
   MetadataObjId 'Input n (Maybe (AnnBoolExp b (UnpreparedValue b)))
 -&gt; InputFieldsParser
      MetadataObjId n (Maybe (Maybe (AnnBoolExp b (UnpreparedValue b)))))
-&gt; Parser
     MetadataObjId 'Input n (Maybe (AnnBoolExp b (UnpreparedValue b)))
-&gt; InputFieldsParser
     MetadataObjId n (Maybe (Maybe (AnnBoolExp b (UnpreparedValue b))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Parser 'Input n (AnnBoolExp b (UnpreparedValue b))
-&gt; Parser
     MetadataObjId 'Input n (Maybe (AnnBoolExp b (UnpreparedValue b)))
forall origin (k :: Kind) (m :: * -&gt; *) a.
(MonadParse m, 'Input &lt;: k) =&gt;
Parser origin k m a -&gt; Parser origin k m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nullable"><span class="hs-identifier hs-var">P.nullable</span></a></span><span> </span><span class="annot"><span class="annottext">Parser 'Input n (AnnBoolExp b (UnpreparedValue b))
</span><a href="#local-6989586621687052970"><span class="hs-identifier hs-var">boolExpParser</span></a></span><span>
</span><span id="line-641"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-642"></span><span>    </span><span id="local-6989586621687052973"><span class="annot"><span class="annottext">whereName :: Name
</span><a href="#local-6989586621687052973"><span class="hs-identifier hs-var hs-var">whereName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_where"><span class="hs-identifier hs-var">Name._where</span></a></span><span>
</span><span id="line-643"></span><span>    </span><span id="local-6989586621687052974"><span class="annot"><span class="annottext">whereDesc :: Maybe Description
</span><a href="#local-6989586621687052974"><span class="hs-identifier hs-var hs-var">whereDesc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Description -&gt; Maybe Description)
-&gt; Description -&gt; Maybe Description
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-var">G.Description</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;filter the rows returned&quot;</span></span><span>
</span><span id="line-644"></span><span>
</span><span id="line-645"></span><span class="hs-comment">-- | Argument to sort rows returned from table selection</span><span>
</span><span id="line-646"></span><span class="hs-comment">-- &gt; order_by: [table_order_by!]</span><span>
</span><span id="line-647"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tableOrderByArg"><span class="hs-identifier hs-type">tableOrderByArg</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-648"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687051427"><span class="annot"><a href="#local-6989586621687051427"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621687051428"><span class="annot"><a href="#local-6989586621687051428"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621687051429"><span class="annot"><a href="#local-6989586621687051429"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687051430"><span class="annot"><a href="#local-6989586621687051430"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-649"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#MonadBuildSchema"><span class="hs-identifier hs-type">MonadBuildSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051427"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051428"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051429"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051430"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-650"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#TableInfo"><span class="hs-identifier hs-type">TableInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051427"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-651"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051428"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051429"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#InputFieldsParser"><span class="hs-identifier hs-type">InputFieldsParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051430"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#AnnotatedOrderByItemG"><span class="hs-identifier hs-type">IR.AnnotatedOrderByItemG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051427"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051427"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-652"></span><span id="tableOrderByArg"><span class="annot"><span class="annottext">tableOrderByArg :: forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
TableInfo b
-&gt; SchemaT
     r
     m
     (InputFieldsParser
        n (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))))
</span><a href="Hasura.GraphQL.Schema.Select.html#tableOrderByArg"><span class="hs-identifier hs-var hs-var">tableOrderByArg</span></a></span></span><span> </span><span id="local-6989586621687053009"><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053009"><span class="hs-identifier hs-var">tableInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-653"></span><span>  </span><span id="local-6989586621687053010"><span class="annot"><span class="annottext">NamingCase
</span><a href="#local-6989586621687053010"><span class="hs-identifier hs-var">tCase</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SourceInfo b -&gt; NamingCase) -&gt; SchemaT r m NamingCase
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">((SourceInfo b -&gt; NamingCase) -&gt; SchemaT r m NamingCase)
-&gt; (SourceInfo b -&gt; NamingCase) -&gt; SchemaT r m NamingCase
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization -&gt; NamingCase
</span><a href="Hasura.RQL.Types.SourceCustomization.html#_rscNamingConvention"><span class="hs-identifier hs-var">_rscNamingConvention</span></a></span><span> </span><span class="annot"><span class="annottext">(ResolvedSourceCustomization -&gt; NamingCase)
-&gt; (SourceInfo b -&gt; ResolvedSourceCustomization)
-&gt; SourceInfo b
-&gt; NamingCase
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType).
SourceInfo b -&gt; ResolvedSourceCustomization
</span><a href="Hasura.RQL.Types.Source.html#_siCustomization"><span class="hs-identifier hs-var">_siCustomization</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687051427"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-654"></span><span>  </span><span id="local-6989586621687053011"><span class="annot"><span class="annottext">Parser 'Input n [AnnotatedOrderByItemG b (UnpreparedValue b)]
</span><a href="#local-6989586621687053011"><span class="hs-identifier hs-var">orderByParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT
     r m (Parser 'Input n [AnnotatedOrderByItemG b (UnpreparedValue b)])
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
TableInfo b
-&gt; SchemaT
     r m (Parser 'Input n [AnnotatedOrderByItemG b (UnpreparedValue b)])
</span><a href="Hasura.GraphQL.Schema.OrderBy.html#tableOrderByExp"><span class="hs-identifier hs-var">tableOrderByExp</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053009"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-655"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053013"><span class="annot"><span class="annottext">orderByName :: Name
</span><a href="#local-6989586621687053013"><span class="hs-identifier hs-var hs-var">orderByName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamingCase -&gt; Name -&gt; Name
</span><a href="Hasura.RQL.Types.SourceCustomization.html#applyFieldNameCaseCust"><span class="hs-identifier hs-var">applyFieldNameCaseCust</span></a></span><span> </span><span class="annot"><span class="annottext">NamingCase
</span><a href="#local-6989586621687053010"><span class="hs-identifier hs-var">tCase</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_order_by"><span class="hs-identifier hs-var">Name._order_by</span></a></span><span>
</span><span id="line-656"></span><span>      </span><span id="local-6989586621687053017"><span class="annot"><span class="annottext">orderByDesc :: Maybe Description
</span><a href="#local-6989586621687053017"><span class="hs-identifier hs-var hs-var">orderByDesc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Description -&gt; Maybe Description)
-&gt; Description -&gt; Maybe Description
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-var">G.Description</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;sort the rows by one or more columns&quot;</span></span><span>
</span><span id="line-657"></span><span>  </span><span class="annot"><span class="annottext">InputFieldsParser
  n (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
-&gt; SchemaT
     r
     m
     (InputFieldsParser
        n (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))))
forall a. a -&gt; SchemaT r m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(InputFieldsParser
   n (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
 -&gt; SchemaT
      r
      m
      (InputFieldsParser
         n
         (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))))
-&gt; InputFieldsParser
     n (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
-&gt; SchemaT
     r
     m
     (InputFieldsParser
        n (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-658"></span><span>    </span><span id="local-6989586621687053018"><span class="annot"><span class="annottext">Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]]
</span><a href="#local-6989586621687053018"><span class="hs-identifier hs-var">maybeOrderByExps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-659"></span><span>      </span><span class="annot"><span class="annottext">(Maybe (Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]])
 -&gt; Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]])
-&gt; InputFieldsParser
     MetadataObjId
     n
     (Maybe (Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]]))
-&gt; InputFieldsParser
     MetadataObjId
     n
     (Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]])
forall a b.
(a -&gt; b)
-&gt; InputFieldsParser MetadataObjId n a
-&gt; InputFieldsParser MetadataObjId n b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]])
-&gt; Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]]
forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><span class="hs-identifier hs-var">join</span></span><span>
</span><span id="line-660"></span><span>        </span><span class="annot"><span class="annottext">(InputFieldsParser
   MetadataObjId
   n
   (Maybe (Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]]))
 -&gt; InputFieldsParser
      MetadataObjId
      n
      (Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]]))
-&gt; InputFieldsParser
     MetadataObjId
     n
     (Maybe (Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]]))
-&gt; InputFieldsParser
     MetadataObjId
     n
     (Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser
     MetadataObjId
     'Input
     n
     (Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]])
-&gt; InputFieldsParser
     MetadataObjId
     n
     (Maybe (Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]]))
forall (m :: * -&gt; *) (k :: Kind) origin a.
(MonadParse m, 'Input &lt;: k) =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin k m a
-&gt; InputFieldsParser origin m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Input.html#fieldOptional"><span class="hs-identifier hs-var">P.fieldOptional</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687053013"><span class="hs-identifier hs-var">orderByName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687053017"><span class="hs-identifier hs-var">orderByDesc</span></a></span><span>
</span><span id="line-661"></span><span>        </span><span class="annot"><span class="annottext">(Parser
   MetadataObjId
   'Input
   n
   (Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]])
 -&gt; InputFieldsParser
      MetadataObjId
      n
      (Maybe (Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]])))
-&gt; Parser
     MetadataObjId
     'Input
     n
     (Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]])
-&gt; InputFieldsParser
     MetadataObjId
     n
     (Maybe (Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]]))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Parser
  MetadataObjId
  'Input
  n
  [[AnnotatedOrderByItemG b (UnpreparedValue b)]]
-&gt; Parser
     MetadataObjId
     'Input
     n
     (Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]])
forall origin (k :: Kind) (m :: * -&gt; *) a.
(MonadParse m, 'Input &lt;: k) =&gt;
Parser origin k m a -&gt; Parser origin k m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nullable"><span class="hs-identifier hs-var">P.nullable</span></a></span><span>
</span><span id="line-662"></span><span>        </span><span class="annot"><span class="annottext">(Parser
   MetadataObjId
   'Input
   n
   [[AnnotatedOrderByItemG b (UnpreparedValue b)]]
 -&gt; Parser
      MetadataObjId
      'Input
      n
      (Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]]))
-&gt; Parser
     MetadataObjId
     'Input
     n
     [[AnnotatedOrderByItemG b (UnpreparedValue b)]]
-&gt; Parser
     MetadataObjId
     'Input
     n
     (Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Parser 'Input n [AnnotatedOrderByItemG b (UnpreparedValue b)]
-&gt; Parser
     MetadataObjId
     'Input
     n
     [[AnnotatedOrderByItemG b (UnpreparedValue b)]]
forall origin (k :: Kind) (m :: * -&gt; *) a.
(MonadParse m, 'Input &lt;: k) =&gt;
Parser origin k m a -&gt; Parser origin k m [a]
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Input.html#list"><span class="hs-identifier hs-var">P.list</span></a></span><span> </span><span class="annot"><span class="annottext">Parser 'Input n [AnnotatedOrderByItemG b (UnpreparedValue b)]
</span><a href="#local-6989586621687053011"><span class="hs-identifier hs-var">orderByParser</span></a></span><span>
</span><span id="line-663"></span><span>    </span><span class="hs-identifier">pure</span><span> </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]]
</span><a href="#local-6989586621687053018"><span class="hs-identifier hs-var">maybeOrderByExps</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [[AnnotatedOrderByItemG b (UnpreparedValue b)]]
-&gt; ([[AnnotatedOrderByItemG b (UnpreparedValue b)]]
    -&gt; Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
-&gt; Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
forall a b. Maybe a -&gt; (a -&gt; Maybe b) -&gt; Maybe b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[AnnotatedOrderByItemG b (UnpreparedValue b)]
-&gt; Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><span class="hs-identifier hs-var">NE.nonEmpty</span></span><span> </span><span class="annot"><span class="annottext">([AnnotatedOrderByItemG b (UnpreparedValue b)]
 -&gt; Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
-&gt; ([[AnnotatedOrderByItemG b (UnpreparedValue b)]]
    -&gt; [AnnotatedOrderByItemG b (UnpreparedValue b)])
-&gt; [[AnnotatedOrderByItemG b (UnpreparedValue b)]]
-&gt; Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[[AnnotatedOrderByItemG b (UnpreparedValue b)]]
-&gt; [AnnotatedOrderByItemG b (UnpreparedValue b)]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span>
</span><span id="line-664"></span><span>
</span><span id="line-665"></span><span class="hs-comment">-- | Argument to distinct select on columns returned from table selection</span><span>
</span><span id="line-666"></span><span class="hs-comment">-- &gt; distinct_on: [table_select_column!]</span><span>
</span><span id="line-667"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tableDistinctArg"><span class="hs-identifier hs-type">tableDistinctArg</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-668"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687051431"><span class="annot"><a href="#local-6989586621687051431"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621687051432"><span class="annot"><a href="#local-6989586621687051432"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621687051433"><span class="annot"><a href="#local-6989586621687051433"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687051434"><span class="annot"><a href="#local-6989586621687051434"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-669"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#MonadBuildSchema"><span class="hs-identifier hs-type">MonadBuildSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051431"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051432"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051433"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051434"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-670"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#TableInfo"><span class="hs-identifier hs-type">TableInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051431"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-671"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051432"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051433"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#InputFieldsParser"><span class="hs-identifier hs-type">InputFieldsParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051434"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#Column"><span class="hs-identifier hs-type">Column</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051431"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-672"></span><span id="tableDistinctArg"><span class="annot"><span class="annottext">tableDistinctArg :: forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
TableInfo b
-&gt; SchemaT r m (InputFieldsParser n (Maybe (NonEmpty (Column b))))
</span><a href="Hasura.GraphQL.Schema.Select.html#tableDistinctArg"><span class="hs-identifier hs-var hs-var">tableDistinctArg</span></a></span></span><span> </span><span id="local-6989586621687053054"><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053054"><span class="hs-identifier hs-var">tableInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-673"></span><span>  </span><span id="local-6989586621687053055"><span class="annot"><span class="annottext">NamingCase
</span><a href="#local-6989586621687053055"><span class="hs-identifier hs-var">tCase</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SourceInfo b -&gt; NamingCase) -&gt; SchemaT r m NamingCase
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">((SourceInfo b -&gt; NamingCase) -&gt; SchemaT r m NamingCase)
-&gt; (SourceInfo b -&gt; NamingCase) -&gt; SchemaT r m NamingCase
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization -&gt; NamingCase
</span><a href="Hasura.RQL.Types.SourceCustomization.html#_rscNamingConvention"><span class="hs-identifier hs-var">_rscNamingConvention</span></a></span><span> </span><span class="annot"><span class="annottext">(ResolvedSourceCustomization -&gt; NamingCase)
-&gt; (SourceInfo b -&gt; ResolvedSourceCustomization)
-&gt; SourceInfo b
-&gt; NamingCase
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType).
SourceInfo b -&gt; ResolvedSourceCustomization
</span><a href="Hasura.RQL.Types.Source.html#_siCustomization"><span class="hs-identifier hs-var">_siCustomization</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687051431"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-674"></span><span>  </span><span id="local-6989586621687053056"><span class="annot"><span class="annottext">Maybe (Parser MetadataObjId 'Both n (Column b))
</span><a href="#local-6989586621687053056"><span class="hs-identifier hs-var">columnsEnum</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT r m (Maybe (Parser MetadataObjId 'Both n (Column b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
TableInfo b -&gt; SchemaT r m (Maybe (Parser 'Both n (Column b)))
</span><a href="Hasura.GraphQL.Schema.Table.html#tableSelectColumnsEnum"><span class="hs-identifier hs-var">tableSelectColumnsEnum</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053054"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-675"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053058"><span class="annot"><span class="annottext">distinctOnName :: Name
</span><a href="#local-6989586621687053058"><span class="hs-identifier hs-var hs-var">distinctOnName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamingCase -&gt; Name -&gt; Name
</span><a href="Hasura.RQL.Types.SourceCustomization.html#applyFieldNameCaseCust"><span class="hs-identifier hs-var">applyFieldNameCaseCust</span></a></span><span> </span><span class="annot"><span class="annottext">NamingCase
</span><a href="#local-6989586621687053055"><span class="hs-identifier hs-var">tCase</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_distinct_on"><span class="hs-identifier hs-var">Name._distinct_on</span></a></span><span>
</span><span id="line-676"></span><span>      </span><span id="local-6989586621687053061"><span class="annot"><span class="annottext">distinctOnDesc :: Maybe Description
</span><a href="#local-6989586621687053061"><span class="hs-identifier hs-var hs-var">distinctOnDesc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Description -&gt; Maybe Description)
-&gt; Description -&gt; Maybe Description
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-var">G.Description</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;distinct select on columns&quot;</span></span><span>
</span><span id="line-677"></span><span>  </span><span class="annot"><span class="annottext">InputFieldsParser n (Maybe (NonEmpty (Column b)))
-&gt; SchemaT r m (InputFieldsParser n (Maybe (NonEmpty (Column b))))
forall a. a -&gt; SchemaT r m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-678"></span><span>    </span><span id="local-6989586621687053062"><span class="annot"><span class="annottext">Maybe [Column b]
</span><a href="#local-6989586621687053062"><span class="hs-identifier hs-var">maybeDistinctOnColumns</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-679"></span><span>      </span><span class="annot"><span class="annottext">Maybe (Maybe [Column b]) -&gt; Maybe [Column b]
forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><span class="hs-identifier hs-var">join</span></span><span>
</span><span id="line-680"></span><span>        </span><span class="annot"><span class="annottext">(Maybe (Maybe [Column b]) -&gt; Maybe [Column b])
-&gt; (Maybe (Maybe (Maybe [Column b])) -&gt; Maybe (Maybe [Column b]))
-&gt; Maybe (Maybe (Maybe [Column b]))
-&gt; Maybe [Column b]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Maybe (Maybe [Column b])) -&gt; Maybe (Maybe [Column b])
forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><span class="hs-identifier hs-var">join</span></span><span>
</span><span id="line-681"></span><span>        </span><span class="annot"><span class="annottext">(Maybe (Maybe (Maybe [Column b])) -&gt; Maybe [Column b])
-&gt; InputFieldsParser
     MetadataObjId n (Maybe (Maybe (Maybe [Column b])))
-&gt; InputFieldsParser MetadataObjId n (Maybe [Column b])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Parser MetadataObjId 'Both n (Column b))
-&gt; (Parser MetadataObjId 'Both n (Column b)
    -&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe [Column b])))
-&gt; InputFieldsParser
     MetadataObjId n (Maybe (Maybe (Maybe [Column b])))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><span class="hs-identifier hs-var">for</span></span><span>
</span><span id="line-682"></span><span>          </span><span class="annot"><span class="annottext">Maybe (Parser MetadataObjId 'Both n (Column b))
</span><a href="#local-6989586621687053056"><span class="hs-identifier hs-var">columnsEnum</span></a></span><span>
</span><span id="line-683"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser MetadataObjId 'Both n (Maybe [Column b])
-&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe [Column b]))
forall (m :: * -&gt; *) (k :: Kind) origin a.
(MonadParse m, 'Input &lt;: k) =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin k m a
-&gt; InputFieldsParser origin m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Input.html#fieldOptional"><span class="hs-identifier hs-var">P.fieldOptional</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687053058"><span class="hs-identifier hs-var">distinctOnName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687053061"><span class="hs-identifier hs-var">distinctOnDesc</span></a></span><span> </span><span class="annot"><span class="annottext">(Parser MetadataObjId 'Both n (Maybe [Column b])
 -&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe [Column b])))
-&gt; (Parser MetadataObjId 'Both n (Column b)
    -&gt; Parser MetadataObjId 'Both n (Maybe [Column b]))
-&gt; Parser MetadataObjId 'Both n (Column b)
-&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe [Column b]))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Both n [Column b]
-&gt; Parser MetadataObjId 'Both n (Maybe [Column b])
forall origin (k :: Kind) (m :: * -&gt; *) a.
(MonadParse m, 'Input &lt;: k) =&gt;
Parser origin k m a -&gt; Parser origin k m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nullable"><span class="hs-identifier hs-var">P.nullable</span></a></span><span> </span><span class="annot"><span class="annottext">(Parser MetadataObjId 'Both n [Column b]
 -&gt; Parser MetadataObjId 'Both n (Maybe [Column b]))
-&gt; (Parser MetadataObjId 'Both n (Column b)
    -&gt; Parser MetadataObjId 'Both n [Column b])
-&gt; Parser MetadataObjId 'Both n (Column b)
-&gt; Parser MetadataObjId 'Both n (Maybe [Column b])
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Both n (Column b)
-&gt; Parser MetadataObjId 'Both n [Column b]
forall origin (k :: Kind) (m :: * -&gt; *) a.
(MonadParse m, 'Input &lt;: k) =&gt;
Parser origin k m a -&gt; Parser origin k m [a]
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Input.html#list"><span class="hs-identifier hs-var">P.list</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-684"></span><span>    </span><span class="hs-identifier">pure</span><span> </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">Maybe [Column b]
</span><a href="#local-6989586621687053062"><span class="hs-identifier hs-var">maybeDistinctOnColumns</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [Column b]
-&gt; ([Column b] -&gt; Maybe (NonEmpty (Column b)))
-&gt; Maybe (NonEmpty (Column b))
forall a b. Maybe a -&gt; (a -&gt; Maybe b) -&gt; Maybe b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[Column b] -&gt; Maybe (NonEmpty (Column b))
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><span class="hs-identifier hs-var">NE.nonEmpty</span></span><span>
</span><span id="line-685"></span><span>
</span><span id="line-686"></span><span class="hs-comment">-- | Argument to limit rows returned from table selection</span><span>
</span><span id="line-687"></span><span class="hs-comment">-- &gt; limit: NonNegativeInt</span><span>
</span><span id="line-688"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tableLimitArg"><span class="hs-identifier hs-type">tableLimitArg</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-689"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687051482"><span class="annot"><a href="#local-6989586621687051482"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-690"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Class.html#MonadParse"><span class="hs-identifier hs-type">MonadParse</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051482"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-691"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#InputFieldsParser"><span class="hs-identifier hs-type">InputFieldsParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051482"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-692"></span><span id="tableLimitArg"><span class="annot"><span class="annottext">tableLimitArg :: forall (n :: * -&gt; *).
MonadParse n =&gt;
InputFieldsParser n (Maybe Int)
</span><a href="Hasura.GraphQL.Schema.Select.html#tableLimitArg"><span class="hs-identifier hs-var hs-var">tableLimitArg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-693"></span><span>  </span><span class="annot"><span class="annottext">(Maybe (Maybe Int32) -&gt; Maybe Int)
-&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe Int32))
-&gt; InputFieldsParser MetadataObjId n (Maybe Int)
forall a b.
(a -&gt; b)
-&gt; InputFieldsParser MetadataObjId n a
-&gt; InputFieldsParser MetadataObjId n b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int32 -&gt; Int) -&gt; Maybe Int32 -&gt; Maybe Int
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Int32 -&gt; Maybe Int)
-&gt; (Maybe (Maybe Int32) -&gt; Maybe Int32)
-&gt; Maybe (Maybe Int32)
-&gt; Maybe Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Maybe Int32) -&gt; Maybe Int32
forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><span class="hs-identifier hs-var">join</span></span><span class="hs-special">)</span><span>
</span><span id="line-694"></span><span>    </span><span class="annot"><span class="annottext">(InputFieldsParser MetadataObjId n (Maybe (Maybe Int32))
 -&gt; InputFieldsParser MetadataObjId n (Maybe Int))
-&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe Int32))
-&gt; InputFieldsParser MetadataObjId n (Maybe Int)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser MetadataObjId 'Both n (Maybe Int32)
-&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe Int32))
forall (m :: * -&gt; *) (k :: Kind) origin a.
(MonadParse m, 'Input &lt;: k) =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin k m a
-&gt; InputFieldsParser origin m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Input.html#fieldOptional"><span class="hs-identifier hs-var">P.fieldOptional</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687053079"><span class="hs-identifier hs-var">limitName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687053080"><span class="hs-identifier hs-var">limitDesc</span></a></span><span>
</span><span id="line-695"></span><span>    </span><span class="annot"><span class="annottext">(Parser MetadataObjId 'Both n (Maybe Int32)
 -&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe Int32)))
-&gt; Parser MetadataObjId 'Both n (Maybe Int32)
-&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe Int32))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Both n Int32
-&gt; Parser MetadataObjId 'Both n (Maybe Int32)
forall origin (k :: Kind) (m :: * -&gt; *) a.
(MonadParse m, 'Input &lt;: k) =&gt;
Parser origin k m a -&gt; Parser origin k m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nullable"><span class="hs-identifier hs-var">P.nullable</span></a></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Both n Int32
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
Parser origin 'Both m Int32
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Scalars.html#nonNegativeInt"><span class="hs-identifier hs-var">P.nonNegativeInt</span></a></span><span>
</span><span id="line-696"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-697"></span><span>    </span><span id="local-6989586621687053079"><span class="annot"><span class="annottext">limitName :: Name
</span><a href="#local-6989586621687053079"><span class="hs-identifier hs-var hs-var">limitName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_limit"><span class="hs-identifier hs-var">Name._limit</span></a></span><span>
</span><span id="line-698"></span><span>    </span><span id="local-6989586621687053080"><span class="annot"><span class="annottext">limitDesc :: Maybe Description
</span><a href="#local-6989586621687053080"><span class="hs-identifier hs-var hs-var">limitDesc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Description -&gt; Maybe Description)
-&gt; Description -&gt; Maybe Description
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-var">G.Description</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;limit the number of rows returned&quot;</span></span><span>
</span><span id="line-699"></span><span>
</span><span id="line-700"></span><span class="hs-comment">-- | Argument to skip some rows, in conjunction with order_by</span><span>
</span><span id="line-701"></span><span class="hs-comment">-- &gt; offset: BigInt</span><span>
</span><span id="line-702"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tableOffsetArg"><span class="hs-identifier hs-type">tableOffsetArg</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-703"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687051488"><span class="annot"><a href="#local-6989586621687051488"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-704"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Class.html#MonadParse"><span class="hs-identifier hs-type">MonadParse</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051488"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-705"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#InputFieldsParser"><span class="hs-identifier hs-type">InputFieldsParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051488"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int64</span></span><span class="hs-special">)</span><span>
</span><span id="line-706"></span><span id="tableOffsetArg"><span class="annot"><span class="annottext">tableOffsetArg :: forall (n :: * -&gt; *).
MonadParse n =&gt;
InputFieldsParser n (Maybe Int64)
</span><a href="Hasura.GraphQL.Schema.Select.html#tableOffsetArg"><span class="hs-identifier hs-var hs-var">tableOffsetArg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-707"></span><span>  </span><span class="annot"><span class="annottext">(Maybe (Maybe Int64) -&gt; Maybe Int64)
-&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe Int64))
-&gt; InputFieldsParser MetadataObjId n (Maybe Int64)
forall a b.
(a -&gt; b)
-&gt; InputFieldsParser MetadataObjId n a
-&gt; InputFieldsParser MetadataObjId n b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Maybe Int64) -&gt; Maybe Int64
forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><span class="hs-identifier hs-var">join</span></span><span>
</span><span id="line-708"></span><span>    </span><span class="annot"><span class="annottext">(InputFieldsParser MetadataObjId n (Maybe (Maybe Int64))
 -&gt; InputFieldsParser MetadataObjId n (Maybe Int64))
-&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe Int64))
-&gt; InputFieldsParser MetadataObjId n (Maybe Int64)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser MetadataObjId 'Both n (Maybe Int64)
-&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe Int64))
forall (m :: * -&gt; *) (k :: Kind) origin a.
(MonadParse m, 'Input &lt;: k) =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin k m a
-&gt; InputFieldsParser origin m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Input.html#fieldOptional"><span class="hs-identifier hs-var">P.fieldOptional</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687053095"><span class="hs-identifier hs-var">offsetName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687053096"><span class="hs-identifier hs-var">offsetDesc</span></a></span><span>
</span><span id="line-709"></span><span>    </span><span class="annot"><span class="annottext">(Parser MetadataObjId 'Both n (Maybe Int64)
 -&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe Int64)))
-&gt; Parser MetadataObjId 'Both n (Maybe Int64)
-&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe Int64))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Both n Int64
-&gt; Parser MetadataObjId 'Both n (Maybe Int64)
forall origin (k :: Kind) (m :: * -&gt; *) a.
(MonadParse m, 'Input &lt;: k) =&gt;
Parser origin k m a -&gt; Parser origin k m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nullable"><span class="hs-identifier hs-var">P.nullable</span></a></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Both n Int64
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
Parser origin 'Both m Int64
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Scalars.html#bigInt"><span class="hs-identifier hs-var">P.bigInt</span></a></span><span>
</span><span id="line-710"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-711"></span><span>    </span><span id="local-6989586621687053095"><span class="annot"><span class="annottext">offsetName :: Name
</span><a href="#local-6989586621687053095"><span class="hs-identifier hs-var hs-var">offsetName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_offset"><span class="hs-identifier hs-var">Name._offset</span></a></span><span>
</span><span id="line-712"></span><span>    </span><span id="local-6989586621687053096"><span class="annot"><span class="annottext">offsetDesc :: Maybe Description
</span><a href="#local-6989586621687053096"><span class="hs-identifier hs-var hs-var">offsetDesc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Description -&gt; Maybe Description)
-&gt; Description -&gt; Maybe Description
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-var">G.Description</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;skip the first n rows. Use only with order_by&quot;</span></span><span>
</span><span id="line-713"></span><span>
</span><span id="line-714"></span><span class="hs-comment">-- | Arguments for a table connection selection</span><span>
</span><span id="line-715"></span><span class="hs-comment">--</span><span>
</span><span id="line-716"></span><span class="hs-comment">-- &gt; distinct_on: [table_select_column!]</span><span>
</span><span id="line-717"></span><span class="hs-comment">-- &gt; order_by: [table_order_by!]</span><span>
</span><span id="line-718"></span><span class="hs-comment">-- &gt; where: table_bool_exp</span><span>
</span><span id="line-719"></span><span class="hs-comment">-- &gt; first: Int</span><span>
</span><span id="line-720"></span><span class="hs-comment">-- &gt; last: Int</span><span>
</span><span id="line-721"></span><span class="hs-comment">-- &gt; before: String</span><span>
</span><span id="line-722"></span><span class="hs-comment">-- &gt; after: String</span><span>
</span><span id="line-723"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tableConnectionArgs"><span class="hs-identifier hs-type">tableConnectionArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-724"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687051167"><span class="annot"><a href="#local-6989586621687051167"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621687051168"><span class="annot"><a href="#local-6989586621687051168"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621687051169"><span class="annot"><a href="#local-6989586621687051169"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687051170"><span class="annot"><a href="#local-6989586621687051170"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-725"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#MonadBuildSchema"><span class="hs-identifier hs-type">MonadBuildSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051167"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051168"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051169"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051170"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.BoolExp.html#AggregationPredicatesSchema"><span class="hs-identifier hs-type">AggregationPredicatesSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051167"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-726"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#PrimaryKeyColumns"><span class="hs-identifier hs-type">PrimaryKeyColumns</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051167"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-727"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#TableInfo"><span class="hs-identifier hs-type">TableInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051167"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-728"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span>
</span><span id="line-729"></span><span>    </span><span class="annot"><a href="#local-6989586621687051168"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-730"></span><span>    </span><span class="annot"><a href="#local-6989586621687051169"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-731"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#InputFieldsParser"><span class="hs-identifier hs-type">InputFieldsParser</span></a></span><span>
</span><span id="line-732"></span><span>        </span><span class="annot"><a href="#local-6989586621687051170"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-733"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SelectArgs"><span class="hs-identifier hs-type">SelectArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051167"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-734"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#ConnectionSplit"><span class="hs-identifier hs-type">IR.ConnectionSplit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051167"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051167"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-735"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Hasura.RQL.IR.Select.html#ConnectionSlice"><span class="hs-identifier hs-type">IR.ConnectionSlice</span></a></span><span>
</span><span id="line-736"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-737"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-738"></span><span id="tableConnectionArgs"><span class="annot"><span class="annottext">tableConnectionArgs :: forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(MonadBuildSchema b r m n, AggregationPredicatesSchema b) =&gt;
PrimaryKeyColumns b
-&gt; TableInfo b
-&gt; SchemaT
     r
     m
     (InputFieldsParser
        n
        (SelectArgs b,
         Maybe (NonEmpty (ConnectionSplit b (UnpreparedValue b))),
         Maybe ConnectionSlice))
</span><a href="Hasura.GraphQL.Schema.Select.html#tableConnectionArgs"><span class="hs-identifier hs-var hs-var">tableConnectionArgs</span></a></span></span><span> </span><span id="local-6989586621687053206"><span class="annot"><span class="annottext">PrimaryKeyColumns b
</span><a href="#local-6989586621687053206"><span class="hs-identifier hs-var">pkeyColumns</span></a></span></span><span> </span><span id="local-6989586621687053207"><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053207"><span class="hs-identifier hs-var">tableInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-739"></span><span>  </span><span id="local-6989586621687053208"><span class="annot"><span class="annottext">InputFieldsParser n (Maybe (AnnBoolExp b (UnpreparedValue b)))
</span><a href="#local-6989586621687053208"><span class="hs-identifier hs-var">whereParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT
     r
     m
     (InputFieldsParser n (Maybe (AnnBoolExp b (UnpreparedValue b))))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(AggregationPredicatesSchema b, MonadBuildSchema b r m n) =&gt;
TableInfo b
-&gt; SchemaT
     r
     m
     (InputFieldsParser n (Maybe (AnnBoolExp b (UnpreparedValue b))))
</span><a href="Hasura.GraphQL.Schema.Select.html#tableWhereArg"><span class="hs-identifier hs-var">tableWhereArg</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053207"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-740"></span><span>  </span><span id="local-6989586621687053209"><span class="annot"><span class="annottext">InputFieldsParser
  MetadataObjId
  n
  (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
</span><a href="#local-6989586621687053209"><span class="hs-identifier hs-var">orderByParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
 -&gt; Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
-&gt; InputFieldsParser
     MetadataObjId
     n
     (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
-&gt; InputFieldsParser
     MetadataObjId
     n
     (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
forall a b.
(a -&gt; b)
-&gt; InputFieldsParser MetadataObjId n a
-&gt; InputFieldsParser MetadataObjId n b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))
 -&gt; NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
-&gt; Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
-&gt; Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))
-&gt; NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))
forall v.
NonEmpty (AnnotatedOrderByItemG b v)
-&gt; NonEmpty (AnnotatedOrderByItemG b v)
</span><a href="#local-6989586621687053210"><span class="hs-identifier hs-var">appendPrimaryKeyOrderBy</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(InputFieldsParser
   MetadataObjId
   n
   (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
 -&gt; InputFieldsParser
      MetadataObjId
      n
      (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))))
-&gt; SchemaT
     r
     m
     (InputFieldsParser
        MetadataObjId
        n
        (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))))
-&gt; SchemaT
     r
     m
     (InputFieldsParser
        MetadataObjId
        n
        (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT
     r
     m
     (InputFieldsParser
        MetadataObjId
        n
        (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
TableInfo b
-&gt; SchemaT
     r
     m
     (InputFieldsParser
        n (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))))
</span><a href="Hasura.GraphQL.Schema.Select.html#tableOrderByArg"><span class="hs-identifier hs-var">tableOrderByArg</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053207"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-741"></span><span>  </span><span id="local-6989586621687053211"><span class="annot"><span class="annottext">InputFieldsParser MetadataObjId n (Maybe (NonEmpty (Column b)))
</span><a href="#local-6989586621687053211"><span class="hs-identifier hs-var">distinctParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT
     r
     m
     (InputFieldsParser MetadataObjId n (Maybe (NonEmpty (Column b))))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
TableInfo b
-&gt; SchemaT r m (InputFieldsParser n (Maybe (NonEmpty (Column b))))
</span><a href="Hasura.GraphQL.Schema.Select.html#tableDistinctArg"><span class="hs-identifier hs-var">tableDistinctArg</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053207"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-742"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053224"><span class="annot"><span class="annottext">maybeFirst :: InputFieldsParser origin n (Maybe Int32)
</span><a href="#local-6989586621687053224"><span class="hs-identifier hs-var hs-var">maybeFirst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Maybe (Maybe Int32) -&gt; Maybe Int32)
-&gt; InputFieldsParser origin n (Maybe (Maybe Int32))
-&gt; InputFieldsParser origin n (Maybe Int32)
forall a b.
(a -&gt; b)
-&gt; InputFieldsParser origin n a -&gt; InputFieldsParser origin n b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Maybe Int32) -&gt; Maybe Int32
forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><span class="hs-identifier hs-var">join</span></span><span> </span><span class="annot"><span class="annottext">(InputFieldsParser origin n (Maybe (Maybe Int32))
 -&gt; InputFieldsParser origin n (Maybe Int32))
-&gt; InputFieldsParser origin n (Maybe (Maybe Int32))
-&gt; InputFieldsParser origin n (Maybe Int32)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser origin 'Both n (Maybe Int32)
-&gt; InputFieldsParser origin n (Maybe (Maybe Int32))
forall (m :: * -&gt; *) (k :: Kind) origin a.
(MonadParse m, 'Input &lt;: k) =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin k m a
-&gt; InputFieldsParser origin m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Input.html#fieldOptional"><span class="hs-identifier hs-var">P.fieldOptional</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_first"><span class="hs-identifier hs-var">Name._first</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">(Parser origin 'Both n (Maybe Int32)
 -&gt; InputFieldsParser origin n (Maybe (Maybe Int32)))
-&gt; Parser origin 'Both n (Maybe Int32)
-&gt; InputFieldsParser origin n (Maybe (Maybe Int32))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Parser origin 'Both n Int32 -&gt; Parser origin 'Both n (Maybe Int32)
forall origin (k :: Kind) (m :: * -&gt; *) a.
(MonadParse m, 'Input &lt;: k) =&gt;
Parser origin k m a -&gt; Parser origin k m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nullable"><span class="hs-identifier hs-var">P.nullable</span></a></span><span> </span><span class="annot"><span class="annottext">Parser origin 'Both n Int32
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
Parser origin 'Both m Int32
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Scalars.html#nonNegativeInt"><span class="hs-identifier hs-var">P.nonNegativeInt</span></a></span><span>
</span><span id="line-743"></span><span>      </span><span id="local-6989586621687053238"><span class="annot"><span class="annottext">maybeLast :: InputFieldsParser origin n (Maybe Int32)
</span><a href="#local-6989586621687053238"><span class="hs-identifier hs-var hs-var">maybeLast</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Maybe (Maybe Int32) -&gt; Maybe Int32)
-&gt; InputFieldsParser origin n (Maybe (Maybe Int32))
-&gt; InputFieldsParser origin n (Maybe Int32)
forall a b.
(a -&gt; b)
-&gt; InputFieldsParser origin n a -&gt; InputFieldsParser origin n b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Maybe Int32) -&gt; Maybe Int32
forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><span class="hs-identifier hs-var">join</span></span><span> </span><span class="annot"><span class="annottext">(InputFieldsParser origin n (Maybe (Maybe Int32))
 -&gt; InputFieldsParser origin n (Maybe Int32))
-&gt; InputFieldsParser origin n (Maybe (Maybe Int32))
-&gt; InputFieldsParser origin n (Maybe Int32)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser origin 'Both n (Maybe Int32)
-&gt; InputFieldsParser origin n (Maybe (Maybe Int32))
forall (m :: * -&gt; *) (k :: Kind) origin a.
(MonadParse m, 'Input &lt;: k) =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin k m a
-&gt; InputFieldsParser origin m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Input.html#fieldOptional"><span class="hs-identifier hs-var">P.fieldOptional</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_last"><span class="hs-identifier hs-var">Name._last</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">(Parser origin 'Both n (Maybe Int32)
 -&gt; InputFieldsParser origin n (Maybe (Maybe Int32)))
-&gt; Parser origin 'Both n (Maybe Int32)
-&gt; InputFieldsParser origin n (Maybe (Maybe Int32))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Parser origin 'Both n Int32 -&gt; Parser origin 'Both n (Maybe Int32)
forall origin (k :: Kind) (m :: * -&gt; *) a.
(MonadParse m, 'Input &lt;: k) =&gt;
Parser origin k m a -&gt; Parser origin k m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nullable"><span class="hs-identifier hs-var">P.nullable</span></a></span><span> </span><span class="annot"><span class="annottext">Parser origin 'Both n Int32
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
Parser origin 'Both m Int32
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Scalars.html#nonNegativeInt"><span class="hs-identifier hs-var">P.nonNegativeInt</span></a></span><span>
</span><span id="line-744"></span><span>      </span><span id="local-6989586621687053240"><span class="annot"><span class="annottext">maybeAfter :: InputFieldsParser MetadataObjId n (Maybe ByteString)
</span><a href="#local-6989586621687053240"><span class="hs-identifier hs-var hs-var">maybeAfter</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Maybe (Maybe ByteString) -&gt; Maybe ByteString)
-&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe ByteString))
-&gt; InputFieldsParser MetadataObjId n (Maybe ByteString)
forall a b.
(a -&gt; b)
-&gt; InputFieldsParser MetadataObjId n a
-&gt; InputFieldsParser MetadataObjId n b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Maybe ByteString) -&gt; Maybe ByteString
forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><span class="hs-identifier hs-var">join</span></span><span> </span><span class="annot"><span class="annottext">(InputFieldsParser MetadataObjId n (Maybe (Maybe ByteString))
 -&gt; InputFieldsParser MetadataObjId n (Maybe ByteString))
-&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe ByteString))
-&gt; InputFieldsParser MetadataObjId n (Maybe ByteString)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser MetadataObjId 'Both n (Maybe ByteString)
-&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe ByteString))
forall (m :: * -&gt; *) (k :: Kind) origin a.
(MonadParse m, 'Input &lt;: k) =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin k m a
-&gt; InputFieldsParser origin m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Input.html#fieldOptional"><span class="hs-identifier hs-var">P.fieldOptional</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_after"><span class="hs-identifier hs-var">Name._after</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">(Parser MetadataObjId 'Both n (Maybe ByteString)
 -&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe ByteString)))
-&gt; Parser MetadataObjId 'Both n (Maybe ByteString)
-&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe ByteString))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Both n ByteString
-&gt; Parser MetadataObjId 'Both n (Maybe ByteString)
forall origin (k :: Kind) (m :: * -&gt; *) a.
(MonadParse m, 'Input &lt;: k) =&gt;
Parser origin k m a -&gt; Parser origin k m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nullable"><span class="hs-identifier hs-var">P.nullable</span></a></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Both n ByteString
forall {origin}. Parser origin 'Both n ByteString
</span><a href="#local-6989586621687053242"><span class="hs-identifier hs-var">base64Text</span></a></span><span>
</span><span id="line-745"></span><span>      </span><span id="local-6989586621687053243"><span class="annot"><span class="annottext">maybeBefore :: InputFieldsParser MetadataObjId n (Maybe ByteString)
</span><a href="#local-6989586621687053243"><span class="hs-identifier hs-var hs-var">maybeBefore</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Maybe (Maybe ByteString) -&gt; Maybe ByteString)
-&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe ByteString))
-&gt; InputFieldsParser MetadataObjId n (Maybe ByteString)
forall a b.
(a -&gt; b)
-&gt; InputFieldsParser MetadataObjId n a
-&gt; InputFieldsParser MetadataObjId n b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Maybe ByteString) -&gt; Maybe ByteString
forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><span class="hs-identifier hs-var">join</span></span><span> </span><span class="annot"><span class="annottext">(InputFieldsParser MetadataObjId n (Maybe (Maybe ByteString))
 -&gt; InputFieldsParser MetadataObjId n (Maybe ByteString))
-&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe ByteString))
-&gt; InputFieldsParser MetadataObjId n (Maybe ByteString)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser MetadataObjId 'Both n (Maybe ByteString)
-&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe ByteString))
forall (m :: * -&gt; *) (k :: Kind) origin a.
(MonadParse m, 'Input &lt;: k) =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin k m a
-&gt; InputFieldsParser origin m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Input.html#fieldOptional"><span class="hs-identifier hs-var">P.fieldOptional</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_before"><span class="hs-identifier hs-var">Name._before</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">(Parser MetadataObjId 'Both n (Maybe ByteString)
 -&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe ByteString)))
-&gt; Parser MetadataObjId 'Both n (Maybe ByteString)
-&gt; InputFieldsParser MetadataObjId n (Maybe (Maybe ByteString))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Both n ByteString
-&gt; Parser MetadataObjId 'Both n (Maybe ByteString)
forall origin (k :: Kind) (m :: * -&gt; *) a.
(MonadParse m, 'Input &lt;: k) =&gt;
Parser origin k m a -&gt; Parser origin k m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nullable"><span class="hs-identifier hs-var">P.nullable</span></a></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Both n ByteString
forall {origin}. Parser origin 'Both n ByteString
</span><a href="#local-6989586621687053242"><span class="hs-identifier hs-var">base64Text</span></a></span><span>
</span><span id="line-746"></span><span>      </span><span id="local-6989586621687053245"><span class="annot"><span class="annottext">firstAndLast :: InputFieldsParser MetadataObjId n (Maybe Int32, Maybe Int32)
</span><a href="#local-6989586621687053245"><span class="hs-identifier hs-var hs-var">firstAndLast</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe Int32 -&gt; Maybe Int32 -&gt; (Maybe Int32, Maybe Int32))
-&gt; InputFieldsParser MetadataObjId n (Maybe Int32)
-&gt; InputFieldsParser
     MetadataObjId n (Maybe Int32 -&gt; (Maybe Int32, Maybe Int32))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser MetadataObjId n (Maybe Int32)
forall {origin}. InputFieldsParser origin n (Maybe Int32)
</span><a href="#local-6989586621687053224"><span class="hs-identifier hs-var">maybeFirst</span></a></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser
  MetadataObjId n (Maybe Int32 -&gt; (Maybe Int32, Maybe Int32))
-&gt; InputFieldsParser MetadataObjId n (Maybe Int32)
-&gt; InputFieldsParser MetadataObjId n (Maybe Int32, Maybe Int32)
forall a b.
InputFieldsParser MetadataObjId n (a -&gt; b)
-&gt; InputFieldsParser MetadataObjId n a
-&gt; InputFieldsParser MetadataObjId n b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser MetadataObjId n (Maybe Int32)
forall {origin}. InputFieldsParser origin n (Maybe Int32)
</span><a href="#local-6989586621687053238"><span class="hs-identifier hs-var">maybeLast</span></a></span><span>
</span><span id="line-747"></span><span>      </span><span id="local-6989586621687053246"><span class="annot"><span class="annottext">afterBeforeAndOrderBy :: InputFieldsParser
  MetadataObjId
  n
  (Maybe ByteString, Maybe ByteString,
   Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
</span><a href="#local-6989586621687053246"><span class="hs-identifier hs-var hs-var">afterBeforeAndOrderBy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe ByteString
 -&gt; Maybe ByteString
 -&gt; Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
 -&gt; (Maybe ByteString, Maybe ByteString,
     Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))))
-&gt; InputFieldsParser MetadataObjId n (Maybe ByteString)
-&gt; InputFieldsParser
     MetadataObjId
     n
     (Maybe ByteString
      -&gt; Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
      -&gt; (Maybe ByteString, Maybe ByteString,
          Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser MetadataObjId n (Maybe ByteString)
</span><a href="#local-6989586621687053240"><span class="hs-identifier hs-var">maybeAfter</span></a></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser
  MetadataObjId
  n
  (Maybe ByteString
   -&gt; Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
   -&gt; (Maybe ByteString, Maybe ByteString,
       Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))))
-&gt; InputFieldsParser MetadataObjId n (Maybe ByteString)
-&gt; InputFieldsParser
     MetadataObjId
     n
     (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
      -&gt; (Maybe ByteString, Maybe ByteString,
          Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))))
forall a b.
InputFieldsParser MetadataObjId n (a -&gt; b)
-&gt; InputFieldsParser MetadataObjId n a
-&gt; InputFieldsParser MetadataObjId n b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser MetadataObjId n (Maybe ByteString)
</span><a href="#local-6989586621687053243"><span class="hs-identifier hs-var">maybeBefore</span></a></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser
  MetadataObjId
  n
  (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
   -&gt; (Maybe ByteString, Maybe ByteString,
       Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))))
-&gt; InputFieldsParser
     MetadataObjId
     n
     (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
-&gt; InputFieldsParser
     MetadataObjId
     n
     (Maybe ByteString, Maybe ByteString,
      Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
forall a b.
InputFieldsParser MetadataObjId n (a -&gt; b)
-&gt; InputFieldsParser MetadataObjId n a
-&gt; InputFieldsParser MetadataObjId n b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser
  MetadataObjId
  n
  (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
</span><a href="#local-6989586621687053209"><span class="hs-identifier hs-var">orderByParser</span></a></span><span>
</span><span id="line-748"></span><span>
</span><span id="line-749"></span><span>  </span><span class="hs-identifier">pure</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-750"></span><span>    </span><span id="local-6989586621687053247"><span class="annot"><span class="annottext">Maybe (AnnBoolExp b (UnpreparedValue b))
</span><a href="#local-6989586621687053247"><span class="hs-identifier hs-var">whereF</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">InputFieldsParser n (Maybe (AnnBoolExp b (UnpreparedValue b)))
</span><a href="#local-6989586621687053208"><span class="hs-identifier hs-var">whereParser</span></a></span><span>
</span><span id="line-751"></span><span>    </span><span id="local-6989586621687053248"><span class="annot"><span class="annottext">Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
</span><a href="#local-6989586621687053248"><span class="hs-identifier hs-var">orderBy</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">InputFieldsParser
  MetadataObjId
  n
  (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
</span><a href="#local-6989586621687053209"><span class="hs-identifier hs-var">orderByParser</span></a></span><span>
</span><span id="line-752"></span><span>    </span><span id="local-6989586621687053249"><span class="annot"><span class="annottext">Maybe (NonEmpty (Column b))
</span><a href="#local-6989586621687053249"><span class="hs-identifier hs-var">distinct</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">InputFieldsParser MetadataObjId n (Maybe (NonEmpty (Column b)))
</span><a href="#local-6989586621687053211"><span class="hs-identifier hs-var">distinctParser</span></a></span><span>
</span><span id="line-753"></span><span>    </span><span id="local-6989586621687053250"><span class="annot"><span class="annottext">Maybe (NonEmpty (ConnectionSplit b (UnpreparedValue b)))
</span><a href="#local-6989586621687053250"><span class="hs-identifier hs-var">split</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-754"></span><span>      </span><span class="annot"><span class="annottext">InputFieldsParser
  MetadataObjId
  n
  (Maybe ByteString, Maybe ByteString,
   Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
</span><a href="#local-6989586621687053246"><span class="hs-identifier hs-var">afterBeforeAndOrderBy</span></a></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser
  MetadataObjId
  n
  (Maybe ByteString, Maybe ByteString,
   Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
-&gt; ((Maybe ByteString, Maybe ByteString,
     Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
    -&gt; n (Maybe (NonEmpty (ConnectionSplit b (UnpreparedValue b)))))
-&gt; InputFieldsParser
     MetadataObjId
     n
     (Maybe (NonEmpty (ConnectionSplit b (UnpreparedValue b))))
forall (m :: * -&gt; *) origin a b.
Monad m =&gt;
InputFieldsParser origin m a
-&gt; (a -&gt; m b) -&gt; InputFieldsParser origin m b
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#bindFields"><span class="hs-operator hs-var">`P.bindFields`</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621687053252"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621687053252"><span class="hs-identifier hs-var">after</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687053253"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621687053253"><span class="hs-identifier hs-var">before</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687053254"><span class="annot"><span class="annottext">Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
</span><a href="#local-6989586621687053254"><span class="hs-identifier hs-var">orderBy'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-755"></span><span>        </span><span id="local-6989586621687053255"><span class="annot"><span class="annottext">Maybe (ConnectionSplitKind, ByteString)
</span><a href="#local-6989586621687053255"><span class="hs-identifier hs-var">rawSplit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621687053252"><span class="hs-identifier hs-var">after</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621687053253"><span class="hs-identifier hs-var">before</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-756"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ByteString
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (ConnectionSplitKind, ByteString)
-&gt; n (Maybe (ConnectionSplitKind, ByteString))
forall a. a -&gt; n a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Maybe (ConnectionSplitKind, ByteString)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-757"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ErrorMessage -&gt; n (Maybe (ConnectionSplitKind, ByteString))
forall (m :: * -&gt; *) a. MonadParse m =&gt; ErrorMessage -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Class.html#parseError"><span class="hs-identifier hs-var">parseError</span></a></span><span> </span><span class="annot"><span class="annottext">ErrorMessage
</span><span class="hs-string">&quot;\&quot;after\&quot; and \&quot;before\&quot; are not allowed at once&quot;</span></span><span>
</span><span id="line-758"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687053257"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621687053257"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (ConnectionSplitKind, ByteString)
-&gt; n (Maybe (ConnectionSplitKind, ByteString))
forall a. a -&gt; n a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (ConnectionSplitKind, ByteString)
 -&gt; n (Maybe (ConnectionSplitKind, ByteString)))
-&gt; Maybe (ConnectionSplitKind, ByteString)
-&gt; n (Maybe (ConnectionSplitKind, ByteString))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(ConnectionSplitKind, ByteString)
-&gt; Maybe (ConnectionSplitKind, ByteString)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConnectionSplitKind
</span><a href="Hasura.RQL.IR.Select.html#CSKAfter"><span class="hs-identifier hs-var">IR.CSKAfter</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621687053257"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-759"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe ByteString
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687053259"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621687053259"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (ConnectionSplitKind, ByteString)
-&gt; n (Maybe (ConnectionSplitKind, ByteString))
forall a. a -&gt; n a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (ConnectionSplitKind, ByteString)
 -&gt; n (Maybe (ConnectionSplitKind, ByteString)))
-&gt; Maybe (ConnectionSplitKind, ByteString)
-&gt; n (Maybe (ConnectionSplitKind, ByteString))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(ConnectionSplitKind, ByteString)
-&gt; Maybe (ConnectionSplitKind, ByteString)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConnectionSplitKind
</span><a href="Hasura.RQL.IR.Select.html#CSKBefore"><span class="hs-identifier hs-var">IR.CSKBefore</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621687053259"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-760"></span><span>        </span><span class="annot"><span class="annottext">Maybe (ConnectionSplitKind, ByteString)
-&gt; ((ConnectionSplitKind, ByteString)
    -&gt; n (NonEmpty (ConnectionSplit b (UnpreparedValue b))))
-&gt; n (Maybe (NonEmpty (ConnectionSplit b (UnpreparedValue b))))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><span class="hs-identifier hs-var">for</span></span><span> </span><span class="annot"><span class="annottext">Maybe (ConnectionSplitKind, ByteString)
</span><a href="#local-6989586621687053255"><span class="hs-identifier hs-var">rawSplit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ConnectionSplitKind
 -&gt; ByteString
 -&gt; n (NonEmpty (ConnectionSplit b (UnpreparedValue b))))
-&gt; (ConnectionSplitKind, ByteString)
-&gt; n (NonEmpty (ConnectionSplit b (UnpreparedValue b)))
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
-&gt; ConnectionSplitKind
-&gt; ByteString
-&gt; n (NonEmpty (ConnectionSplit b (UnpreparedValue b)))
</span><a href="#local-6989586621687053262"><span class="hs-identifier hs-var">parseConnectionSplit</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
</span><a href="#local-6989586621687053254"><span class="hs-identifier hs-var">orderBy'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-761"></span><span>
</span><span id="line-762"></span><span>    </span><span id="local-6989586621687053263"><span class="annot"><span class="annottext">Maybe ConnectionSlice
</span><a href="#local-6989586621687053263"><span class="hs-identifier hs-var">slice</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-763"></span><span>      </span><span class="annot"><span class="annottext">InputFieldsParser MetadataObjId n (Maybe Int32, Maybe Int32)
</span><a href="#local-6989586621687053245"><span class="hs-identifier hs-var">firstAndLast</span></a></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser MetadataObjId n (Maybe Int32, Maybe Int32)
-&gt; ((Maybe Int32, Maybe Int32) -&gt; n (Maybe ConnectionSlice))
-&gt; InputFieldsParser MetadataObjId n (Maybe ConnectionSlice)
forall (m :: * -&gt; *) origin a b.
Monad m =&gt;
InputFieldsParser origin m a
-&gt; (a -&gt; m b) -&gt; InputFieldsParser origin m b
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#bindFields"><span class="hs-operator hs-var">`P.bindFields`</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-764"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Int32
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe ConnectionSlice -&gt; n (Maybe ConnectionSlice)
forall a. a -&gt; n a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Maybe ConnectionSlice
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-765"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ErrorMessage -&gt; n (Maybe ConnectionSlice)
forall (m :: * -&gt; *) a. MonadParse m =&gt; ErrorMessage -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Class.html#parseError"><span class="hs-identifier hs-var">parseError</span></a></span><span> </span><span class="annot"><span class="annottext">ErrorMessage
</span><span class="hs-string">&quot;\&quot;first\&quot; and \&quot;last\&quot; are not allowed at once&quot;</span></span><span>
</span><span id="line-766"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687053264"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621687053264"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe ConnectionSlice -&gt; n (Maybe ConnectionSlice)
forall a. a -&gt; n a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Maybe ConnectionSlice -&gt; n (Maybe ConnectionSlice))
-&gt; Maybe ConnectionSlice -&gt; n (Maybe ConnectionSlice)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ConnectionSlice -&gt; Maybe ConnectionSlice
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(ConnectionSlice -&gt; Maybe ConnectionSlice)
-&gt; ConnectionSlice -&gt; Maybe ConnectionSlice
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; ConnectionSlice
</span><a href="Hasura.RQL.IR.Select.html#SliceFirst"><span class="hs-identifier hs-var">IR.SliceFirst</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; ConnectionSlice) -&gt; Int -&gt; ConnectionSlice
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621687053264"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-767"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Int32
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687053266"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621687053266"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe ConnectionSlice -&gt; n (Maybe ConnectionSlice)
forall a. a -&gt; n a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Maybe ConnectionSlice -&gt; n (Maybe ConnectionSlice))
-&gt; Maybe ConnectionSlice -&gt; n (Maybe ConnectionSlice)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ConnectionSlice -&gt; Maybe ConnectionSlice
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(ConnectionSlice -&gt; Maybe ConnectionSlice)
-&gt; ConnectionSlice -&gt; Maybe ConnectionSlice
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; ConnectionSlice
</span><a href="Hasura.RQL.IR.Select.html#SliceLast"><span class="hs-identifier hs-var">IR.SliceLast</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; ConnectionSlice) -&gt; Int -&gt; ConnectionSlice
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621687053266"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-768"></span><span>
</span><span id="line-769"></span><span>    </span><span class="hs-identifier">pure</span><span>
</span><span id="line-770"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Maybe (AnnBoolExp b (UnpreparedValue b))
-&gt; Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
-&gt; Maybe Int
-&gt; Maybe Int64
-&gt; Maybe (NonEmpty (Column b))
-&gt; SelectArgs b
forall (b :: BackendType) v.
Maybe (AnnBoolExp b v)
-&gt; Maybe (NonEmpty (AnnotatedOrderByItemG b v))
-&gt; Maybe Int
-&gt; Maybe Int64
-&gt; Maybe (NonEmpty (Column b))
-&gt; SelectArgsG b v
</span><a href="Hasura.RQL.IR.Select.Args.html#SelectArgs"><span class="hs-identifier hs-var">IR.SelectArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (AnnBoolExp b (UnpreparedValue b))
</span><a href="#local-6989586621687053247"><span class="hs-identifier hs-var">whereF</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
</span><a href="#local-6989586621687053248"><span class="hs-identifier hs-var">orderBy</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Maybe Int64
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Maybe (NonEmpty (Column b))
</span><a href="#local-6989586621687053249"><span class="hs-identifier hs-var">distinct</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-771"></span><span>        </span><span class="annot"><span class="annottext">Maybe (NonEmpty (ConnectionSplit b (UnpreparedValue b)))
</span><a href="#local-6989586621687053250"><span class="hs-identifier hs-var">split</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-772"></span><span>        </span><span class="annot"><span class="annottext">Maybe ConnectionSlice
</span><a href="#local-6989586621687053263"><span class="hs-identifier hs-var">slice</span></a></span><span>
</span><span id="line-773"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-774"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-775"></span><span>    </span><span id="local-6989586621687053242"><span class="annot"><span class="annottext">base64Text :: Parser origin 'Both n ByteString
</span><a href="#local-6989586621687053242"><span class="hs-identifier hs-var hs-var">base64Text</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#base64Decode"><span class="hs-identifier hs-var">base64Decode</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; ByteString)
-&gt; Parser origin 'Both n Text -&gt; Parser origin 'Both n ByteString
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser origin 'Both n Text
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
Parser origin 'Both m Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Scalars.html#string"><span class="hs-identifier hs-var">P.string</span></a></span><span>
</span><span id="line-776"></span><span>
</span><span id="line-777"></span><span>    </span><span id="local-6989586621687051503"><span class="annot"><a href="#local-6989586621687053210"><span class="hs-identifier hs-type">appendPrimaryKeyOrderBy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#AnnotatedOrderByItemG"><span class="hs-identifier hs-type">IR.AnnotatedOrderByItemG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051167"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051503"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#AnnotatedOrderByItemG"><span class="hs-identifier hs-type">IR.AnnotatedOrderByItemG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051167"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051503"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-778"></span><span>    </span><span id="local-6989586621687053210"><span class="annot"><span class="annottext">appendPrimaryKeyOrderBy :: forall v.
NonEmpty (AnnotatedOrderByItemG b v)
-&gt; NonEmpty (AnnotatedOrderByItemG b v)
</span><a href="#local-6989586621687053210"><span class="hs-identifier hs-var hs-var">appendPrimaryKeyOrderBy</span></a></span></span><span> </span><span id="local-6989586621687053297"><span class="annot"><span class="annottext">orderBys :: NonEmpty (AnnotatedOrderByItemG b v)
</span><a href="#local-6989586621687053297"><span class="hs-identifier hs-var">orderBys</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621687053298"><span class="annot"><span class="annottext">AnnotatedOrderByItemG b v
</span><a href="#local-6989586621687053298"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">NE.:|</span></span><span> </span><span id="local-6989586621687053299"><span class="annot"><span class="annottext">[AnnotatedOrderByItemG b v]
</span><a href="#local-6989586621687053299"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-779"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053300"><span class="annot"><span class="annottext">orderByColumnNames :: [Column b]
</span><a href="#local-6989586621687053300"><span class="hs-identifier hs-var hs-var">orderByColumnNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-780"></span><span>            </span><span class="annot"><span class="annottext">NonEmpty (AnnotatedOrderByItemG b v)
</span><a href="#local-6989586621687053297"><span class="hs-identifier hs-var">orderBys</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (AnnotatedOrderByItemG b v)
-&gt; Getting
     (Endo [Column b]) (NonEmpty (AnnotatedOrderByItemG b v)) (Column b)
-&gt; [Column b]
forall s a. s -&gt; Getting (Endo [a]) s a -&gt; [a]
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Fold.html#%5E.."><span class="hs-operator hs-var">^..</span></a></span><span> </span><span class="annot"><span class="annottext">(AnnotatedOrderByItemG b v
 -&gt; Const (Endo [Column b]) (AnnotatedOrderByItemG b v))
-&gt; NonEmpty (AnnotatedOrderByItemG b v)
-&gt; Const (Endo [Column b]) (NonEmpty (AnnotatedOrderByItemG b v))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; NonEmpty a -&gt; f (NonEmpty b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">((AnnotatedOrderByItemG b v
  -&gt; Const (Endo [Column b]) (AnnotatedOrderByItemG b v))
 -&gt; NonEmpty (AnnotatedOrderByItemG b v)
 -&gt; Const (Endo [Column b]) (NonEmpty (AnnotatedOrderByItemG b v)))
-&gt; ((Column b -&gt; Const (Endo [Column b]) (Column b))
    -&gt; AnnotatedOrderByItemG b v
    -&gt; Const (Endo [Column b]) (AnnotatedOrderByItemG b v))
-&gt; Getting
     (Endo [Column b]) (NonEmpty (AnnotatedOrderByItemG b v)) (Column b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(AnnotatedOrderByItemG b v -&gt; AnnotatedOrderByElement b v)
-&gt; (AnnotatedOrderByElement b v
    -&gt; Const (Endo [Column b]) (AnnotatedOrderByElement b v))
-&gt; AnnotatedOrderByItemG b v
-&gt; Const (Endo [Column b]) (AnnotatedOrderByItemG b v)
forall (p :: * -&gt; * -&gt; *) (f :: * -&gt; *) s a.
(Profunctor p, Contravariant f) =&gt;
(s -&gt; a) -&gt; Optic' p f s a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Getter.html#to"><span class="hs-identifier hs-var">to</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedOrderByItemG b v -&gt; AnnotatedOrderByElement b v
forall (b :: BackendType) a. OrderByItemG b a -&gt; a
</span><a href="Hasura.RQL.IR.OrderBy.html#obiColumn"><span class="hs-identifier hs-var">IR.obiColumn</span></a></span><span> </span><span class="annot"><span class="annottext">((AnnotatedOrderByElement b v
  -&gt; Const (Endo [Column b]) (AnnotatedOrderByElement b v))
 -&gt; AnnotatedOrderByItemG b v
 -&gt; Const (Endo [Column b]) (AnnotatedOrderByItemG b v))
-&gt; ((Column b -&gt; Const (Endo [Column b]) (Column b))
    -&gt; AnnotatedOrderByElement b v
    -&gt; Const (Endo [Column b]) (AnnotatedOrderByElement b v))
-&gt; (Column b -&gt; Const (Endo [Column b]) (Column b))
-&gt; AnnotatedOrderByItemG b v
-&gt; Const (Endo [Column b]) (AnnotatedOrderByItemG b v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(ColumnInfo b -&gt; Const (Endo [Column b]) (ColumnInfo b))
-&gt; AnnotatedOrderByElement b v
-&gt; Const (Endo [Column b]) (AnnotatedOrderByElement b v)
forall (b :: BackendType) v (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Choice p, Applicative f) =&gt;
p (ColumnInfo b) (f (ColumnInfo b))
-&gt; p (AnnotatedOrderByElement b v)
     (f (AnnotatedOrderByElement b v))
</span><a href="Hasura.RQL.IR.Select.Lenses.html#_AOCColumn"><span class="hs-identifier hs-var">IR._AOCColumn</span></a></span><span> </span><span class="annot"><span class="annottext">((ColumnInfo b -&gt; Const (Endo [Column b]) (ColumnInfo b))
 -&gt; AnnotatedOrderByElement b v
 -&gt; Const (Endo [Column b]) (AnnotatedOrderByElement b v))
-&gt; ((Column b -&gt; Const (Endo [Column b]) (Column b))
    -&gt; ColumnInfo b -&gt; Const (Endo [Column b]) (ColumnInfo b))
-&gt; (Column b -&gt; Const (Endo [Column b]) (Column b))
-&gt; AnnotatedOrderByElement b v
-&gt; Const (Endo [Column b]) (AnnotatedOrderByElement b v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(ColumnInfo b -&gt; Column b)
-&gt; (Column b -&gt; Const (Endo [Column b]) (Column b))
-&gt; ColumnInfo b
-&gt; Const (Endo [Column b]) (ColumnInfo b)
forall (p :: * -&gt; * -&gt; *) (f :: * -&gt; *) s a.
(Profunctor p, Contravariant f) =&gt;
(s -&gt; a) -&gt; Optic' p f s a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Getter.html#to"><span class="hs-identifier hs-var">to</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Column b
forall (b :: BackendType). ColumnInfo b -&gt; Column b
</span><a href="Hasura.RQL.Types.Column.html#ciColumn"><span class="hs-identifier hs-var">ciColumn</span></a></span><span>
</span><span id="line-781"></span><span>          </span><span id="local-6989586621687053306"><span class="annot"><span class="annottext">pkeyOrderBys :: [AnnotatedOrderByItemG b v]
</span><a href="#local-6989586621687053306"><span class="hs-identifier hs-var hs-var">pkeyOrderBys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((ColumnInfo b -&gt; Maybe (AnnotatedOrderByItemG b v))
 -&gt; [ColumnInfo b] -&gt; [AnnotatedOrderByItemG b v])
-&gt; [ColumnInfo b]
-&gt; (ColumnInfo b -&gt; Maybe (AnnotatedOrderByItemG b v))
-&gt; [AnnotatedOrderByItemG b v]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(ColumnInfo b -&gt; Maybe (AnnotatedOrderByItemG b v))
-&gt; [ColumnInfo b] -&gt; [AnnotatedOrderByItemG b v]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b.
Filterable f =&gt;
(a -&gt; Maybe b) -&gt; f a -&gt; f b
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/witherable-0.4.2-a40f3f0a2ed7f25145b5b00589bf4ea2486662b1e96b7d29d5e6041625ee4a09/share/doc/html/src/Witherable.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrimaryKeyColumns b -&gt; [ColumnInfo b]
forall a. NESeq a -&gt; [a]
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><span class="hs-identifier hs-var">toList</span></span><span> </span><span class="annot"><span class="annottext">PrimaryKeyColumns b
</span><a href="#local-6989586621687053206"><span class="hs-identifier hs-var">pkeyColumns</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((ColumnInfo b -&gt; Maybe (AnnotatedOrderByItemG b v))
 -&gt; [AnnotatedOrderByItemG b v])
-&gt; (ColumnInfo b -&gt; Maybe (AnnotatedOrderByItemG b v))
-&gt; [AnnotatedOrderByItemG b v]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687053309"><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053309"><span class="hs-identifier hs-var">columnInfo</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-782"></span><span>            </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Column b
forall (b :: BackendType). ColumnInfo b -&gt; Column b
</span><a href="Hasura.RQL.Types.Column.html#ciColumn"><span class="hs-identifier hs-var">ciColumn</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053309"><span class="hs-identifier hs-var">columnInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Column b -&gt; [Column b] -&gt; Bool
forall a. Eq a =&gt; a -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[Column b]
</span><a href="#local-6989586621687053300"><span class="hs-identifier hs-var">orderByColumnNames</span></a></span><span>
</span><span id="line-783"></span><span>              </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe (AnnotatedOrderByItemG b v)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-784"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">AnnotatedOrderByItemG b v -&gt; Maybe (AnnotatedOrderByItemG b v)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(AnnotatedOrderByItemG b v -&gt; Maybe (AnnotatedOrderByItemG b v))
-&gt; AnnotatedOrderByItemG b v -&gt; Maybe (AnnotatedOrderByItemG b v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe (BasicOrderType b)
-&gt; AnnotatedOrderByElement b v
-&gt; Maybe (NullsOrderType b)
-&gt; AnnotatedOrderByItemG b v
forall (b :: BackendType) a.
Maybe (BasicOrderType b)
-&gt; a -&gt; Maybe (NullsOrderType b) -&gt; OrderByItemG b a
</span><a href="Hasura.RQL.IR.OrderBy.html#OrderByItemG"><span class="hs-identifier hs-var">IR.OrderByItemG</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (BasicOrderType b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b -&gt; AnnotatedOrderByElement b v
forall (b :: BackendType) v.
ColumnInfo b -&gt; AnnotatedOrderByElement b v
</span><a href="Hasura.RQL.IR.Select.OrderBy.html#AOCColumn"><span class="hs-identifier hs-var">IR.AOCColumn</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053309"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (NullsOrderType b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-785"></span><span>       </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">AnnotatedOrderByItemG b v
</span><a href="#local-6989586621687053298"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedOrderByItemG b v
-&gt; [AnnotatedOrderByItemG b v]
-&gt; NonEmpty (AnnotatedOrderByItemG b v)
forall a. a -&gt; [a] -&gt; NonEmpty a
</span><span class="hs-operator hs-var">NE.:|</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[AnnotatedOrderByItemG b v]
</span><a href="#local-6989586621687053299"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">[AnnotatedOrderByItemG b v]
-&gt; [AnnotatedOrderByItemG b v] -&gt; [AnnotatedOrderByItemG b v]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[AnnotatedOrderByItemG b v]
</span><a href="#local-6989586621687053306"><span class="hs-identifier hs-var">pkeyOrderBys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-786"></span><span>
</span><span id="line-787"></span><span>    </span><span class="annot"><a href="#local-6989586621687053262"><span class="hs-identifier hs-type">parseConnectionSplit</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-788"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#AnnotatedOrderByItemG"><span class="hs-identifier hs-type">IR.AnnotatedOrderByItemG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051167"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051167"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-789"></span><span>      </span><span class="annot"><a href="Hasura.RQL.IR.Select.html#ConnectionSplitKind"><span class="hs-identifier hs-type">IR.ConnectionSplitKind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-790"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">BL.ByteString</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-791"></span><span>      </span><span class="annot"><a href="#local-6989586621687051170"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#ConnectionSplit"><span class="hs-identifier hs-type">IR.ConnectionSplit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051167"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051167"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-792"></span><span>    </span><span id="local-6989586621687053262"><span class="annot"><span class="annottext">parseConnectionSplit :: Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
-&gt; ConnectionSplitKind
-&gt; ByteString
-&gt; n (NonEmpty (ConnectionSplit b (UnpreparedValue b)))
</span><a href="#local-6989586621687053262"><span class="hs-identifier hs-var hs-var">parseConnectionSplit</span></a></span></span><span> </span><span id="local-6989586621687053313"><span class="annot"><span class="annottext">Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
</span><a href="#local-6989586621687053313"><span class="hs-identifier hs-var">maybeOrderBys</span></a></span></span><span> </span><span id="local-6989586621687053314"><span class="annot"><span class="annottext">ConnectionSplitKind
</span><a href="#local-6989586621687053314"><span class="hs-identifier hs-var">splitKind</span></a></span></span><span> </span><span id="local-6989586621687053315"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621687053315"><span class="hs-identifier hs-var">cursorSplit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-793"></span><span>      </span><span id="local-6989586621687053316"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621687053316"><span class="hs-identifier hs-var">cursorValue</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String Value
forall a. FromJSON a =&gt; ByteString -&gt; Either String a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/aeson-2.1.2.1-78f82c0a41c76fc62260cf94c4b206816c9efb8c3788f4fbd6184398938cf6fb/share/doc/html/src/Data.Aeson.html#eitherDecode"><span class="hs-identifier hs-var">J.eitherDecode</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621687053315"><span class="hs-identifier hs-var">cursorSplit</span></a></span><span> </span><span class="annot"><span class="annottext">Either String Value -&gt; (String -&gt; n Value) -&gt; n Value
forall (m :: * -&gt; *) e a.
Applicative m =&gt;
Either e a -&gt; (e -&gt; m a) -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#onLeft"><span class="hs-operator hs-var">`onLeft`</span></a></span><span> </span><span class="annot"><span class="annottext">n Value -&gt; String -&gt; n Value
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">n Value
forall {a}. n a
</span><a href="#local-6989586621687053320"><span class="hs-identifier hs-var">throwInvalidCursor</span></a></span><span>
</span><span id="line-794"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
</span><a href="#local-6989586621687053313"><span class="hs-identifier hs-var">maybeOrderBys</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-795"></span><span>        </span><span class="annot"><span class="annottext">Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NonEmpty (ColumnInfo b)
-&gt; (ColumnInfo b -&gt; n (ConnectionSplit b (UnpreparedValue b)))
-&gt; n (NonEmpty (ConnectionSplit b (UnpreparedValue b)))
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><span class="hs-identifier hs-var">forM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrimaryKeyColumns b -&gt; NonEmpty (ColumnInfo b)
forall a. NESeq a -&gt; NonEmpty a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#nonEmptySeqToNonEmptyList"><span class="hs-identifier hs-var">nonEmptySeqToNonEmptyList</span></a></span><span> </span><span class="annot"><span class="annottext">PrimaryKeyColumns b
</span><a href="#local-6989586621687053206"><span class="hs-identifier hs-var">pkeyColumns</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-796"></span><span>          </span><span class="annot"><span class="annottext">((ColumnInfo b -&gt; n (ConnectionSplit b (UnpreparedValue b)))
 -&gt; n (NonEmpty (ConnectionSplit b (UnpreparedValue b))))
-&gt; (ColumnInfo b -&gt; n (ConnectionSplit b (UnpreparedValue b)))
-&gt; n (NonEmpty (ConnectionSplit b (UnpreparedValue b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687053323"><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053323"><span class="hs-identifier hs-var">columnInfo</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-797"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053324"><span class="annot"><span class="annottext">columnJsonPath :: [JSONPathElement]
</span><a href="#local-6989586621687053324"><span class="hs-identifier hs-var hs-var">columnJsonPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Key -&gt; JSONPathElement
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/aeson-2.1.2.1-78f82c0a41c76fc62260cf94c4b206816c9efb8c3788f4fbd6184398938cf6fb/share/doc/html/src/Data.Aeson.Types.Internal.html#Key"><span class="hs-identifier hs-var">J.Key</span></a></span><span> </span><span class="annot"><span class="annottext">(Key -&gt; JSONPathElement) -&gt; Key -&gt; JSONPathElement
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Key
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/aeson-2.1.2.1-78f82c0a41c76fc62260cf94c4b206816c9efb8c3788f4fbd6184398938cf6fb/share/doc/html/src/Data.Aeson.Key.html#fromText"><span class="hs-identifier hs-var">K.fromText</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Key) -&gt; Text -&gt; Key
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Column b -&gt; Text
forall a. ToTxt a =&gt; a -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html#toTxt"><span class="hs-identifier hs-var">toTxt</span></a></span><span> </span><span class="annot"><span class="annottext">(Column b -&gt; Text) -&gt; Column b -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Column b
forall (b :: BackendType). ColumnInfo b -&gt; Column b
</span><a href="Hasura.RQL.Types.Column.html#ciColumn"><span class="hs-identifier hs-var">ciColumn</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053323"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-798"></span><span>                </span><span id="local-6989586621687053328"><span class="annot"><span class="annottext">columnType :: ColumnType b
</span><a href="#local-6989586621687053328"><span class="hs-identifier hs-var hs-var">columnType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ColumnInfo b -&gt; ColumnType b
forall (b :: BackendType). ColumnInfo b -&gt; ColumnType b
</span><a href="Hasura.RQL.Types.Column.html#ciType"><span class="hs-identifier hs-var">ciType</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053323"><span class="hs-identifier hs-var">columnInfo</span></a></span><span>
</span><span id="line-799"></span><span>            </span><span id="local-6989586621687053329"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621687053329"><span class="hs-identifier hs-var">columnValue</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-800"></span><span>              </span><span class="annot"><span class="annottext">IResult Value -&gt; Maybe Value
forall a. IResult a -&gt; Maybe a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#iResultToMaybe"><span class="hs-identifier hs-var">iResultToMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[JSONPathElement] -&gt; Value -&gt; IResult Value
</span><a href="Hasura.Server.Utils.html#executeJSONPath"><span class="hs-identifier hs-var">executeJSONPath</span></a></span><span> </span><span class="annot"><span class="annottext">[JSONPathElement]
</span><a href="#local-6989586621687053324"><span class="hs-identifier hs-var">columnJsonPath</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621687053316"><span class="hs-identifier hs-var">cursorValue</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-801"></span><span>                </span><span class="annot"><span class="annottext">Maybe Value -&gt; n Value -&gt; n Value
forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#onNothing"><span class="hs-operator hs-var">`onNothing`</span></a></span><span> </span><span class="annot"><span class="annottext">n Value
forall {a}. n a
</span><a href="#local-6989586621687053320"><span class="hs-identifier hs-var">throwInvalidCursor</span></a></span><span>
</span><span id="line-802"></span><span>            </span><span id="local-6989586621687053332"><span class="annot"><span class="annottext">ScalarValue b
</span><a href="#local-6989586621687053332"><span class="hs-identifier hs-var">pgValue</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Except QErr (ScalarValue b) -&gt; n (ScalarValue b)
forall {a}. Except QErr a -&gt; n a
</span><a href="#local-6989586621687053333"><span class="hs-identifier hs-var">liftQErr</span></a></span><span> </span><span class="annot"><span class="annottext">(Except QErr (ScalarValue b) -&gt; n (ScalarValue b))
-&gt; Except QErr (ScalarValue b) -&gt; n (ScalarValue b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ColumnType b -&gt; Value -&gt; Except QErr (ScalarValue b)
forall (m :: * -&gt; *) (b :: BackendType).
(MonadError QErr m, Backend b) =&gt;
ColumnType b -&gt; Value -&gt; m (ScalarValue b)
</span><a href="Hasura.RQL.Types.Column.html#parseScalarValueColumnType"><span class="hs-identifier hs-var">parseScalarValueColumnType</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType b
</span><a href="#local-6989586621687053328"><span class="hs-identifier hs-var">columnType</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621687053329"><span class="hs-identifier hs-var">columnValue</span></a></span><span>
</span><span id="line-803"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053335"><span class="annot"><span class="annottext">unresolvedValue :: UnpreparedValue b
</span><a href="#local-6989586621687053335"><span class="hs-identifier hs-var hs-var">unresolvedValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Provenance -&gt; ColumnValue b -&gt; UnpreparedValue b
forall (b :: BackendType).
Provenance -&gt; ColumnValue b -&gt; UnpreparedValue b
</span><a href="Hasura.RQL.IR.Value.html#UVParameter"><span class="hs-identifier hs-var">IR.UVParameter</span></a></span><span> </span><span class="annot"><span class="annottext">Provenance
</span><a href="Hasura.RQL.IR.Value.html#FreshVar"><span class="hs-identifier hs-var">IR.FreshVar</span></a></span><span> </span><span class="annot"><span class="annottext">(ColumnValue b -&gt; UnpreparedValue b)
-&gt; ColumnValue b -&gt; UnpreparedValue b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ColumnType b -&gt; ScalarValue b -&gt; ColumnValue b
forall (b :: BackendType).
ColumnType b -&gt; ScalarValue b -&gt; ColumnValue b
</span><a href="Hasura.RQL.Types.Column.html#ColumnValue"><span class="hs-identifier hs-var">ColumnValue</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType b
</span><a href="#local-6989586621687053328"><span class="hs-identifier hs-var">columnType</span></a></span><span> </span><span class="annot"><span class="annottext">ScalarValue b
</span><a href="#local-6989586621687053332"><span class="hs-identifier hs-var">pgValue</span></a></span><span>
</span><span id="line-804"></span><span>            </span><span class="annot"><span class="annottext">ConnectionSplit b (UnpreparedValue b)
-&gt; n (ConnectionSplit b (UnpreparedValue b))
forall a. a -&gt; n a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-805"></span><span>              </span><span class="annot"><span class="annottext">(ConnectionSplit b (UnpreparedValue b)
 -&gt; n (ConnectionSplit b (UnpreparedValue b)))
-&gt; ConnectionSplit b (UnpreparedValue b)
-&gt; n (ConnectionSplit b (UnpreparedValue b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ConnectionSplitKind
-&gt; UnpreparedValue b
-&gt; AnnotatedOrderByItemG b (UnpreparedValue b)
-&gt; ConnectionSplit b (UnpreparedValue b)
forall (b :: BackendType) v.
ConnectionSplitKind
-&gt; v
-&gt; OrderByItemG b (AnnotatedOrderByElement b v)
-&gt; ConnectionSplit b v
</span><a href="Hasura.RQL.IR.Select.html#ConnectionSplit"><span class="hs-identifier hs-var">IR.ConnectionSplit</span></a></span><span> </span><span class="annot"><span class="annottext">ConnectionSplitKind
</span><a href="#local-6989586621687053314"><span class="hs-identifier hs-var">splitKind</span></a></span><span> </span><span class="annot"><span class="annottext">UnpreparedValue b
</span><a href="#local-6989586621687053335"><span class="hs-identifier hs-var">unresolvedValue</span></a></span><span>
</span><span id="line-806"></span><span>              </span><span class="annot"><span class="annottext">(AnnotatedOrderByItemG b (UnpreparedValue b)
 -&gt; ConnectionSplit b (UnpreparedValue b))
-&gt; AnnotatedOrderByItemG b (UnpreparedValue b)
-&gt; ConnectionSplit b (UnpreparedValue b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe (BasicOrderType b)
-&gt; AnnotatedOrderByElement b (UnpreparedValue b)
-&gt; Maybe (NullsOrderType b)
-&gt; AnnotatedOrderByItemG b (UnpreparedValue b)
forall (b :: BackendType) a.
Maybe (BasicOrderType b)
-&gt; a -&gt; Maybe (NullsOrderType b) -&gt; OrderByItemG b a
</span><a href="Hasura.RQL.IR.OrderBy.html#OrderByItemG"><span class="hs-identifier hs-var">IR.OrderByItemG</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (BasicOrderType b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b -&gt; AnnotatedOrderByElement b (UnpreparedValue b)
forall (b :: BackendType) v.
ColumnInfo b -&gt; AnnotatedOrderByElement b v
</span><a href="Hasura.RQL.IR.Select.OrderBy.html#AOCColumn"><span class="hs-identifier hs-var">IR.AOCColumn</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053323"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (NullsOrderType b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-807"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687053340"><span class="annot"><span class="annottext">NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))
</span><a href="#local-6989586621687053340"><span class="hs-identifier hs-var">orderBys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-808"></span><span>          </span><span class="annot"><span class="annottext">NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))
-&gt; (AnnotatedOrderByItemG b (UnpreparedValue b)
    -&gt; n (ConnectionSplit b (UnpreparedValue b)))
-&gt; n (NonEmpty (ConnectionSplit b (UnpreparedValue b)))
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><span class="hs-identifier hs-var">forM</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))
</span><a href="#local-6989586621687053340"><span class="hs-identifier hs-var">orderBys</span></a></span><span> </span><span class="annot"><span class="annottext">((AnnotatedOrderByItemG b (UnpreparedValue b)
  -&gt; n (ConnectionSplit b (UnpreparedValue b)))
 -&gt; n (NonEmpty (ConnectionSplit b (UnpreparedValue b))))
-&gt; (AnnotatedOrderByItemG b (UnpreparedValue b)
    -&gt; n (ConnectionSplit b (UnpreparedValue b)))
-&gt; n (NonEmpty (ConnectionSplit b (UnpreparedValue b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687053341"><span class="annot"><span class="annottext">AnnotatedOrderByItemG b (UnpreparedValue b)
</span><a href="#local-6989586621687053341"><span class="hs-identifier hs-var">orderBy</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-809"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Hasura.RQL.IR.OrderBy.html#OrderByItemG"><span class="hs-identifier hs-type">IR.OrderByItemG</span></a></span><span> </span><span id="local-6989586621687053342"><span class="annot"><span class="annottext">Maybe (BasicOrderType b)
</span><a href="#local-6989586621687053342"><span class="hs-identifier hs-var">orderType</span></a></span></span><span> </span><span id="local-6989586621687053343"><span class="annot"><span class="annottext">AnnotatedOrderByElement b (UnpreparedValue b)
</span><a href="#local-6989586621687053343"><span class="hs-identifier hs-var">annObCol</span></a></span></span><span> </span><span id="local-6989586621687053344"><span class="annot"><span class="annottext">Maybe (NullsOrderType b)
</span><a href="#local-6989586621687053344"><span class="hs-identifier hs-var">nullsOrder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnnotatedOrderByItemG b (UnpreparedValue b)
</span><a href="#local-6989586621687053341"><span class="hs-identifier hs-var">orderBy</span></a></span><span>
</span><span id="line-810"></span><span>                </span><span id="local-6989586621687053345"><span class="annot"><span class="annottext">columnType :: ColumnType b
</span><a href="#local-6989586621687053345"><span class="hs-identifier hs-var hs-var">columnType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnnotatedOrderByElement b (UnpreparedValue b) -&gt; ColumnType b
</span><a href="#local-6989586621687053346"><span class="hs-identifier hs-var">getOrderByColumnType</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedOrderByElement b (UnpreparedValue b)
</span><a href="#local-6989586621687053343"><span class="hs-identifier hs-var">annObCol</span></a></span><span>
</span><span id="line-811"></span><span>            </span><span id="local-6989586621687053347"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621687053347"><span class="hs-identifier hs-var">orderByItemValue</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-812"></span><span>              </span><span class="annot"><span class="annottext">IResult Value -&gt; Maybe Value
forall a. IResult a -&gt; Maybe a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#iResultToMaybe"><span class="hs-identifier hs-var">iResultToMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[JSONPathElement] -&gt; Value -&gt; IResult Value
</span><a href="Hasura.Server.Utils.html#executeJSONPath"><span class="hs-identifier hs-var">executeJSONPath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Text -&gt; JSONPathElement) -&gt; [Text] -&gt; [JSONPathElement]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key -&gt; JSONPathElement
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/aeson-2.1.2.1-78f82c0a41c76fc62260cf94c4b206816c9efb8c3788f4fbd6184398938cf6fb/share/doc/html/src/Data.Aeson.Types.Internal.html#Key"><span class="hs-identifier hs-var">J.Key</span></a></span><span> </span><span class="annot"><span class="annottext">(Key -&gt; JSONPathElement)
-&gt; (Text -&gt; Key) -&gt; Text -&gt; JSONPathElement
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Key
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/aeson-2.1.2.1-78f82c0a41c76fc62260cf94c4b206816c9efb8c3788f4fbd6184398938cf6fb/share/doc/html/src/Data.Aeson.Key.html#fromText"><span class="hs-identifier hs-var">K.fromText</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnnotatedOrderByElement b (UnpreparedValue b) -&gt; [Text]
</span><a href="#local-6989586621687053348"><span class="hs-identifier hs-var">getPathFromOrderBy</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedOrderByElement b (UnpreparedValue b)
</span><a href="#local-6989586621687053343"><span class="hs-identifier hs-var">annObCol</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621687053316"><span class="hs-identifier hs-var">cursorValue</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-813"></span><span>                </span><span class="annot"><span class="annottext">Maybe Value -&gt; n Value -&gt; n Value
forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#onNothing"><span class="hs-operator hs-var">`onNothing`</span></a></span><span> </span><span class="annot"><span class="annottext">n Value
forall {a}. n a
</span><a href="#local-6989586621687053320"><span class="hs-identifier hs-var">throwInvalidCursor</span></a></span><span>
</span><span id="line-814"></span><span>            </span><span id="local-6989586621687053349"><span class="annot"><span class="annottext">ScalarValue b
</span><a href="#local-6989586621687053349"><span class="hs-identifier hs-var">pgValue</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Except QErr (ScalarValue b) -&gt; n (ScalarValue b)
forall {a}. Except QErr a -&gt; n a
</span><a href="#local-6989586621687053333"><span class="hs-identifier hs-var">liftQErr</span></a></span><span> </span><span class="annot"><span class="annottext">(Except QErr (ScalarValue b) -&gt; n (ScalarValue b))
-&gt; Except QErr (ScalarValue b) -&gt; n (ScalarValue b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ColumnType b -&gt; Value -&gt; Except QErr (ScalarValue b)
forall (m :: * -&gt; *) (b :: BackendType).
(MonadError QErr m, Backend b) =&gt;
ColumnType b -&gt; Value -&gt; m (ScalarValue b)
</span><a href="Hasura.RQL.Types.Column.html#parseScalarValueColumnType"><span class="hs-identifier hs-var">parseScalarValueColumnType</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType b
</span><a href="#local-6989586621687053345"><span class="hs-identifier hs-var">columnType</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621687053347"><span class="hs-identifier hs-var">orderByItemValue</span></a></span><span>
</span><span id="line-815"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053350"><span class="annot"><span class="annottext">unresolvedValue :: UnpreparedValue b
</span><a href="#local-6989586621687053350"><span class="hs-identifier hs-var hs-var">unresolvedValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Provenance -&gt; ColumnValue b -&gt; UnpreparedValue b
forall (b :: BackendType).
Provenance -&gt; ColumnValue b -&gt; UnpreparedValue b
</span><a href="Hasura.RQL.IR.Value.html#UVParameter"><span class="hs-identifier hs-var">IR.UVParameter</span></a></span><span> </span><span class="annot"><span class="annottext">Provenance
</span><a href="Hasura.RQL.IR.Value.html#FreshVar"><span class="hs-identifier hs-var">IR.FreshVar</span></a></span><span> </span><span class="annot"><span class="annottext">(ColumnValue b -&gt; UnpreparedValue b)
-&gt; ColumnValue b -&gt; UnpreparedValue b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ColumnType b -&gt; ScalarValue b -&gt; ColumnValue b
forall (b :: BackendType).
ColumnType b -&gt; ScalarValue b -&gt; ColumnValue b
</span><a href="Hasura.RQL.Types.Column.html#ColumnValue"><span class="hs-identifier hs-var">ColumnValue</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType b
</span><a href="#local-6989586621687053345"><span class="hs-identifier hs-var">columnType</span></a></span><span> </span><span class="annot"><span class="annottext">ScalarValue b
</span><a href="#local-6989586621687053349"><span class="hs-identifier hs-var">pgValue</span></a></span><span>
</span><span id="line-816"></span><span>            </span><span class="annot"><span class="annottext">ConnectionSplit b (UnpreparedValue b)
-&gt; n (ConnectionSplit b (UnpreparedValue b))
forall a. a -&gt; n a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-817"></span><span>              </span><span class="annot"><span class="annottext">(ConnectionSplit b (UnpreparedValue b)
 -&gt; n (ConnectionSplit b (UnpreparedValue b)))
-&gt; ConnectionSplit b (UnpreparedValue b)
-&gt; n (ConnectionSplit b (UnpreparedValue b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ConnectionSplitKind
-&gt; UnpreparedValue b
-&gt; AnnotatedOrderByItemG b (UnpreparedValue b)
-&gt; ConnectionSplit b (UnpreparedValue b)
forall (b :: BackendType) v.
ConnectionSplitKind
-&gt; v
-&gt; OrderByItemG b (AnnotatedOrderByElement b v)
-&gt; ConnectionSplit b v
</span><a href="Hasura.RQL.IR.Select.html#ConnectionSplit"><span class="hs-identifier hs-var">IR.ConnectionSplit</span></a></span><span> </span><span class="annot"><span class="annottext">ConnectionSplitKind
</span><a href="#local-6989586621687053314"><span class="hs-identifier hs-var">splitKind</span></a></span><span> </span><span class="annot"><span class="annottext">UnpreparedValue b
</span><a href="#local-6989586621687053350"><span class="hs-identifier hs-var">unresolvedValue</span></a></span><span>
</span><span id="line-818"></span><span>              </span><span class="annot"><span class="annottext">(AnnotatedOrderByItemG b (UnpreparedValue b)
 -&gt; ConnectionSplit b (UnpreparedValue b))
-&gt; AnnotatedOrderByItemG b (UnpreparedValue b)
-&gt; ConnectionSplit b (UnpreparedValue b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe (BasicOrderType b)
-&gt; AnnotatedOrderByElement b (UnpreparedValue b)
-&gt; Maybe (NullsOrderType b)
-&gt; AnnotatedOrderByItemG b (UnpreparedValue b)
forall (b :: BackendType) a.
Maybe (BasicOrderType b)
-&gt; a -&gt; Maybe (NullsOrderType b) -&gt; OrderByItemG b a
</span><a href="Hasura.RQL.IR.OrderBy.html#OrderByItemG"><span class="hs-identifier hs-var">IR.OrderByItemG</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (BasicOrderType b)
</span><a href="#local-6989586621687053342"><span class="hs-identifier hs-var">orderType</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedOrderByElement b (UnpreparedValue b)
</span><a href="#local-6989586621687053343"><span class="hs-identifier hs-var">annObCol</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (NullsOrderType b)
</span><a href="#local-6989586621687053344"><span class="hs-identifier hs-var">nullsOrder</span></a></span><span>
</span><span id="line-819"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-820"></span><span>        </span><span id="local-6989586621687053320"><span class="annot"><span class="annottext">throwInvalidCursor :: n a
</span><a href="#local-6989586621687053320"><span class="hs-identifier hs-var hs-var">throwInvalidCursor</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ErrorMessage -&gt; n a
forall (m :: * -&gt; *) a. MonadParse m =&gt; ErrorMessage -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Class.html#parseError"><span class="hs-identifier hs-var">parseError</span></a></span><span> </span><span class="annot"><span class="annottext">ErrorMessage
</span><span class="hs-string">&quot;the \&quot;after\&quot; or \&quot;before\&quot; cursor is invalid&quot;</span></span><span>
</span><span id="line-821"></span><span>        </span><span id="local-6989586621687053333"><span class="annot"><span class="annottext">liftQErr :: Except QErr a -&gt; n a
</span><a href="#local-6989586621687053333"><span class="hs-identifier hs-var hs-var">liftQErr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(QErr -&gt; n a) -&gt; (a -&gt; n a) -&gt; Either QErr a -&gt; n a
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ErrorMessage -&gt; n a
forall (m :: * -&gt; *) a. MonadParse m =&gt; ErrorMessage -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Class.html#parseError"><span class="hs-identifier hs-var">parseError</span></a></span><span> </span><span class="annot"><span class="annottext">(ErrorMessage -&gt; n a) -&gt; (QErr -&gt; ErrorMessage) -&gt; QErr -&gt; n a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ErrorMessage
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/error-message-1.0.0/opt/doc/html/error-message/src/Hasura.Base.ErrorMessage.html#toErrorMessage"><span class="hs-identifier hs-var">toErrorMessage</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; ErrorMessage) -&gt; (QErr -&gt; Text) -&gt; QErr -&gt; ErrorMessage
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">QErr -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#qeError"><span class="hs-identifier hs-var">qeError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; n a
forall a. a -&gt; n a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Either QErr a -&gt; n a)
-&gt; (Except QErr a -&gt; Either QErr a) -&gt; Except QErr a -&gt; n a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Except QErr a -&gt; Either QErr a
forall e a. Except e a -&gt; Either e a
</span><span class="hs-identifier hs-var">runExcept</span></span><span>
</span><span id="line-822"></span><span>
</span><span id="line-823"></span><span>        </span><span id="local-6989586621687053369"><span class="annot"><span class="annottext">mkAggregateOrderByPath :: AnnotatedAggregateOrderBy b -&gt; [Text]
</span><a href="#local-6989586621687053369"><span class="hs-identifier hs-var hs-var">mkAggregateOrderByPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-824"></span><span>          </span><span class="annot"><span class="annottext">AnnotatedAggregateOrderBy b
</span><a href="Hasura.RQL.IR.Select.OrderBy.html#AAOCount"><span class="hs-identifier hs-var">IR.AAOCount</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;count&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-825"></span><span>          </span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#AAOOp"><span class="hs-identifier hs-type">IR.AAOOp</span></a></span><span> </span><span id="local-6989586621687053372"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621687053372"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621687053373"><span class="annot"><span class="annottext">ColumnType b
</span><a href="#local-6989586621687053373"><span class="hs-identifier hs-var">_resultType</span></a></span></span><span> </span><span id="local-6989586621687053374"><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053374"><span class="hs-identifier hs-var">col</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621687053372"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Column b -&gt; Text
forall a. ToTxt a =&gt; a -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html#toTxt"><span class="hs-identifier hs-var">toTxt</span></a></span><span> </span><span class="annot"><span class="annottext">(Column b -&gt; Text) -&gt; Column b -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Column b
forall (b :: BackendType). ColumnInfo b -&gt; Column b
</span><a href="Hasura.RQL.Types.Column.html#ciColumn"><span class="hs-identifier hs-var">ciColumn</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053374"><span class="hs-identifier hs-var">col</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-826"></span><span>
</span><span id="line-827"></span><span>        </span><span id="local-6989586621687053348"><span class="annot"><span class="annottext">getPathFromOrderBy :: AnnotatedOrderByElement b (UnpreparedValue b) -&gt; [Text]
</span><a href="#local-6989586621687053348"><span class="hs-identifier hs-var hs-var">getPathFromOrderBy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-828"></span><span>          </span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#AOCColumn"><span class="hs-identifier hs-type">IR.AOCColumn</span></a></span><span> </span><span id="local-6989586621687053375"><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053375"><span class="hs-identifier hs-var">columnInfo</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-829"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053376"><span class="annot"><span class="annottext">pathElement :: Text
</span><a href="#local-6989586621687053376"><span class="hs-identifier hs-var hs-var">pathElement</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Column b -&gt; Text
forall a. ToTxt a =&gt; a -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html#toTxt"><span class="hs-identifier hs-var">toTxt</span></a></span><span> </span><span class="annot"><span class="annottext">(Column b -&gt; Text) -&gt; Column b -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Column b
forall (b :: BackendType). ColumnInfo b -&gt; Column b
</span><a href="Hasura.RQL.Types.Column.html#ciColumn"><span class="hs-identifier hs-var">ciColumn</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053375"><span class="hs-identifier hs-var">columnInfo</span></a></span><span>
</span><span id="line-830"></span><span>             </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621687053376"><span class="hs-identifier hs-var">pathElement</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-831"></span><span>          </span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#AOCObjectRelation"><span class="hs-identifier hs-type">IR.AOCObjectRelation</span></a></span><span> </span><span id="local-6989586621687053378"><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687053378"><span class="hs-identifier hs-var">relInfo</span></a></span></span><span> </span><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621687053379"><span class="annot"><span class="annottext">AnnotatedOrderByElement b (UnpreparedValue b)
</span><a href="#local-6989586621687053379"><span class="hs-identifier hs-var">obCol</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-832"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053380"><span class="annot"><span class="annottext">pathElement :: Text
</span><a href="#local-6989586621687053380"><span class="hs-identifier hs-var hs-var">pathElement</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RelName -&gt; Text
</span><a href="Hasura.RQL.Types.Common.html#relNameToTxt"><span class="hs-identifier hs-var">relNameToTxt</span></a></span><span> </span><span class="annot"><span class="annottext">(RelName -&gt; Text) -&gt; RelName -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RelInfo b -&gt; RelName
forall (b :: BackendType). RelInfo b -&gt; RelName
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riName"><span class="hs-identifier hs-var">riName</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687053378"><span class="hs-identifier hs-var">relInfo</span></a></span><span>
</span><span id="line-833"></span><span>             </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621687053380"><span class="hs-identifier hs-var">pathElement</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Text] -&gt; [Text]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">AnnotatedOrderByElement b (UnpreparedValue b) -&gt; [Text]
</span><a href="#local-6989586621687053348"><span class="hs-identifier hs-var">getPathFromOrderBy</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedOrderByElement b (UnpreparedValue b)
</span><a href="#local-6989586621687053379"><span class="hs-identifier hs-var">obCol</span></a></span><span>
</span><span id="line-834"></span><span>          </span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#AOCArrayAggregation"><span class="hs-identifier hs-type">IR.AOCArrayAggregation</span></a></span><span> </span><span id="local-6989586621687053384"><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687053384"><span class="hs-identifier hs-var">relInfo</span></a></span></span><span> </span><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621687053385"><span class="annot"><span class="annottext">AnnotatedAggregateOrderBy b
</span><a href="#local-6989586621687053385"><span class="hs-identifier hs-var">aggOb</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-835"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053386"><span class="annot"><span class="annottext">fieldName :: Text
</span><a href="#local-6989586621687053386"><span class="hs-identifier hs-var hs-var">fieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RelName -&gt; Text
</span><a href="Hasura.RQL.Types.Common.html#relNameToTxt"><span class="hs-identifier hs-var">relNameToTxt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelInfo b -&gt; RelName
forall (b :: BackendType). RelInfo b -&gt; RelName
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riName"><span class="hs-identifier hs-var">riName</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687053384"><span class="hs-identifier hs-var">relInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;_aggregate&quot;</span></span><span>
</span><span id="line-836"></span><span>             </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621687053386"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Text] -&gt; [Text]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">AnnotatedAggregateOrderBy b -&gt; [Text]
</span><a href="#local-6989586621687053369"><span class="hs-identifier hs-var">mkAggregateOrderByPath</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedAggregateOrderBy b
</span><a href="#local-6989586621687053385"><span class="hs-identifier hs-var">aggOb</span></a></span><span>
</span><span id="line-837"></span><span>          </span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#AOCComputedField"><span class="hs-identifier hs-type">IR.AOCComputedField</span></a></span><span> </span><span id="local-6989586621687053388"><span class="annot"><span class="annottext">ComputedFieldOrderBy b (UnpreparedValue b)
</span><a href="#local-6989586621687053388"><span class="hs-identifier hs-var">cfob</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-838"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053389"><span class="annot"><span class="annottext">fieldNameText :: Text
</span><a href="#local-6989586621687053389"><span class="hs-identifier hs-var hs-var">fieldNameText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ComputedFieldName -&gt; Text
</span><a href="Hasura.RQL.Types.ComputedField.Name.html#computedFieldNameToText"><span class="hs-identifier hs-var">computedFieldNameToText</span></a></span><span> </span><span class="annot"><span class="annottext">(ComputedFieldName -&gt; Text) -&gt; ComputedFieldName -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ComputedFieldOrderBy b (UnpreparedValue b) -&gt; ComputedFieldName
forall (b :: BackendType) v.
ComputedFieldOrderBy b v -&gt; ComputedFieldName
</span><a href="Hasura.RQL.IR.Select.OrderBy.html#%24sel%3A_cfobName%3AComputedFieldOrderBy"><span class="hs-identifier hs-var">IR._cfobName</span></a></span><span> </span><span class="annot"><span class="annottext">ComputedFieldOrderBy b (UnpreparedValue b)
</span><a href="#local-6989586621687053388"><span class="hs-identifier hs-var">cfob</span></a></span><span>
</span><span id="line-839"></span><span>             </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ComputedFieldOrderBy b (UnpreparedValue b)
-&gt; ComputedFieldOrderByElement b (UnpreparedValue b)
forall (b :: BackendType) v.
ComputedFieldOrderBy b v -&gt; ComputedFieldOrderByElement b v
</span><a href="Hasura.RQL.IR.Select.OrderBy.html#%24sel%3A_cfobOrderByElement%3AComputedFieldOrderBy"><span class="hs-identifier hs-var">IR._cfobOrderByElement</span></a></span><span> </span><span class="annot"><span class="annottext">ComputedFieldOrderBy b (UnpreparedValue b)
</span><a href="#local-6989586621687053388"><span class="hs-identifier hs-var">cfob</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-840"></span><span>                  </span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#CFOBEScalar"><span class="hs-identifier hs-type">IR.CFOBEScalar</span></a></span><span> </span><span class="annot"><span class="annottext">ScalarType b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621687053389"><span class="hs-identifier hs-var">fieldNameText</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-841"></span><span>                  </span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#CFOBETableAggregation"><span class="hs-identifier hs-type">IR.CFOBETableAggregation</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621687053395"><span class="annot"><span class="annottext">AnnotatedAggregateOrderBy b
</span><a href="#local-6989586621687053395"><span class="hs-identifier hs-var">aggOb</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-842"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621687053389"><span class="hs-identifier hs-var">fieldNameText</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;_aggregate&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Text] -&gt; [Text]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">AnnotatedAggregateOrderBy b -&gt; [Text]
</span><a href="#local-6989586621687053369"><span class="hs-identifier hs-var">mkAggregateOrderByPath</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedAggregateOrderBy b
</span><a href="#local-6989586621687053395"><span class="hs-identifier hs-var">aggOb</span></a></span><span>
</span><span id="line-843"></span><span>
</span><span id="line-844"></span><span>        </span><span id="local-6989586621687053346"><span class="annot"><span class="annottext">getOrderByColumnType :: AnnotatedOrderByElement b (UnpreparedValue b) -&gt; ColumnType b
</span><a href="#local-6989586621687053346"><span class="hs-identifier hs-var hs-var">getOrderByColumnType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-845"></span><span>          </span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#AOCColumn"><span class="hs-identifier hs-type">IR.AOCColumn</span></a></span><span> </span><span id="local-6989586621687053396"><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053396"><span class="hs-identifier hs-var">columnInfo</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ColumnInfo b -&gt; ColumnType b
forall (b :: BackendType). ColumnInfo b -&gt; ColumnType b
</span><a href="Hasura.RQL.Types.Column.html#ciType"><span class="hs-identifier hs-var">ciType</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053396"><span class="hs-identifier hs-var">columnInfo</span></a></span><span>
</span><span id="line-846"></span><span>          </span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#AOCObjectRelation"><span class="hs-identifier hs-type">IR.AOCObjectRelation</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621687053397"><span class="annot"><span class="annottext">AnnotatedOrderByElement b (UnpreparedValue b)
</span><a href="#local-6989586621687053397"><span class="hs-identifier hs-var">obCol</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AnnotatedOrderByElement b (UnpreparedValue b) -&gt; ColumnType b
</span><a href="#local-6989586621687053346"><span class="hs-identifier hs-var">getOrderByColumnType</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedOrderByElement b (UnpreparedValue b)
</span><a href="#local-6989586621687053397"><span class="hs-identifier hs-var">obCol</span></a></span><span>
</span><span id="line-847"></span><span>          </span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#AOCArrayAggregation"><span class="hs-identifier hs-type">IR.AOCArrayAggregation</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621687053398"><span class="annot"><span class="annottext">AnnotatedAggregateOrderBy b
</span><a href="#local-6989586621687053398"><span class="hs-identifier hs-var">aggOb</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AnnotatedAggregateOrderBy b -&gt; ColumnType b
</span><a href="#local-6989586621687053399"><span class="hs-identifier hs-var">aggregateOrderByColumnType</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedAggregateOrderBy b
</span><a href="#local-6989586621687053398"><span class="hs-identifier hs-var">aggOb</span></a></span><span>
</span><span id="line-848"></span><span>          </span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#AOCComputedField"><span class="hs-identifier hs-type">IR.AOCComputedField</span></a></span><span> </span><span id="local-6989586621687053400"><span class="annot"><span class="annottext">ComputedFieldOrderBy b (UnpreparedValue b)
</span><a href="#local-6989586621687053400"><span class="hs-identifier hs-var">cfob</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-849"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ComputedFieldOrderBy b (UnpreparedValue b)
-&gt; ComputedFieldOrderByElement b (UnpreparedValue b)
forall (b :: BackendType) v.
ComputedFieldOrderBy b v -&gt; ComputedFieldOrderByElement b v
</span><a href="Hasura.RQL.IR.Select.OrderBy.html#%24sel%3A_cfobOrderByElement%3AComputedFieldOrderBy"><span class="hs-identifier hs-var">IR._cfobOrderByElement</span></a></span><span> </span><span class="annot"><span class="annottext">ComputedFieldOrderBy b (UnpreparedValue b)
</span><a href="#local-6989586621687053400"><span class="hs-identifier hs-var">cfob</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-850"></span><span>              </span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#CFOBEScalar"><span class="hs-identifier hs-type">IR.CFOBEScalar</span></a></span><span> </span><span id="local-6989586621687053401"><span class="annot"><span class="annottext">ScalarType b
</span><a href="#local-6989586621687053401"><span class="hs-identifier hs-var">scalarType</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ScalarType b -&gt; ColumnType b
forall (b :: BackendType). ScalarType b -&gt; ColumnType b
</span><a href="Hasura.RQL.Types.Column.html#ColumnScalar"><span class="hs-identifier hs-var">ColumnScalar</span></a></span><span> </span><span class="annot"><span class="annottext">ScalarType b
</span><a href="#local-6989586621687053401"><span class="hs-identifier hs-var">scalarType</span></a></span><span>
</span><span id="line-851"></span><span>              </span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#CFOBETableAggregation"><span class="hs-identifier hs-type">IR.CFOBETableAggregation</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621687053403"><span class="annot"><span class="annottext">AnnotatedAggregateOrderBy b
</span><a href="#local-6989586621687053403"><span class="hs-identifier hs-var">aggOb</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AnnotatedAggregateOrderBy b -&gt; ColumnType b
</span><a href="#local-6989586621687053399"><span class="hs-identifier hs-var">aggregateOrderByColumnType</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedAggregateOrderBy b
</span><a href="#local-6989586621687053403"><span class="hs-identifier hs-var">aggOb</span></a></span><span>
</span><span id="line-852"></span><span>          </span><span class="hs-keyword">where</span><span>
</span><span id="line-853"></span><span>            </span><span id="local-6989586621687053399"><span class="annot"><span class="annottext">aggregateOrderByColumnType :: AnnotatedAggregateOrderBy b -&gt; ColumnType b
</span><a href="#local-6989586621687053399"><span class="hs-identifier hs-var hs-var">aggregateOrderByColumnType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-854"></span><span>              </span><span class="annot"><span class="annottext">AnnotatedAggregateOrderBy b
</span><a href="Hasura.RQL.IR.Select.OrderBy.html#AAOCount"><span class="hs-identifier hs-var">IR.AAOCount</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ScalarType b -&gt; ColumnType b
forall (b :: BackendType). ScalarType b -&gt; ColumnType b
</span><a href="Hasura.RQL.Types.Column.html#ColumnScalar"><span class="hs-identifier hs-var">ColumnScalar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (b :: BackendType). BackendSchema b =&gt; ScalarType b
</span><a href="Hasura.GraphQL.Schema.Backend.html#aggregateOrderByCountType"><span class="hs-identifier hs-var">aggregateOrderByCountType</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687051167"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-855"></span><span>              </span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#AAOOp"><span class="hs-identifier hs-type">IR.AAOOp</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621687053405"><span class="annot"><span class="annottext">ColumnType b
</span><a href="#local-6989586621687053405"><span class="hs-identifier hs-var">resultType</span></a></span></span><span> </span><span id="local-6989586621687053406"><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053406"><span class="hs-identifier hs-var">_colInfo</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ColumnType b
</span><a href="#local-6989586621687053405"><span class="hs-identifier hs-var">resultType</span></a></span><span>
</span><span id="line-856"></span><span>
</span><span id="line-857"></span><span class="hs-comment">-- | Aggregation fields</span><span>
</span><span id="line-858"></span><span class="hs-comment">--</span><span>
</span><span id="line-859"></span><span class="hs-comment">-- &gt; type table_aggregate_fields{</span><span>
</span><span id="line-860"></span><span class="hs-comment">-- &gt;   count(distinct: Boolean, columns: [table_select_column!]): Int!</span><span>
</span><span id="line-861"></span><span class="hs-comment">-- &gt;   sum: table_sum_fields</span><span>
</span><span id="line-862"></span><span class="hs-comment">-- &gt;   avg: table_avg_fields</span><span>
</span><span id="line-863"></span><span class="hs-comment">-- &gt;   stddev: table_stddev_fields</span><span>
</span><span id="line-864"></span><span class="hs-comment">-- &gt;   stddev_pop: table_stddev_pop_fields</span><span>
</span><span id="line-865"></span><span class="hs-comment">-- &gt;   variance: table_variance_fields</span><span>
</span><span id="line-866"></span><span class="hs-comment">-- &gt;   var_pop: table_var_pop_fields</span><span>
</span><span id="line-867"></span><span class="hs-comment">-- &gt;   max: table_max_fields</span><span>
</span><span id="line-868"></span><span class="hs-comment">-- &gt;   min: table_min_fields</span><span>
</span><span id="line-869"></span><span class="hs-comment">-- &gt; }</span><span>
</span><span id="line-870"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tableAggregationFields"><span class="hs-identifier hs-type">tableAggregationFields</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-871"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687051279"><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621687051280"><span class="annot"><a href="#local-6989586621687051280"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621687051281"><span class="annot"><a href="#local-6989586621687051281"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687051282"><span class="annot"><a href="#local-6989586621687051282"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-872"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#MonadBuildSchema"><span class="hs-identifier hs-type">MonadBuildSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051280"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051281"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051282"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-873"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#TableInfo"><span class="hs-identifier hs-type">TableInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-874"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051280"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051281"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Schema.Definition.html#Output"><span class="hs-identifier hs-type">Output</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051282"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#AggregateFields"><span class="hs-identifier hs-type">IR.AggregateFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-875"></span><span id="tableAggregationFields"><span class="annot"><span class="annottext">tableAggregationFields :: forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
TableInfo b
-&gt; SchemaT
     r m (Parser 'Output n (AggregateFields b (UnpreparedValue b)))
</span><a href="Hasura.GraphQL.Schema.Select.html#tableAggregationFields"><span class="hs-identifier hs-var hs-var">tableAggregationFields</span></a></span></span><span> </span><span id="local-6989586621687053616"><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053616"><span class="hs-identifier hs-var">tableInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-876"></span><span>  </span><span id="local-6989586621687053617"><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687053617"><span class="hs-identifier hs-var">sourceInfo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Source.html#SourceInfo"><span class="hs-identifier hs-type">SourceInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(r -&gt; SourceInfo b) -&gt; SchemaT r m (SourceInfo b)
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; SourceInfo b
forall a t. Has a t =&gt; t -&gt; a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/data-has-0.4.0.0-046b1b301c44f043005ecffcde95c748cd1a5249e8b9e9ea3eaa14bac0030231/share/doc/html/src/Data.Has.html#getter"><span class="hs-identifier hs-var">getter</span></a></span><span>
</span><span id="line-877"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053618"><span class="annot"><span class="annottext">sourceName :: SourceName
</span><a href="#local-6989586621687053618"><span class="hs-identifier hs-var hs-var">sourceName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceInfo b -&gt; SourceName
forall (b :: BackendType). SourceInfo b -&gt; SourceName
</span><a href="Hasura.RQL.Types.Source.html#_siName"><span class="hs-identifier hs-var">_siName</span></a></span><span> </span><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687053617"><span class="hs-identifier hs-var">sourceInfo</span></a></span><span>
</span><span id="line-878"></span><span>      </span><span id="local-6989586621687053619"><span class="annot"><span class="annottext">tableName :: TableName b
</span><a href="#local-6989586621687053619"><span class="hs-identifier hs-var hs-var">tableName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; TableName b
forall (b :: BackendType). TableInfo b -&gt; TableName b
</span><a href="Hasura.Table.Cache.html#tableInfoName"><span class="hs-identifier hs-var">tableInfoName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053616"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-879"></span><span>      </span><span id="local-6989586621687053620"><span class="annot"><span class="annottext">customization :: ResolvedSourceCustomization
</span><a href="#local-6989586621687053620"><span class="hs-identifier hs-var hs-var">customization</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourceInfo b -&gt; ResolvedSourceCustomization
forall (b :: BackendType).
SourceInfo b -&gt; ResolvedSourceCustomization
</span><a href="Hasura.RQL.Types.Source.html#_siCustomization"><span class="hs-identifier hs-var">_siCustomization</span></a></span><span> </span><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687053617"><span class="hs-identifier hs-var">sourceInfo</span></a></span><span>
</span><span id="line-880"></span><span>      </span><span id="local-6989586621687053621"><span class="annot"><span class="annottext">tCase :: NamingCase
</span><a href="#local-6989586621687053621"><span class="hs-identifier hs-var hs-var">tCase</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization -&gt; NamingCase
</span><a href="Hasura.RQL.Types.SourceCustomization.html#_rscNamingConvention"><span class="hs-identifier hs-var">_rscNamingConvention</span></a></span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization
</span><a href="#local-6989586621687053620"><span class="hs-identifier hs-var">customization</span></a></span><span>
</span><span id="line-881"></span><span>      </span><span id="local-6989586621687053622"><span class="annot"><span class="annottext">mkTypename :: MkTypename
</span><a href="#local-6989586621687053622"><span class="hs-identifier hs-var hs-var">mkTypename</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization -&gt; MkTypename
</span><a href="Hasura.RQL.Types.SourceCustomization.html#_rscTypeNames"><span class="hs-identifier hs-var">_rscTypeNames</span></a></span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization
</span><a href="#local-6989586621687053620"><span class="hs-identifier hs-var">customization</span></a></span><span>
</span><span id="line-882"></span><span>  </span><span class="annot"><span class="annottext">Name
-&gt; (SourceName, TableName b)
-&gt; SchemaT
     r m (Parser 'Output n (AggregateFields b (UnpreparedValue b)))
-&gt; SchemaT
     r m (Parser 'Output n (AggregateFields b (UnpreparedValue b)))
forall (m :: * -&gt; *) a (p :: (* -&gt; *) -&gt; * -&gt; *) (n :: * -&gt; *) b.
(MonadMemoize m, Ord a, Typeable a, Typeable p, MonadParse n,
 Typeable b) =&gt;
Name -&gt; a -&gt; m (p n b) -&gt; m (p n b)
</span><a href="Hasura.GraphQL.Schema.Parser.html#memoizeOn"><span class="hs-identifier hs-var">P.memoizeOn</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-identifier">tableAggregationFields</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621687053618"><span class="hs-identifier hs-var">sourceName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687053619"><span class="hs-identifier hs-var">tableName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-883"></span><span>    </span><span id="local-6989586621687053623"><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053623"><span class="hs-identifier hs-var">tableGQLName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; SchemaT r m GQLNameIdentifier
forall (b :: BackendType) (m :: * -&gt; *).
(Backend b, MonadError QErr m) =&gt;
TableInfo b -&gt; m GQLNameIdentifier
</span><a href="Hasura.GraphQL.Schema.Table.html#getTableIdentifierName"><span class="hs-identifier hs-var">getTableIdentifierName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053616"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-884"></span><span>    </span><span id="local-6989586621687053624"><span class="annot"><span class="annottext">[ColumnInfo b]
</span><a href="#local-6989586621687053624"><span class="hs-identifier hs-var">allColumns</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(StructuredColumnInfo b -&gt; Maybe (ColumnInfo b))
-&gt; [StructuredColumnInfo b] -&gt; [ColumnInfo b]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b.
Filterable f =&gt;
(a -&gt; Maybe b) -&gt; f a -&gt; f b
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/witherable-0.4.2-a40f3f0a2ed7f25145b5b00589bf4ea2486662b1e96b7d29d5e6041625ee4a09/share/doc/html/src/Witherable.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StructuredColumnInfo b
-&gt; Getting
     (First (ColumnInfo b)) (StructuredColumnInfo b) (ColumnInfo b)
-&gt; Maybe (ColumnInfo b)
forall s a. s -&gt; Getting (First a) s a -&gt; Maybe a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Fold.html#%5E%3F"><span class="hs-operator hs-var">^?</span></a></span><span> </span><span class="annot"><span class="annottext">Getting
  (First (ColumnInfo b)) (StructuredColumnInfo b) (ColumnInfo b)
forall (b :: BackendType) (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Choice p, Applicative f) =&gt;
p (ColumnInfo b) (f (ColumnInfo b))
-&gt; p (StructuredColumnInfo b) (f (StructuredColumnInfo b))
</span><a href="Hasura.RQL.Types.Column.html#_SCIScalarColumn"><span class="hs-identifier hs-var">_SCIScalarColumn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([StructuredColumnInfo b] -&gt; [ColumnInfo b])
-&gt; SchemaT r m [StructuredColumnInfo b]
-&gt; SchemaT r m [ColumnInfo b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; SchemaT r m [StructuredColumnInfo b]
forall (b :: BackendType) r (m :: * -&gt; *).
(Backend b, MonadError QErr m, MonadReader r m,
 Has SchemaContext r, Has (SourceInfo b) r) =&gt;
TableInfo b -&gt; m [StructuredColumnInfo b]
</span><a href="Hasura.GraphQL.Schema.Table.html#tableSelectColumns"><span class="hs-identifier hs-var">tableSelectColumns</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053616"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-885"></span><span>    </span><span id="local-6989586621687053628"><span class="annot"><span class="annottext">[ComputedFieldInfo b]
</span><a href="#local-6989586621687053628"><span class="hs-identifier hs-var">allComputedFields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-886"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType). Backend b =&gt; Bool
</span><a href="Hasura.RQL.Types.Backend.html#supportsAggregateComputedFields"><span class="hs-identifier hs-var">supportsAggregateComputedFields</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-comment">-- See 'supportsAggregateComputedFields' for an explanation</span><span>
</span><span id="line-887"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; SchemaT r m [ComputedFieldInfo b]
forall (b :: BackendType) r (m :: * -&gt; *).
(Backend b, MonadError QErr m, MonadReader r m,
 Has SchemaContext r, Has (SourceInfo b) r) =&gt;
TableInfo b -&gt; m [ComputedFieldInfo b]
</span><a href="Hasura.GraphQL.Schema.Table.html#tableSelectComputedFields"><span class="hs-identifier hs-var">tableSelectComputedFields</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053616"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-888"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">[ComputedFieldInfo b] -&gt; SchemaT r m [ComputedFieldInfo b]
forall a. a -&gt; SchemaT r m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-889"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053631"><span class="annot"><span class="annottext">numericColumns :: [ColumnInfo b]
</span><a href="#local-6989586621687053631"><span class="hs-identifier hs-var hs-var">numericColumns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ColumnInfo b] -&gt; [ColumnInfo b]
forall (b :: BackendType).
Backend b =&gt;
[ColumnInfo b] -&gt; [ColumnInfo b]
</span><a href="Hasura.RQL.Types.Column.html#onlyNumCols"><span class="hs-identifier hs-var">onlyNumCols</span></a></span><span> </span><span class="annot"><span class="annottext">[ColumnInfo b]
</span><a href="#local-6989586621687053624"><span class="hs-identifier hs-var">allColumns</span></a></span><span>
</span><span id="line-890"></span><span>        </span><span id="local-6989586621687053633"><span class="annot"><span class="annottext">numericComputedFields :: [ComputedFieldInfo b]
</span><a href="#local-6989586621687053633"><span class="hs-identifier hs-var hs-var">numericComputedFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ComputedFieldInfo b] -&gt; [ComputedFieldInfo b]
forall (b :: BackendType).
Backend b =&gt;
[ComputedFieldInfo b] -&gt; [ComputedFieldInfo b]
</span><a href="Hasura.RQL.Types.ComputedField.html#onlyNumComputedFields"><span class="hs-identifier hs-var">onlyNumComputedFields</span></a></span><span> </span><span class="annot"><span class="annottext">[ComputedFieldInfo b]
</span><a href="#local-6989586621687053628"><span class="hs-identifier hs-var">allComputedFields</span></a></span><span>
</span><span id="line-891"></span><span>        </span><span id="local-6989586621687053635"><span class="annot"><span class="annottext">comparableColumns :: [ColumnInfo b]
</span><a href="#local-6989586621687053635"><span class="hs-identifier hs-var hs-var">comparableColumns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ColumnInfo b] -&gt; [ColumnInfo b]
forall (b :: BackendType).
Backend b =&gt;
[ColumnInfo b] -&gt; [ColumnInfo b]
</span><a href="Hasura.RQL.Types.Column.html#onlyComparableCols"><span class="hs-identifier hs-var">onlyComparableCols</span></a></span><span> </span><span class="annot"><span class="annottext">[ColumnInfo b]
</span><a href="#local-6989586621687053624"><span class="hs-identifier hs-var">allColumns</span></a></span><span>
</span><span id="line-892"></span><span>        </span><span id="local-6989586621687053637"><span class="annot"><span class="annottext">comparableComputedFields :: [ComputedFieldInfo b]
</span><a href="#local-6989586621687053637"><span class="hs-identifier hs-var hs-var">comparableComputedFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ComputedFieldInfo b] -&gt; [ComputedFieldInfo b]
forall (b :: BackendType).
Backend b =&gt;
[ComputedFieldInfo b] -&gt; [ComputedFieldInfo b]
</span><a href="Hasura.RQL.Types.ComputedField.html#onlyComparableComputedFields"><span class="hs-identifier hs-var">onlyComparableComputedFields</span></a></span><span> </span><span class="annot"><span class="annottext">[ComputedFieldInfo b]
</span><a href="#local-6989586621687053628"><span class="hs-identifier hs-var">allComputedFields</span></a></span><span>
</span><span id="line-893"></span><span>        </span><span id="local-6989586621687053639"><span class="annot"><span class="annottext">customOperatorsAndColumns :: [(Name, NonEmpty (ColumnInfo b, ScalarType b))]
</span><a href="#local-6989586621687053639"><span class="hs-identifier hs-var hs-var">customOperatorsAndColumns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-894"></span><span>          </span><span class="annot"><span class="annottext">HashMap Name (NonEmpty (ColumnInfo b, ScalarType b))
-&gt; [(Name, NonEmpty (ColumnInfo b, ScalarType b))]
forall k v. HashMap k v -&gt; [(k, v)]
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.html#toList"><span class="hs-identifier hs-var">HashMap.toList</span></a></span><span> </span><span class="annot"><span class="annottext">(HashMap Name (NonEmpty (ColumnInfo b, ScalarType b))
 -&gt; [(Name, NonEmpty (ColumnInfo b, ScalarType b))])
-&gt; HashMap Name (NonEmpty (ColumnInfo b, ScalarType b))
-&gt; [(Name, NonEmpty (ColumnInfo b, ScalarType b))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(HashMap (ScalarType b) (ScalarType b)
 -&gt; Maybe (NonEmpty (ColumnInfo b, ScalarType b)))
-&gt; HashMap Name (HashMap (ScalarType b) (ScalarType b))
-&gt; HashMap Name (NonEmpty (ColumnInfo b, ScalarType b))
forall v1 v2 k. (v1 -&gt; Maybe v2) -&gt; HashMap k v1 -&gt; HashMap k v2
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.Strict.html#mapMaybe"><span class="hs-identifier hs-var">HashMap.mapMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ColumnInfo b]
-&gt; HashMap (ScalarType b) (ScalarType b)
-&gt; Maybe (NonEmpty (ColumnInfo b, ScalarType b))
</span><a href="#local-6989586621687053642"><span class="hs-identifier hs-var">getCustomAggOpsColumns</span></a></span><span> </span><span class="annot"><span class="annottext">[ColumnInfo b]
</span><a href="#local-6989586621687053624"><span class="hs-identifier hs-var">allColumns</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(HashMap Name (HashMap (ScalarType b) (ScalarType b))
 -&gt; HashMap Name (NonEmpty (ColumnInfo b, ScalarType b)))
-&gt; HashMap Name (HashMap (ScalarType b) (ScalarType b))
-&gt; HashMap Name (NonEmpty (ColumnInfo b, ScalarType b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType).
Backend b =&gt;
SourceConfig b
-&gt; HashMap Name (HashMap (ScalarType b) (ScalarType b))
</span><a href="Hasura.RQL.Types.Backend.html#getCustomAggregateOperators"><span class="hs-identifier hs-var">getCustomAggregateOperators</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourceInfo b -&gt; SourceConfig b
forall (b :: BackendType). SourceInfo b -&gt; SourceConfig b
</span><a href="Hasura.RQL.Types.Source.html#_siConfiguration"><span class="hs-identifier hs-var">_siConfiguration</span></a></span><span> </span><span class="annot"><span class="annottext">SourceInfo b
</span><a href="#local-6989586621687053617"><span class="hs-identifier hs-var">sourceInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-895"></span><span>        </span><span id="local-6989586621687053645"><span class="annot"><span class="annottext">description :: Description
</span><a href="#local-6989586621687053645"><span class="hs-identifier hs-var hs-var">description</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-var">G.Description</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Description) -&gt; Text -&gt; Description
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;aggregate fields of &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; TableName b -&gt; Text
forall t. ToTxt t =&gt; Text -&gt; t -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html#%3C%3E%3E"><span class="hs-operator hs-var">&lt;&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; TableName b
forall (b :: BackendType). TableInfo b -&gt; TableName b
</span><a href="Hasura.Table.Cache.html#tableInfoName"><span class="hs-identifier hs-var">tableInfoName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053616"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-896"></span><span>        </span><span id="local-6989586621687053646"><span class="annot"><span class="annottext">selectName :: Name
</span><a href="#local-6989586621687053646"><span class="hs-identifier hs-var hs-var">selectName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MkTypename -&gt; Name -&gt; Name
</span><a href="Hasura.GraphQL.Schema.Typename.html#runMkTypename"><span class="hs-identifier hs-var">runMkTypename</span></a></span><span> </span><span class="annot"><span class="annottext">MkTypename
</span><a href="#local-6989586621687053622"><span class="hs-identifier hs-var">mkTypename</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; Name -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NamingCase -&gt; GQLNameIdentifier -&gt; Name
</span><a href="Hasura.RQL.Types.SourceCustomization.html#applyTypeNameCaseIdentifier"><span class="hs-identifier hs-var">applyTypeNameCaseIdentifier</span></a></span><span> </span><span class="annot"><span class="annottext">NamingCase
</span><a href="#local-6989586621687053621"><span class="hs-identifier hs-var">tCase</span></a></span><span> </span><span class="annot"><span class="annottext">(GQLNameIdentifier -&gt; Name) -&gt; GQLNameIdentifier -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier -&gt; GQLNameIdentifier
</span><a href="Hasura.RQL.Types.SourceCustomization.html#mkTableAggregateFieldTypeName"><span class="hs-identifier hs-var">mkTableAggregateFieldTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053623"><span class="hs-identifier hs-var">tableGQLName</span></a></span><span>
</span><span id="line-897"></span><span>    </span><span id="local-6989586621687053648"><span class="annot"><span class="annottext">FieldParser n (AggregateField b (UnpreparedValue b))
</span><a href="#local-6989586621687053648"><span class="hs-identifier hs-var">count</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SchemaT r m (FieldParser n (AggregateField b (UnpreparedValue b)))
</span><a href="#local-6989586621687053649"><span class="hs-identifier hs-var">countField</span></a></span><span>
</span><span id="line-898"></span><span>    </span><span id="local-6989586621687053650"><span class="annot"><span class="annottext">HashMap
  GQLNameIdentifier
  [FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053650"><span class="hs-identifier hs-var">nonCountComputedFieldsMap</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-899"></span><span>      </span><span class="annot"><span class="annottext">([[HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]]]
 -&gt; HashMap
      GQLNameIdentifier
      [FieldParser n (SelectionField b (UnpreparedValue b))])
-&gt; SchemaT
     r
     m
     [[HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]]]
-&gt; SchemaT
     r
     m
     (HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))])
forall a b. (a -&gt; b) -&gt; SchemaT r m a -&gt; SchemaT r m b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([FieldParser n (SelectionField b (UnpreparedValue b))]
 -&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
 -&gt; [FieldParser n (SelectionField b (UnpreparedValue b))])
-&gt; [HashMap
      GQLNameIdentifier
      [FieldParser n (SelectionField b (UnpreparedValue b))]]
-&gt; HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]
forall k (t :: * -&gt; *) v.
(Hashable k, Foldable t) =&gt;
(v -&gt; v -&gt; v) -&gt; t (HashMap k v) -&gt; HashMap k v
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.HashMap.Strict.Extended.html#unionsWith"><span class="hs-identifier hs-var">HashMap.unionsWith</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldParser n (SelectionField b (UnpreparedValue b))]
-&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
-&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">(++)</span></span><span> </span><span class="annot"><span class="annottext">([HashMap
    GQLNameIdentifier
    [FieldParser n (SelectionField b (UnpreparedValue b))]]
 -&gt; HashMap
      GQLNameIdentifier
      [FieldParser n (SelectionField b (UnpreparedValue b))])
-&gt; ([[HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]]]
    -&gt; [HashMap
          GQLNameIdentifier
          [FieldParser n (SelectionField b (UnpreparedValue b))]])
-&gt; [[HashMap
       GQLNameIdentifier
       [FieldParser n (SelectionField b (UnpreparedValue b))]]]
-&gt; HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[[HashMap
    GQLNameIdentifier
    [FieldParser n (SelectionField b (UnpreparedValue b))]]]
-&gt; [HashMap
      GQLNameIdentifier
      [FieldParser n (SelectionField b (UnpreparedValue b))]]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span class="hs-special">)</span><span>
</span><span id="line-900"></span><span>        </span><span class="annot"><span class="annottext">(SchemaT
   r
   m
   [[HashMap
       GQLNameIdentifier
       [FieldParser n (SelectionField b (UnpreparedValue b))]]]
 -&gt; SchemaT
      r
      m
      (HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]))
-&gt; SchemaT
     r
     m
     [[HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]]]
-&gt; SchemaT
     r
     m
     (HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[SchemaT
   r
   m
   [HashMap
      GQLNameIdentifier
      [FieldParser n (SelectionField b (UnpreparedValue b))]]]
-&gt; SchemaT
     r
     m
     [[HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]]]
forall (t :: * -&gt; *) (f :: * -&gt; *) a.
(Traversable t, Applicative f) =&gt;
t (f a) -&gt; f (t a)
forall (f :: * -&gt; *) a. Applicative f =&gt; [f a] -&gt; f [a]
</span><span class="hs-identifier hs-var">sequenceA</span></span><span>
</span><span id="line-901"></span><span>        </span><span class="annot"><span class="annottext">([SchemaT
    r
    m
    [HashMap
       GQLNameIdentifier
       [FieldParser n (SelectionField b (UnpreparedValue b))]]]
 -&gt; SchemaT
      r
      m
      [[HashMap
          GQLNameIdentifier
          [FieldParser n (SelectionField b (UnpreparedValue b))]]])
-&gt; [SchemaT
      r
      m
      [HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]]]
-&gt; SchemaT
     r
     m
     [[HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]]]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Maybe
   (SchemaT
      r
      m
      [HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]])]
-&gt; [SchemaT
      r
      m
      [HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]]]
forall a. [Maybe a] -&gt; [a]
forall (f :: * -&gt; *) a. Filterable f =&gt; f (Maybe a) -&gt; f a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/witherable-0.4.2-a40f3f0a2ed7f25145b5b00589bf4ea2486662b1e96b7d29d5e6041625ee4a09/share/doc/html/src/Witherable.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span>
</span><span id="line-902"></span><span>          </span><span class="hs-special">[</span><span> </span><span class="hs-comment">-- operators on numeric computed fields</span><span>
</span><span id="line-903"></span><span>            </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[ComputedFieldInfo b] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[ComputedFieldInfo b]
</span><a href="#local-6989586621687053633"><span class="hs-identifier hs-var">numericComputedFields</span></a></span><span>
</span><span id="line-904"></span><span>              </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe
  (SchemaT
     r
     m
     [HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-905"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SchemaT
  r
  m
  [HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]]
-&gt; Maybe
     (SchemaT
        r
        m
        [HashMap
           GQLNameIdentifier
           [FieldParser n (SelectionField b (UnpreparedValue b))]])
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span>
</span><span id="line-906"></span><span>                </span><span class="annot"><span class="annottext">(SchemaT
   r
   m
   [HashMap
      GQLNameIdentifier
      [FieldParser n (SelectionField b (UnpreparedValue b))]]
 -&gt; Maybe
      (SchemaT
         r
         m
         [HashMap
            GQLNameIdentifier
            [FieldParser n (SelectionField b (UnpreparedValue b))]]))
-&gt; SchemaT
     r
     m
     [HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]]
-&gt; Maybe
     (SchemaT
        r
        m
        [HashMap
           GQLNameIdentifier
           [FieldParser n (SelectionField b (UnpreparedValue b))]])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[GQLNameIdentifier]
-&gt; (GQLNameIdentifier
    -&gt; SchemaT
         r
         m
         (HashMap
            GQLNameIdentifier
            [FieldParser n (SelectionField b (UnpreparedValue b))]))
-&gt; SchemaT
     r
     m
     [HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><span class="hs-identifier hs-var">for</span></span><span> </span><span class="annot"><span class="annottext">[GQLNameIdentifier]
</span><a href="Hasura.GraphQL.Schema.Common.html#numericAggOperators"><span class="hs-identifier hs-var">numericAggOperators</span></a></span><span>
</span><span id="line-907"></span><span>                </span><span class="annot"><span class="annottext">((GQLNameIdentifier
  -&gt; SchemaT
       r
       m
       (HashMap
          GQLNameIdentifier
          [FieldParser n (SelectionField b (UnpreparedValue b))]))
 -&gt; SchemaT
      r
      m
      [HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]])
-&gt; (GQLNameIdentifier
    -&gt; SchemaT
         r
         m
         (HashMap
            GQLNameIdentifier
            [FieldParser n (SelectionField b (UnpreparedValue b))]))
-&gt; SchemaT
     r
     m
     [HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687053654"><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053654"><span class="hs-identifier hs-var">operator</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-908"></span><span>                  </span><span id="local-6989586621687053655"><span class="annot"><span class="annottext">[FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053655"><span class="hs-identifier hs-var">numFields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TableName b
-&gt; [ComputedFieldInfo b]
-&gt; SchemaT
     r m [FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053656"><span class="hs-identifier hs-var">mkColumnAggComputedFields</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687053619"><span class="hs-identifier hs-var">tableName</span></a></span><span> </span><span class="annot"><span class="annottext">[ComputedFieldInfo b]
</span><a href="#local-6989586621687053633"><span class="hs-identifier hs-var">numericComputedFields</span></a></span><span>
</span><span id="line-909"></span><span>
</span><span id="line-910"></span><span>                  </span><span class="hs-identifier">pure</span><span> </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
-&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
-&gt; HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]
forall k v. Hashable k =&gt; k -&gt; v -&gt; HashMap k v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.Strict.html#singleton"><span class="hs-identifier hs-var">HashMap.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053654"><span class="hs-identifier hs-var">operator</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053655"><span class="hs-identifier hs-var">numFields</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-911"></span><span>            </span><span class="hs-comment">-- operators on comparable computed fields</span><span>
</span><span id="line-912"></span><span>            </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[ComputedFieldInfo b] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[ComputedFieldInfo b]
</span><a href="#local-6989586621687053637"><span class="hs-identifier hs-var">comparableComputedFields</span></a></span><span>
</span><span id="line-913"></span><span>              </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe
  (SchemaT
     r
     m
     [HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-914"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SchemaT
  r
  m
  [HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]]
-&gt; Maybe
     (SchemaT
        r
        m
        [HashMap
           GQLNameIdentifier
           [FieldParser n (SelectionField b (UnpreparedValue b))]])
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span>
</span><span id="line-915"></span><span>                </span><span class="annot"><span class="annottext">(SchemaT
   r
   m
   [HashMap
      GQLNameIdentifier
      [FieldParser n (SelectionField b (UnpreparedValue b))]]
 -&gt; Maybe
      (SchemaT
         r
         m
         [HashMap
            GQLNameIdentifier
            [FieldParser n (SelectionField b (UnpreparedValue b))]]))
-&gt; SchemaT
     r
     m
     [HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]]
-&gt; Maybe
     (SchemaT
        r
        m
        [HashMap
           GQLNameIdentifier
           [FieldParser n (SelectionField b (UnpreparedValue b))]])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[GQLNameIdentifier]
-&gt; (GQLNameIdentifier
    -&gt; SchemaT
         r
         m
         (HashMap
            GQLNameIdentifier
            [FieldParser n (SelectionField b (UnpreparedValue b))]))
-&gt; SchemaT
     r
     m
     [HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><span class="hs-identifier hs-var">for</span></span><span> </span><span class="annot"><span class="annottext">[GQLNameIdentifier]
</span><a href="Hasura.GraphQL.Schema.Common.html#comparisonAggOperators"><span class="hs-identifier hs-var">comparisonAggOperators</span></a></span><span>
</span><span id="line-916"></span><span>                </span><span class="annot"><span class="annottext">((GQLNameIdentifier
  -&gt; SchemaT
       r
       m
       (HashMap
          GQLNameIdentifier
          [FieldParser n (SelectionField b (UnpreparedValue b))]))
 -&gt; SchemaT
      r
      m
      [HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]])
-&gt; (GQLNameIdentifier
    -&gt; SchemaT
         r
         m
         (HashMap
            GQLNameIdentifier
            [FieldParser n (SelectionField b (UnpreparedValue b))]))
-&gt; SchemaT
     r
     m
     [HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687053658"><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053658"><span class="hs-identifier hs-var">operator</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-917"></span><span>                  </span><span id="local-6989586621687053659"><span class="annot"><span class="annottext">[FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053659"><span class="hs-identifier hs-var">comparableFields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TableName b
-&gt; [ComputedFieldInfo b]
-&gt; SchemaT
     r m [FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053656"><span class="hs-identifier hs-var">mkColumnAggComputedFields</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687053619"><span class="hs-identifier hs-var">tableName</span></a></span><span> </span><span class="annot"><span class="annottext">[ComputedFieldInfo b]
</span><a href="#local-6989586621687053637"><span class="hs-identifier hs-var">comparableComputedFields</span></a></span><span>
</span><span id="line-918"></span><span>
</span><span id="line-919"></span><span>                  </span><span class="hs-identifier">pure</span><span> </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
-&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
-&gt; HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]
forall k v. Hashable k =&gt; k -&gt; v -&gt; HashMap k v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.Strict.html#singleton"><span class="hs-identifier hs-var">HashMap.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053658"><span class="hs-identifier hs-var">operator</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053659"><span class="hs-identifier hs-var">comparableFields</span></a></span><span>
</span><span id="line-920"></span><span>          </span><span class="hs-special">]</span><span>
</span><span id="line-921"></span><span>    </span><span id="local-6989586621687053660"><span class="annot"><span class="annottext">HashMap
  GQLNameIdentifier
  [FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053660"><span class="hs-identifier hs-var">nonCountFieldsMap</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-922"></span><span>      </span><span class="annot"><span class="annottext">([[HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]]]
 -&gt; HashMap
      GQLNameIdentifier
      [FieldParser n (SelectionField b (UnpreparedValue b))])
-&gt; SchemaT
     r
     m
     [[HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]]]
-&gt; SchemaT
     r
     m
     (HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))])
forall a b. (a -&gt; b) -&gt; SchemaT r m a -&gt; SchemaT r m b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([FieldParser n (SelectionField b (UnpreparedValue b))]
 -&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
 -&gt; [FieldParser n (SelectionField b (UnpreparedValue b))])
-&gt; [HashMap
      GQLNameIdentifier
      [FieldParser n (SelectionField b (UnpreparedValue b))]]
-&gt; HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]
forall k (t :: * -&gt; *) v.
(Hashable k, Foldable t) =&gt;
(v -&gt; v -&gt; v) -&gt; t (HashMap k v) -&gt; HashMap k v
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.HashMap.Strict.Extended.html#unionsWith"><span class="hs-identifier hs-var">HashMap.unionsWith</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldParser n (SelectionField b (UnpreparedValue b))]
-&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
-&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">(++)</span></span><span> </span><span class="annot"><span class="annottext">([HashMap
    GQLNameIdentifier
    [FieldParser n (SelectionField b (UnpreparedValue b))]]
 -&gt; HashMap
      GQLNameIdentifier
      [FieldParser n (SelectionField b (UnpreparedValue b))])
-&gt; ([[HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]]]
    -&gt; [HashMap
          GQLNameIdentifier
          [FieldParser n (SelectionField b (UnpreparedValue b))]])
-&gt; [[HashMap
       GQLNameIdentifier
       [FieldParser n (SelectionField b (UnpreparedValue b))]]]
-&gt; HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[[HashMap
    GQLNameIdentifier
    [FieldParser n (SelectionField b (UnpreparedValue b))]]]
-&gt; [HashMap
      GQLNameIdentifier
      [FieldParser n (SelectionField b (UnpreparedValue b))]]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span class="hs-special">)</span><span>
</span><span id="line-923"></span><span>        </span><span class="annot"><span class="annottext">(SchemaT
   r
   m
   [[HashMap
       GQLNameIdentifier
       [FieldParser n (SelectionField b (UnpreparedValue b))]]]
 -&gt; SchemaT
      r
      m
      (HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]))
-&gt; SchemaT
     r
     m
     [[HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]]]
-&gt; SchemaT
     r
     m
     (HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[SchemaT
   r
   m
   [HashMap
      GQLNameIdentifier
      [FieldParser n (SelectionField b (UnpreparedValue b))]]]
-&gt; SchemaT
     r
     m
     [[HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]]]
forall (t :: * -&gt; *) (f :: * -&gt; *) a.
(Traversable t, Applicative f) =&gt;
t (f a) -&gt; f (t a)
forall (f :: * -&gt; *) a. Applicative f =&gt; [f a] -&gt; f [a]
</span><span class="hs-identifier hs-var">sequenceA</span></span><span>
</span><span id="line-924"></span><span>        </span><span class="annot"><span class="annottext">([SchemaT
    r
    m
    [HashMap
       GQLNameIdentifier
       [FieldParser n (SelectionField b (UnpreparedValue b))]]]
 -&gt; SchemaT
      r
      m
      [[HashMap
          GQLNameIdentifier
          [FieldParser n (SelectionField b (UnpreparedValue b))]]])
-&gt; [SchemaT
      r
      m
      [HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]]]
-&gt; SchemaT
     r
     m
     [[HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]]]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Maybe
   (SchemaT
      r
      m
      [HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]])]
-&gt; [SchemaT
      r
      m
      [HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]]]
forall a. [Maybe a] -&gt; [a]
forall (f :: * -&gt; *) a. Filterable f =&gt; f (Maybe a) -&gt; f a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/witherable-0.4.2-a40f3f0a2ed7f25145b5b00589bf4ea2486662b1e96b7d29d5e6041625ee4a09/share/doc/html/src/Witherable.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span>
</span><span id="line-925"></span><span>          </span><span class="hs-special">[</span><span> </span><span class="hs-comment">-- operators on numeric columns</span><span>
</span><span id="line-926"></span><span>            </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[ColumnInfo b] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[ColumnInfo b]
</span><a href="#local-6989586621687053631"><span class="hs-identifier hs-var">numericColumns</span></a></span><span>
</span><span id="line-927"></span><span>              </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe
  (SchemaT
     r
     m
     [HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-928"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SchemaT
  r
  m
  [HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]]
-&gt; Maybe
     (SchemaT
        r
        m
        [HashMap
           GQLNameIdentifier
           [FieldParser n (SelectionField b (UnpreparedValue b))]])
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span>
</span><span id="line-929"></span><span>                </span><span class="annot"><span class="annottext">(SchemaT
   r
   m
   [HashMap
      GQLNameIdentifier
      [FieldParser n (SelectionField b (UnpreparedValue b))]]
 -&gt; Maybe
      (SchemaT
         r
         m
         [HashMap
            GQLNameIdentifier
            [FieldParser n (SelectionField b (UnpreparedValue b))]]))
-&gt; SchemaT
     r
     m
     [HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]]
-&gt; Maybe
     (SchemaT
        r
        m
        [HashMap
           GQLNameIdentifier
           [FieldParser n (SelectionField b (UnpreparedValue b))]])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[GQLNameIdentifier]
-&gt; (GQLNameIdentifier
    -&gt; SchemaT
         r
         m
         (HashMap
            GQLNameIdentifier
            [FieldParser n (SelectionField b (UnpreparedValue b))]))
-&gt; SchemaT
     r
     m
     [HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><span class="hs-identifier hs-var">for</span></span><span> </span><span class="annot"><span class="annottext">[GQLNameIdentifier]
</span><a href="Hasura.GraphQL.Schema.Common.html#numericAggOperators"><span class="hs-identifier hs-var">numericAggOperators</span></a></span><span>
</span><span id="line-930"></span><span>                </span><span class="annot"><span class="annottext">((GQLNameIdentifier
  -&gt; SchemaT
       r
       m
       (HashMap
          GQLNameIdentifier
          [FieldParser n (SelectionField b (UnpreparedValue b))]))
 -&gt; SchemaT
      r
      m
      [HashMap
         GQLNameIdentifier
         [FieldParser n (SelectionField b (UnpreparedValue b))]])
-&gt; (GQLNameIdentifier
    -&gt; SchemaT
         r
         m
         (HashMap
            GQLNameIdentifier
            [FieldParser n (SelectionField b (UnpreparedValue b))]))
-&gt; SchemaT
     r
     m
     [HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687053661"><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053661"><span class="hs-identifier hs-var">operator</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-931"></span><span>                  </span><span id="local-6989586621687053662"><span class="annot"><span class="annottext">[FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053662"><span class="hs-identifier hs-var">numFields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
-&gt; [ColumnInfo b]
-&gt; SchemaT
     r m [FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053663"><span class="hs-identifier hs-var">mkNumericAggFields</span></a></span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053661"><span class="hs-identifier hs-var">operator</span></a></span><span> </span><span class="annot"><span class="annottext">[ColumnInfo b]
</span><a href="#local-6989586621687053631"><span class="hs-identifier hs-var">numericColumns</span></a></span><span>
</span><span id="line-932"></span><span>                  </span><span class="hs-identifier">pure</span><span> </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
-&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
-&gt; HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]
forall k v. Hashable k =&gt; k -&gt; v -&gt; HashMap k v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.Strict.html#singleton"><span class="hs-identifier hs-var">HashMap.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053661"><span class="hs-identifier hs-var">operator</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053662"><span class="hs-identifier hs-var">numFields</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-933"></span><span>            </span><span class="hs-comment">-- operators on comparable columns</span><span>
</span><span id="line-934"></span><span>            </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[ColumnInfo b] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[ColumnInfo b]
</span><a href="#local-6989586621687053635"><span class="hs-identifier hs-var">comparableColumns</span></a></span><span>
</span><span id="line-935"></span><span>              </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe
  (SchemaT
     r
     m
     [HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-936"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SchemaT
  r
  m
  [HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]]
-&gt; Maybe
     (SchemaT
        r
        m
        [HashMap
           GQLNameIdentifier
           [FieldParser n (SelectionField b (UnpreparedValue b))]])
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT
   r
   m
   [HashMap
      GQLNameIdentifier
      [FieldParser n (SelectionField b (UnpreparedValue b))]]
 -&gt; Maybe
      (SchemaT
         r
         m
         [HashMap
            GQLNameIdentifier
            [FieldParser n (SelectionField b (UnpreparedValue b))]]))
-&gt; SchemaT
     r
     m
     [HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]]
-&gt; Maybe
     (SchemaT
        r
        m
        [HashMap
           GQLNameIdentifier
           [FieldParser n (SelectionField b (UnpreparedValue b))]])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-937"></span><span>                </span><span id="local-6989586621687053664"><span class="annot"><span class="annottext">[FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053664"><span class="hs-identifier hs-var">comparableFields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(ColumnInfo b
 -&gt; SchemaT
      r m (FieldParser n (SelectionField b (UnpreparedValue b))))
-&gt; [ColumnInfo b]
-&gt; SchemaT
     r m [FieldParser n (SelectionField b (UnpreparedValue b))]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
-&gt; SchemaT
     r m (FieldParser n (SelectionField b (UnpreparedValue b)))
</span><a href="#local-6989586621687053665"><span class="hs-identifier hs-var">mkColumnAggField</span></a></span><span> </span><span class="annot"><span class="annottext">[ColumnInfo b]
</span><a href="#local-6989586621687053635"><span class="hs-identifier hs-var">comparableColumns</span></a></span><span>
</span><span id="line-938"></span><span>                </span><span class="hs-identifier">pure</span><span>
</span><span id="line-939"></span><span>                  </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">[GQLNameIdentifier]
</span><a href="Hasura.GraphQL.Schema.Common.html#comparisonAggOperators"><span class="hs-identifier hs-var">comparisonAggOperators</span></a></span><span>
</span><span id="line-940"></span><span>                  </span><span class="annot"><span class="annottext">[GQLNameIdentifier]
-&gt; ([GQLNameIdentifier]
    -&gt; [HashMap
          GQLNameIdentifier
          [FieldParser n (SelectionField b (UnpreparedValue b))]])
-&gt; [HashMap
      GQLNameIdentifier
      [FieldParser n (SelectionField b (UnpreparedValue b))]]
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">(GQLNameIdentifier
 -&gt; HashMap
      GQLNameIdentifier
      [FieldParser n (SelectionField b (UnpreparedValue b))])
-&gt; [GQLNameIdentifier]
-&gt; [HashMap
      GQLNameIdentifier
      [FieldParser n (SelectionField b (UnpreparedValue b))]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687053667"><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053667"><span class="hs-identifier hs-var">operator</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-941"></span><span>                    </span><span class="annot"><span class="annottext">GQLNameIdentifier
-&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
-&gt; HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]
forall k v. Hashable k =&gt; k -&gt; v -&gt; HashMap k v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.Strict.html#singleton"><span class="hs-identifier hs-var">HashMap.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053667"><span class="hs-identifier hs-var">operator</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053664"><span class="hs-identifier hs-var">comparableFields</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-942"></span><span>            </span><span class="hs-comment">-- -- custom operators</span><span>
</span><span id="line-943"></span><span>            </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[(Name, NonEmpty (ColumnInfo b, ScalarType b))] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[(Name, NonEmpty (ColumnInfo b, ScalarType b))]
</span><a href="#local-6989586621687053639"><span class="hs-identifier hs-var">customOperatorsAndColumns</span></a></span><span>
</span><span id="line-944"></span><span>              </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe
  (SchemaT
     r
     m
     [HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]])
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-945"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SchemaT
  r
  m
  [HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]]
-&gt; Maybe
     (SchemaT
        r
        m
        [HashMap
           GQLNameIdentifier
           [FieldParser n (SelectionField b (UnpreparedValue b))]])
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span>
</span><span id="line-946"></span><span>                </span><span class="annot"><span class="annottext">(SchemaT
   r
   m
   [HashMap
      GQLNameIdentifier
      [FieldParser n (SelectionField b (UnpreparedValue b))]]
 -&gt; Maybe
      (SchemaT
         r
         m
         [HashMap
            GQLNameIdentifier
            [FieldParser n (SelectionField b (UnpreparedValue b))]]))
-&gt; SchemaT
     r
     m
     [HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]]
-&gt; Maybe
     (SchemaT
        r
        m
        [HashMap
           GQLNameIdentifier
           [FieldParser n (SelectionField b (UnpreparedValue b))]])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(Name, NonEmpty (ColumnInfo b, ScalarType b))]
-&gt; ((Name, NonEmpty (ColumnInfo b, ScalarType b))
    -&gt; SchemaT
         r
         m
         (HashMap
            GQLNameIdentifier
            [FieldParser n (SelectionField b (UnpreparedValue b))]))
-&gt; SchemaT
     r
     m
     [HashMap
        GQLNameIdentifier
        [FieldParser n (SelectionField b (UnpreparedValue b))]]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><span class="hs-identifier hs-var">for</span></span><span> </span><span class="annot"><span class="annottext">[(Name, NonEmpty (ColumnInfo b, ScalarType b))]
</span><a href="#local-6989586621687053639"><span class="hs-identifier hs-var">customOperatorsAndColumns</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621687053668"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687053668"><span class="hs-identifier hs-var">operator</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687053669"><span class="annot"><span class="annottext">NonEmpty (ColumnInfo b, ScalarType b)
</span><a href="#local-6989586621687053669"><span class="hs-identifier hs-var">columnTypes</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-947"></span><span>                  </span><span id="local-6989586621687053670"><span class="annot"><span class="annottext">[FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053670"><span class="hs-identifier hs-var">customFields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((ColumnInfo b, ScalarType b)
 -&gt; SchemaT
      r m (FieldParser n (SelectionField b (UnpreparedValue b))))
-&gt; [(ColumnInfo b, ScalarType b)]
-&gt; SchemaT
     r m [FieldParser n (SelectionField b (UnpreparedValue b))]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ColumnInfo b
 -&gt; ScalarType b
 -&gt; SchemaT
      r m (FieldParser n (SelectionField b (UnpreparedValue b))))
-&gt; (ColumnInfo b, ScalarType b)
-&gt; SchemaT
     r m (FieldParser n (SelectionField b (UnpreparedValue b)))
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
-&gt; ScalarType b
-&gt; SchemaT
     r m (FieldParser n (SelectionField b (UnpreparedValue b)))
</span><a href="#local-6989586621687053671"><span class="hs-identifier hs-var">mkNullableScalarTypeAggField</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NonEmpty (ColumnInfo b, ScalarType b)
-&gt; [(ColumnInfo b, ScalarType b)]
forall a. NonEmpty a -&gt; [a]
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><span class="hs-identifier hs-var">toList</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty (ColumnInfo b, ScalarType b)
</span><a href="#local-6989586621687053669"><span class="hs-identifier hs-var">columnTypes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-948"></span><span>                  </span><span class="hs-identifier">pure</span><span> </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
-&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
-&gt; HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]
forall k v. Hashable k =&gt; k -&gt; v -&gt; HashMap k v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.Strict.html#singleton"><span class="hs-identifier hs-var">HashMap.singleton</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; GQLNameIdentifier
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Casing.html#fromCustomName"><span class="hs-identifier hs-var">C.fromCustomName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687053668"><span class="hs-identifier hs-var">operator</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053670"><span class="hs-identifier hs-var">customFields</span></a></span><span>
</span><span id="line-949"></span><span>          </span><span class="hs-special">]</span><span>
</span><span id="line-950"></span><span>
</span><span id="line-951"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053673"><span class="annot"><span class="annottext">nonCountFields :: HashMap
  GQLNameIdentifier
  (FieldParser n (AggregateField b (UnpreparedValue b)))
</span><a href="#local-6989586621687053673"><span class="hs-identifier hs-var hs-var">nonCountFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-952"></span><span>          </span><span class="annot"><span class="annottext">(GQLNameIdentifier
 -&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
 -&gt; FieldParser n (AggregateField b (UnpreparedValue b)))
-&gt; HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]
-&gt; HashMap
     GQLNameIdentifier
     (FieldParser n (AggregateField b (UnpreparedValue b)))
forall k v1 v2. (k -&gt; v1 -&gt; v2) -&gt; HashMap k v1 -&gt; HashMap k v2
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.Strict.html#mapWithKey"><span class="hs-identifier hs-var">HashMap.mapWithKey</span></a></span><span>
</span><span id="line-953"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687053675"><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053675"><span class="hs-identifier hs-var">operator</span></a></span></span><span> </span><span id="local-6989586621687053676"><span class="annot"><span class="annottext">[FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053676"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MkTypename
-&gt; GQLNameIdentifier
-&gt; NamingCase
-&gt; GQLNameIdentifier
-&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
-&gt; FieldParser n (AggregateField b (UnpreparedValue b))
</span><a href="#local-6989586621687053677"><span class="hs-identifier hs-var">parseAggOperator</span></a></span><span> </span><span class="annot"><span class="annottext">MkTypename
</span><a href="#local-6989586621687053622"><span class="hs-identifier hs-var">mkTypename</span></a></span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053675"><span class="hs-identifier hs-var">operator</span></a></span><span> </span><span class="annot"><span class="annottext">NamingCase
</span><a href="#local-6989586621687053621"><span class="hs-identifier hs-var">tCase</span></a></span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053623"><span class="hs-identifier hs-var">tableGQLName</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053676"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-954"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-955"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([FieldParser n (SelectionField b (UnpreparedValue b))]
 -&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
 -&gt; [FieldParser n (SelectionField b (UnpreparedValue b))])
-&gt; HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]
-&gt; HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]
-&gt; HashMap
     GQLNameIdentifier
     [FieldParser n (SelectionField b (UnpreparedValue b))]
forall k v.
(Eq k, Hashable k) =&gt;
(v -&gt; v -&gt; v) -&gt; HashMap k v -&gt; HashMap k v -&gt; HashMap k v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.Strict.html#unionWith"><span class="hs-identifier hs-var">HashMap.unionWith</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldParser n (SelectionField b (UnpreparedValue b))]
-&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
-&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">(++)</span></span><span> </span><span class="annot"><span class="annottext">HashMap
  GQLNameIdentifier
  [FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053660"><span class="hs-identifier hs-var">nonCountFieldsMap</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap
  GQLNameIdentifier
  [FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053650"><span class="hs-identifier hs-var">nonCountComputedFieldsMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-956"></span><span>
</span><span id="line-957"></span><span>        </span><span class="annot"><a href="#local-6989586621687053679"><span class="hs-identifier hs-type">aggregateFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051282"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#AggregateField"><span class="hs-identifier hs-type">IR.AggregateField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-958"></span><span>        </span><span id="local-6989586621687053679"><span class="annot"><span class="annottext">aggregateFields :: [FieldParser n (AggregateField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053679"><span class="hs-identifier hs-var hs-var">aggregateFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldParser n (AggregateField b (UnpreparedValue b))
</span><a href="#local-6989586621687053648"><span class="hs-identifier hs-var">count</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser n (AggregateField b (UnpreparedValue b))
-&gt; [FieldParser n (AggregateField b (UnpreparedValue b))]
-&gt; [FieldParser n (AggregateField b (UnpreparedValue b))]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">HashMap
  GQLNameIdentifier
  (FieldParser n (AggregateField b (UnpreparedValue b)))
-&gt; [FieldParser n (AggregateField b (UnpreparedValue b))]
forall k v. HashMap k v -&gt; [v]
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.html#elems"><span class="hs-identifier hs-var">HashMap.elems</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap
  GQLNameIdentifier
  (FieldParser n (AggregateField b (UnpreparedValue b)))
</span><a href="#local-6989586621687053673"><span class="hs-identifier hs-var">nonCountFields</span></a></span><span>
</span><span id="line-959"></span><span>    </span><span class="annot"><span class="annottext">Parser 'Output n (AggregateFields b (UnpreparedValue b))
-&gt; SchemaT
     r m (Parser 'Output n (AggregateFields b (UnpreparedValue b)))
forall a. a -&gt; SchemaT r m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-960"></span><span>      </span><span class="annot"><span class="annottext">(Parser 'Output n (AggregateFields b (UnpreparedValue b))
 -&gt; SchemaT
      r m (Parser 'Output n (AggregateFields b (UnpreparedValue b))))
-&gt; Parser 'Output n (AggregateFields b (UnpreparedValue b))
-&gt; SchemaT
     r m (Parser 'Output n (AggregateFields b (UnpreparedValue b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; [FieldParser n (AggregateField b (UnpreparedValue b))]
-&gt; Parser
     MetadataObjId
     'Output
     n
     (InsOrdHashMap
        Name (ParsedSelection (AggregateField b (UnpreparedValue b))))
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; [FieldParser origin m a]
-&gt; Parser origin 'Output m (InsOrdHashMap Name (ParsedSelection a))
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selectionSet"><span class="hs-identifier hs-var">P.selectionSet</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687053646"><span class="hs-identifier hs-var">selectName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Description
</span><a href="#local-6989586621687053645"><span class="hs-identifier hs-var">description</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FieldParser n (AggregateField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053679"><span class="hs-identifier hs-var">aggregateFields</span></a></span><span>
</span><span id="line-961"></span><span>      </span><span class="annot"><span class="annottext">Parser
  MetadataObjId
  'Output
  n
  (InsOrdHashMap
     Name (ParsedSelection (AggregateField b (UnpreparedValue b))))
-&gt; (InsOrdHashMap
      Name (ParsedSelection (AggregateField b (UnpreparedValue b)))
    -&gt; AggregateFields b (UnpreparedValue b))
-&gt; Parser 'Output n (AggregateFields b (UnpreparedValue b))
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; AggregateField b (UnpreparedValue b))
-&gt; InsOrdHashMap
     Name (ParsedSelection (AggregateField b (UnpreparedValue b)))
-&gt; AggregateFields b (UnpreparedValue b)
forall a.
(Text -&gt; a) -&gt; InsOrdHashMap Name (ParsedSelection a) -&gt; Fields a
</span><a href="Hasura.GraphQL.Schema.Common.html#parsedSelectionsToFields"><span class="hs-identifier hs-var">parsedSelectionsToFields</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; AggregateField b (UnpreparedValue b)
forall (b :: BackendType) v. Text -&gt; AggregateField b v
</span><a href="Hasura.RQL.IR.Select.html#AFExp"><span class="hs-identifier hs-var">IR.AFExp</span></a></span><span>
</span><span id="line-962"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-963"></span><span>    </span><span class="annot"><a href="#local-6989586621687053642"><span class="hs-identifier hs-type">getCustomAggOpsColumns</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnInfo"><span class="hs-identifier hs-type">ColumnInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.html#HashMap"><span class="hs-identifier hs-type">HashMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#ScalarType"><span class="hs-identifier hs-type">ScalarType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#ScalarType"><span class="hs-identifier hs-type">ScalarType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnInfo"><span class="hs-identifier hs-type">ColumnInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#ScalarType"><span class="hs-identifier hs-type">ScalarType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-964"></span><span>    </span><span id="local-6989586621687053642"><span class="annot"><span class="annottext">getCustomAggOpsColumns :: [ColumnInfo b]
-&gt; HashMap (ScalarType b) (ScalarType b)
-&gt; Maybe (NonEmpty (ColumnInfo b, ScalarType b))
</span><a href="#local-6989586621687053642"><span class="hs-identifier hs-var hs-var">getCustomAggOpsColumns</span></a></span></span><span> </span><span id="local-6989586621687053681"><span class="annot"><span class="annottext">[ColumnInfo b]
</span><a href="#local-6989586621687053681"><span class="hs-identifier hs-var">columnInfos</span></a></span></span><span> </span><span id="local-6989586621687053682"><span class="annot"><span class="annottext">HashMap (ScalarType b) (ScalarType b)
</span><a href="#local-6989586621687053682"><span class="hs-identifier hs-var">typeMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-965"></span><span>      </span><span class="annot"><span class="annottext">[ColumnInfo b]
</span><a href="#local-6989586621687053681"><span class="hs-identifier hs-var">columnInfos</span></a></span><span>
</span><span id="line-966"></span><span>        </span><span class="annot"><span class="annottext">[ColumnInfo b]
-&gt; ([ColumnInfo b] -&gt; [(ColumnInfo b, ScalarType b)])
-&gt; [(ColumnInfo b, ScalarType b)]
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">(ColumnInfo b -&gt; Maybe (ColumnInfo b, ScalarType b))
-&gt; [ColumnInfo b] -&gt; [(ColumnInfo b, ScalarType b)]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b.
Filterable f =&gt;
(a -&gt; Maybe b) -&gt; f a -&gt; f b
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/witherable-0.4.2-a40f3f0a2ed7f25145b5b00589bf4ea2486662b1e96b7d29d5e6041625ee4a09/share/doc/html/src/Witherable.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span>
</span><span id="line-967"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687053683"><span class="annot"><span class="annottext">ci :: ColumnInfo b
</span><a href="#local-6989586621687053683"><span class="hs-identifier hs-var">ci</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnInfo"><span class="hs-identifier hs-type">ColumnInfo</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687053685"><span id="local-6989586621687053686"><span id="local-6989586621687053687"><span id="local-6989586621687053688"><span id="local-6989586621687053689"><span id="local-6989586621687053690"><span id="local-6989586621687053691"><span class="annot"><span class="annottext">Bool
Int
Maybe Description
Name
Column b
ColumnType b
ColumnMutability
ciColumn :: forall (b :: BackendType). ColumnInfo b -&gt; Column b
ciType :: forall (b :: BackendType). ColumnInfo b -&gt; ColumnType b
ciIsNullable :: forall (b :: BackendType). ColumnInfo b -&gt; Bool
ciName :: forall (b :: BackendType). ColumnInfo b -&gt; Name
ciDescription :: forall (b :: BackendType). ColumnInfo b -&gt; Maybe Description
ciColumn :: Column b
ciName :: Name
ciPosition :: Int
ciType :: ColumnType b
ciIsNullable :: Bool
ciDescription :: Maybe Description
ciMutability :: ColumnMutability
ciPosition :: forall (b :: BackendType). ColumnInfo b -&gt; Int
ciMutability :: forall (b :: BackendType). ColumnInfo b -&gt; ColumnMutability
</span><a href="Hasura.RQL.Types.Column.html#ciColumn"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-968"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ColumnType b
</span><a href="#local-6989586621687053688"><span class="hs-identifier hs-var">ciType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-969"></span><span>                </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnEnumReference"><span class="hs-identifier hs-type">ColumnEnumReference</span></a></span><span> </span><span class="annot"><span class="annottext">EnumReference b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (ColumnInfo b, ScalarType b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-970"></span><span>                </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnScalar"><span class="hs-identifier hs-type">ColumnScalar</span></a></span><span> </span><span id="local-6989586621687053695"><span class="annot"><span class="annottext">ScalarType b
</span><a href="#local-6989586621687053695"><span class="hs-identifier hs-var">scalarType</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-971"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053683"><span class="hs-identifier hs-var">ci</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ScalarType b -&gt; (ColumnInfo b, ScalarType b))
-&gt; Maybe (ScalarType b) -&gt; Maybe (ColumnInfo b, ScalarType b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ScalarType b
-&gt; HashMap (ScalarType b) (ScalarType b) -&gt; Maybe (ScalarType b)
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.html#lookup"><span class="hs-identifier hs-var">HashMap.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">ScalarType b
</span><a href="#local-6989586621687053695"><span class="hs-identifier hs-var">scalarType</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap (ScalarType b) (ScalarType b)
</span><a href="#local-6989586621687053682"><span class="hs-identifier hs-var">typeMap</span></a></span><span>
</span><span id="line-972"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-973"></span><span>        </span><span class="annot"><span class="annottext">[(ColumnInfo b, ScalarType b)]
-&gt; ([(ColumnInfo b, ScalarType b)]
    -&gt; Maybe (NonEmpty (ColumnInfo b, ScalarType b)))
-&gt; Maybe (NonEmpty (ColumnInfo b, ScalarType b))
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">[(ColumnInfo b, ScalarType b)]
-&gt; Maybe (NonEmpty (ColumnInfo b, ScalarType b))
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><span class="hs-identifier hs-var">nonEmpty</span></span><span>
</span><span id="line-974"></span><span>
</span><span id="line-975"></span><span>    </span><span class="annot"><a href="#local-6989586621687053656"><span class="hs-identifier hs-type">mkColumnAggComputedFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#TableName"><span class="hs-identifier hs-type">TableName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.Types.ComputedField.html#ComputedFieldInfo"><span class="hs-identifier hs-type">ComputedFieldInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051280"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051281"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051282"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#SelectionField"><span class="hs-identifier hs-type">IR.SelectionField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-976"></span><span>    </span><span id="local-6989586621687053656"><span class="annot"><span class="annottext">mkColumnAggComputedFields :: TableName b
-&gt; [ComputedFieldInfo b]
-&gt; SchemaT
     r m [FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053656"><span class="hs-identifier hs-var hs-var">mkColumnAggComputedFields</span></a></span></span><span> </span><span id="local-6989586621687053697"><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687053697"><span class="hs-identifier hs-var">tableName</span></a></span></span><span> </span><span id="local-6989586621687053698"><span class="annot"><span class="annottext">[ComputedFieldInfo b]
</span><a href="#local-6989586621687053698"><span class="hs-identifier hs-var">computedFieldInfos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-977"></span><span>      </span><span class="annot"><span class="annottext">(ComputedFieldInfo b
 -&gt; SchemaT
      r m (Maybe (FieldParser n (SelectionField b (UnpreparedValue b)))))
-&gt; [ComputedFieldInfo b]
-&gt; SchemaT
     r m [Maybe (FieldParser n (SelectionField b (UnpreparedValue b)))]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TableName b
-&gt; ComputedFieldInfo b
-&gt; SchemaT
     r m (Maybe (FieldParser n (SelectionField b (UnpreparedValue b))))
</span><a href="#local-6989586621687053699"><span class="hs-identifier hs-var">mkColumnAggComputedField</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687053697"><span class="hs-identifier hs-var">tableName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ComputedFieldInfo b]
</span><a href="#local-6989586621687053698"><span class="hs-identifier hs-var">computedFieldInfos</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaT
  r m [Maybe (FieldParser n (SelectionField b (UnpreparedValue b)))]
-&gt; ([Maybe (FieldParser n (SelectionField b (UnpreparedValue b)))]
    -&gt; [FieldParser n (SelectionField b (UnpreparedValue b))])
-&gt; SchemaT
     r m [FieldParser n (SelectionField b (UnpreparedValue b))]
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Maybe (FieldParser n (SelectionField b (UnpreparedValue b)))]
-&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
forall a. [Maybe a] -&gt; [a]
forall (f :: * -&gt; *) a. Filterable f =&gt; f (Maybe a) -&gt; f a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/witherable-0.4.2-a40f3f0a2ed7f25145b5b00589bf4ea2486662b1e96b7d29d5e6041625ee4a09/share/doc/html/src/Witherable.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span>
</span><span id="line-978"></span><span>
</span><span id="line-979"></span><span>    </span><span class="annot"><a href="#local-6989586621687053699"><span class="hs-identifier hs-type">mkColumnAggComputedField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#TableName"><span class="hs-identifier hs-type">TableName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.ComputedField.html#ComputedFieldInfo"><span class="hs-identifier hs-type">ComputedFieldInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051280"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051281"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051282"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#SelectionField"><span class="hs-identifier hs-type">IR.SelectionField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-980"></span><span>    </span><span id="local-6989586621687053699"><span class="annot"><span class="annottext">mkColumnAggComputedField :: TableName b
-&gt; ComputedFieldInfo b
-&gt; SchemaT
     r m (Maybe (FieldParser n (SelectionField b (UnpreparedValue b))))
</span><a href="#local-6989586621687053699"><span class="hs-identifier hs-var hs-var">mkColumnAggComputedField</span></a></span></span><span> </span><span id="local-6989586621687053700"><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687053700"><span class="hs-identifier hs-var">tableName</span></a></span></span><span> </span><span id="local-6989586621687053701"><span class="annot"><span class="annottext">ComputedFieldInfo b
</span><a href="#local-6989586621687053701"><span class="hs-identifier hs-var">computedFieldInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-981"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621687053702"><span class="hs-identifier hs-type">annotatedFieldToSelectionField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#AnnotatedField"><span class="hs-identifier hs-type">AnnotatedField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621687051282"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#SelectionField"><span class="hs-identifier hs-type">IR.SelectionField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-982"></span><span>          </span><span id="local-6989586621687053702"><span class="annot"><span class="annottext">annotatedFieldToSelectionField :: AnnotatedField b -&gt; n (SelectionField b (UnpreparedValue b))
</span><a href="#local-6989586621687053702"><span class="hs-identifier hs-var hs-var">annotatedFieldToSelectionField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-983"></span><span>            </span><span class="annot"><a href="Hasura.RQL.IR.Select.html#AFComputedField"><span class="hs-identifier hs-type">IR.AFComputedField</span></a></span><span> </span><span class="annot"><span class="annottext">XComputedField b
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621687053704"><span class="annot"><span class="annottext">ComputedFieldName
</span><a href="#local-6989586621687053704"><span class="hs-identifier hs-var">computedFieldName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#CFSScalar"><span class="hs-identifier hs-type">IR.CFSScalar</span></a></span><span> </span><span id="local-6989586621687053706"><span class="annot"><span class="annottext">ComputedFieldScalarSelect b (UnpreparedValue b)
</span><a href="#local-6989586621687053706"><span class="hs-identifier hs-var">computedFieldScalarSelect</span></a></span></span><span> </span><span id="local-6989586621687053707"><span class="annot"><span class="annottext">Maybe (AnnColumnCaseBoolExp b (UnpreparedValue b))
</span><a href="#local-6989586621687053707"><span class="hs-identifier hs-var">_maybeShouldBeNullified</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-984"></span><span>              </span><span class="annot"><span class="annottext">SelectionField b (UnpreparedValue b)
-&gt; n (SelectionField b (UnpreparedValue b))
forall a. a -&gt; n a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(SelectionField b (UnpreparedValue b)
 -&gt; n (SelectionField b (UnpreparedValue b)))
-&gt; SelectionField b (UnpreparedValue b)
-&gt; n (SelectionField b (UnpreparedValue b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ComputedFieldName
-&gt; ComputedFieldScalarSelect b (UnpreparedValue b)
-&gt; SelectionField b (UnpreparedValue b)
forall (b :: BackendType) v.
ComputedFieldName
-&gt; ComputedFieldScalarSelect b v -&gt; SelectionField b v
</span><a href="Hasura.RQL.IR.Select.html#SFComputedField"><span class="hs-identifier hs-var">IR.SFComputedField</span></a></span><span> </span><span class="annot"><span class="annottext">ComputedFieldName
</span><a href="#local-6989586621687053704"><span class="hs-identifier hs-var">computedFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">ComputedFieldScalarSelect b (UnpreparedValue b)
</span><a href="#local-6989586621687053706"><span class="hs-identifier hs-var">computedFieldScalarSelect</span></a></span><span>
</span><span id="line-985"></span><span>            </span><span class="annot"><span class="annottext">AnnotatedField b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ErrorMessage -&gt; n (SelectionField b (UnpreparedValue b))
forall (m :: * -&gt; *) a. MonadParse m =&gt; ErrorMessage -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Class.html#parseError"><span class="hs-identifier hs-var">parseError</span></a></span><span> </span><span class="annot"><span class="annottext">ErrorMessage
</span><span class="hs-string">&quot;Only computed fields that return scalar types are supported&quot;</span></span><span>
</span><span id="line-986"></span><span>
</span><span id="line-987"></span><span>      </span><span class="annot"><span class="annottext">ComputedFieldInfo b
-&gt; TableName b
-&gt; TableInfo b
-&gt; SchemaT r m (Maybe (FieldParser n (AnnotatedField b)))
forall r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
ComputedFieldInfo b
-&gt; TableName b
-&gt; TableInfo b
-&gt; SchemaT r m (Maybe (FieldParser n (AnnotatedField b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(BackendSchema b, MonadBuildSchema b r m n) =&gt;
ComputedFieldInfo b
-&gt; TableName b
-&gt; TableInfo b
-&gt; SchemaT r m (Maybe (FieldParser n (AnnotatedField b)))
</span><a href="Hasura.GraphQL.Schema.Backend.html#computedField"><span class="hs-identifier hs-var">computedField</span></a></span><span> </span><span class="annot"><span class="annottext">ComputedFieldInfo b
</span><a href="#local-6989586621687053701"><span class="hs-identifier hs-var">computedFieldInfo</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687053700"><span class="hs-identifier hs-var">tableName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053616"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-988"></span><span>        </span><span class="annot"><span class="annottext">SchemaT r m (Maybe (FieldParser n (AnnotatedField b)))
-&gt; (Maybe (FieldParser n (AnnotatedField b))
    -&gt; SchemaT
         r m (Maybe (FieldParser n (SelectionField b (UnpreparedValue b)))))
-&gt; SchemaT
     r m (Maybe (FieldParser n (SelectionField b (UnpreparedValue b))))
forall a b. SchemaT r m a -&gt; (a -&gt; SchemaT r m b) -&gt; SchemaT r m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-989"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687053710"><span class="annot"><span class="annottext">FieldParser n (AnnotatedField b)
</span><a href="#local-6989586621687053710"><span class="hs-identifier hs-var">fieldParser</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (FieldParser n (SelectionField b (UnpreparedValue b)))
-&gt; SchemaT
     r m (Maybe (FieldParser n (SelectionField b (UnpreparedValue b))))
forall a. a -&gt; SchemaT r m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (FieldParser n (SelectionField b (UnpreparedValue b)))
 -&gt; SchemaT
      r m (Maybe (FieldParser n (SelectionField b (UnpreparedValue b)))))
-&gt; (FieldParser n (SelectionField b (UnpreparedValue b))
    -&gt; Maybe (FieldParser n (SelectionField b (UnpreparedValue b))))
-&gt; FieldParser n (SelectionField b (UnpreparedValue b))
-&gt; SchemaT
     r m (Maybe (FieldParser n (SelectionField b (UnpreparedValue b))))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldParser n (SelectionField b (UnpreparedValue b))
-&gt; Maybe (FieldParser n (SelectionField b (UnpreparedValue b)))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldParser n (AnnotatedField b)
</span><a href="#local-6989586621687053710"><span class="hs-identifier hs-var">fieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser n (AnnotatedField b)
-&gt; (AnnotatedField b -&gt; n (SelectionField b (UnpreparedValue b)))
-&gt; FieldParser n (SelectionField b (UnpreparedValue b))
forall (m :: * -&gt; *) origin a b.
Monad m =&gt;
FieldParser origin m a -&gt; (a -&gt; m b) -&gt; FieldParser origin m b
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#bindField"><span class="hs-operator hs-var">`P.bindField`</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedField b -&gt; n (SelectionField b (UnpreparedValue b))
</span><a href="#local-6989586621687053702"><span class="hs-identifier hs-var">annotatedFieldToSelectionField</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-990"></span><span>          </span><span class="annot"><span class="annottext">Maybe (FieldParser n (AnnotatedField b))
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (FieldParser n (SelectionField b (UnpreparedValue b)))
-&gt; SchemaT
     r m (Maybe (FieldParser n (SelectionField b (UnpreparedValue b))))
forall a. a -&gt; SchemaT r m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Maybe (FieldParser n (SelectionField b (UnpreparedValue b)))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-991"></span><span>
</span><span id="line-992"></span><span>    </span><span class="annot"><a href="#local-6989586621687053663"><span class="hs-identifier hs-type">mkNumericAggFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Casing.html#GQLNameIdentifier"><span class="hs-identifier hs-type">GQLNameIdentifier</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnInfo"><span class="hs-identifier hs-type">ColumnInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051280"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051281"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051282"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#SelectionField"><span class="hs-identifier hs-type">IR.SelectionField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-993"></span><span>    </span><span id="local-6989586621687053663"><span class="annot"><span class="annottext">mkNumericAggFields :: GQLNameIdentifier
-&gt; [ColumnInfo b]
-&gt; SchemaT
     r m [FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053663"><span class="hs-identifier hs-var hs-var">mkNumericAggFields</span></a></span></span><span> </span><span id="local-6989586621687053712"><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053712"><span class="hs-identifier hs-var">name</span></a></span></span><span>
</span><span id="line-994"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GQLNameIdentifier -&gt; Name
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Casing.html#toSnakeG"><span class="hs-identifier hs-var">C.toSnakeG</span></a></span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053712"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_sum"><span class="hs-identifier hs-var">Name._sum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ColumnInfo b
 -&gt; SchemaT
      r m (FieldParser n (SelectionField b (UnpreparedValue b))))
-&gt; [ColumnInfo b]
-&gt; SchemaT
     r m [FieldParser n (SelectionField b (UnpreparedValue b))]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
-&gt; SchemaT
     r m (FieldParser n (SelectionField b (UnpreparedValue b)))
</span><a href="#local-6989586621687053665"><span class="hs-identifier hs-var">mkColumnAggField</span></a></span><span>
</span><span id="line-995"></span><span>      </span><span class="hs-comment">-- Memoize here for more sharing. Note: we can't do `P.memoizeOn 'mkNumericAggFields...`</span><span>
</span><span id="line-996"></span><span>      </span><span class="hs-comment">-- due to stage restrictions, so just add a string key:</span><span>
</span><span id="line-997"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ColumnInfo b
 -&gt; SchemaT
      r m (FieldParser n (SelectionField b (UnpreparedValue b))))
-&gt; [ColumnInfo b]
-&gt; SchemaT
     r m [FieldParser n (SelectionField b (UnpreparedValue b))]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687053715"><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053715"><span class="hs-identifier hs-var">columnInfo</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-998"></span><span>          </span><span class="annot"><span class="annottext">Name
-&gt; (Text, ColumnInfo b)
-&gt; SchemaT
     r m (FieldParser n (SelectionField b (UnpreparedValue b)))
-&gt; SchemaT
     r m (FieldParser n (SelectionField b (UnpreparedValue b)))
forall (m :: * -&gt; *) a (p :: (* -&gt; *) -&gt; * -&gt; *) (n :: * -&gt; *) b.
(MonadMemoize m, Ord a, Typeable a, Typeable p, MonadParse n,
 Typeable b) =&gt;
Name -&gt; a -&gt; m (p n b) -&gt; m (p n b)
</span><a href="Hasura.GraphQL.Schema.Parser.html#memoizeOn"><span class="hs-identifier hs-var">P.memoizeOn</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-identifier">tableAggregationFields</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;mkNumericAggFields&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/text-2.0.1-27d8e86ddce8dd754c06549efa10988301d41e208fc11cac9fe9ed6d99d6eb35/share/doc/html/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053715"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-999"></span><span>            </span><span class="annot"><span class="annottext">(SchemaT r m (FieldParser n (SelectionField b (UnpreparedValue b)))
 -&gt; SchemaT
      r m (FieldParser n (SelectionField b (UnpreparedValue b))))
-&gt; SchemaT
     r m (FieldParser n (SelectionField b (UnpreparedValue b)))
-&gt; SchemaT
     r m (FieldParser n (SelectionField b (UnpreparedValue b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1000"></span><span>            </span><span class="hs-comment">-- CAREFUL!: below must only reference columnInfo else memoization key needs to be adapted</span><span>
</span><span id="line-1001"></span><span>            </span><span class="annot"><span class="annottext">FieldParser n (SelectionField b (UnpreparedValue b))
-&gt; SchemaT
     r m (FieldParser n (SelectionField b (UnpreparedValue b)))
forall a. a -&gt; SchemaT r m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-1002"></span><span>            </span><span class="annot"><span class="annottext">(FieldParser n (SelectionField b (UnpreparedValue b))
 -&gt; SchemaT
      r m (FieldParser n (SelectionField b (UnpreparedValue b))))
-&gt; FieldParser n (SelectionField b (UnpreparedValue b))
-&gt; SchemaT
     r m (FieldParser n (SelectionField b (UnpreparedValue b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1003"></span><span>              </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621687053717"><span class="annot"><span class="annottext">cfcol :: SelectionField b (UnpreparedValue b)
</span><a href="#local-6989586621687053717"><span class="hs-identifier hs-var hs-var">cfcol</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Column b -&gt; ColumnType b -&gt; SelectionField b (UnpreparedValue b)
forall (b :: BackendType) v.
Column b -&gt; ColumnType b -&gt; SelectionField b v
</span><a href="Hasura.RQL.IR.Select.html#SFCol"><span class="hs-identifier hs-var">IR.SFCol</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Column b
forall (b :: BackendType). ColumnInfo b -&gt; Column b
</span><a href="Hasura.RQL.Types.Column.html#ciColumn"><span class="hs-identifier hs-var">ciColumn</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053715"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b -&gt; ColumnType b
forall (b :: BackendType). ColumnInfo b -&gt; ColumnType b
</span><a href="Hasura.RQL.Types.Column.html#ciType"><span class="hs-identifier hs-var">ciType</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053715"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1004"></span><span>              </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser MetadataObjId 'Both n (Maybe Double)
-&gt; FieldParser MetadataObjId n ()
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin 'Both m a
-&gt; FieldParser origin m ()
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selection_"><span class="hs-identifier hs-var">P.selection_</span></a></span><span>
</span><span id="line-1005"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Name
forall (b :: BackendType). ColumnInfo b -&gt; Name
</span><a href="Hasura.RQL.Types.Column.html#ciName"><span class="hs-identifier hs-var">ciName</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053715"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1006"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Maybe Description
forall (b :: BackendType). ColumnInfo b -&gt; Maybe Description
</span><a href="Hasura.RQL.Types.Column.html#ciDescription"><span class="hs-identifier hs-var">ciDescription</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053715"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1007"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser MetadataObjId 'Both n Double
-&gt; Parser MetadataObjId 'Both n (Maybe Double)
forall origin (k :: Kind) (m :: * -&gt; *) a.
(MonadParse m, 'Input &lt;: k) =&gt;
Parser origin k m a -&gt; Parser origin k m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nullable"><span class="hs-identifier hs-var">P.nullable</span></a></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Both n Double
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
Parser origin 'Both m Double
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Scalars.html#float"><span class="hs-identifier hs-var">P.float</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1008"></span><span>                </span><span class="annot"><span class="annottext">FieldParser MetadataObjId n ()
-&gt; SelectionField b (UnpreparedValue b)
-&gt; FieldParser n (SelectionField b (UnpreparedValue b))
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SelectionField b (UnpreparedValue b)
</span><a href="#local-6989586621687053717"><span class="hs-identifier hs-var">cfcol</span></a></span><span>
</span><span id="line-1009"></span><span>
</span><span id="line-1010"></span><span>    </span><span class="annot"><a href="#local-6989586621687053665"><span class="hs-identifier hs-type">mkColumnAggField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnInfo"><span class="hs-identifier hs-type">ColumnInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051280"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051281"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051282"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#SelectionField"><span class="hs-identifier hs-type">IR.SelectionField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1011"></span><span>    </span><span id="local-6989586621687053665"><span class="annot"><span class="annottext">mkColumnAggField :: ColumnInfo b
-&gt; SchemaT
     r m (FieldParser n (SelectionField b (UnpreparedValue b)))
</span><a href="#local-6989586621687053665"><span class="hs-identifier hs-var hs-var">mkColumnAggField</span></a></span></span><span> </span><span id="local-6989586621687053720"><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053720"><span class="hs-identifier hs-var">columnInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1012"></span><span>      </span><span class="annot"><span class="annottext">ColumnInfo b
-&gt; ColumnType b
-&gt; SchemaT
     r m (FieldParser n (SelectionField b (UnpreparedValue b)))
</span><a href="#local-6989586621687053721"><span class="hs-identifier hs-var">mkColumnAggField'</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053720"><span class="hs-identifier hs-var">columnInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b -&gt; ColumnType b
forall (b :: BackendType). ColumnInfo b -&gt; ColumnType b
</span><a href="Hasura.RQL.Types.Column.html#ciType"><span class="hs-identifier hs-var">ciType</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053720"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1013"></span><span>
</span><span id="line-1014"></span><span>    </span><span class="annot"><a href="#local-6989586621687053721"><span class="hs-identifier hs-type">mkColumnAggField'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnInfo"><span class="hs-identifier hs-type">ColumnInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnType"><span class="hs-identifier hs-type">ColumnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051280"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051281"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051282"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#SelectionField"><span class="hs-identifier hs-type">IR.SelectionField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1015"></span><span>    </span><span id="local-6989586621687053721"><span class="annot"><span class="annottext">mkColumnAggField' :: ColumnInfo b
-&gt; ColumnType b
-&gt; SchemaT
     r m (FieldParser n (SelectionField b (UnpreparedValue b)))
</span><a href="#local-6989586621687053721"><span class="hs-identifier hs-var hs-var">mkColumnAggField'</span></a></span></span><span> </span><span id="local-6989586621687053722"><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053722"><span class="hs-identifier hs-var">columnInfo</span></a></span></span><span> </span><span id="local-6989586621687053723"><span class="annot"><span class="annottext">ColumnType b
</span><a href="#local-6989586621687053723"><span class="hs-identifier hs-var">resultType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1016"></span><span>      </span><span id="local-6989586621687053724"><span class="annot"><span class="annottext">Parser 'Both n (ValueWithOrigin (ColumnValue b))
</span><a href="#local-6989586621687053724"><span class="hs-identifier hs-var">field</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ColumnType b
-&gt; Nullability
-&gt; SchemaT r m (Parser 'Both n (ValueWithOrigin (ColumnValue b)))
forall r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
ColumnType b
-&gt; Nullability
-&gt; SchemaT r m (Parser 'Both n (ValueWithOrigin (ColumnValue b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(BackendSchema b, MonadBuildSchema b r m n) =&gt;
ColumnType b
-&gt; Nullability
-&gt; SchemaT r m (Parser 'Both n (ValueWithOrigin (ColumnValue b)))
</span><a href="Hasura.GraphQL.Schema.Backend.html#columnParser"><span class="hs-identifier hs-var">columnParser</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnType b
</span><a href="#local-6989586621687053723"><span class="hs-identifier hs-var">resultType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Nullability
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Nullability"><span class="hs-identifier hs-var">G.Nullability</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-1017"></span><span>      </span><span class="hs-identifier">pure</span><span>
</span><span id="line-1018"></span><span>        </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser 'Both n (ValueWithOrigin (ColumnValue b))
-&gt; FieldParser MetadataObjId n ()
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin 'Both m a
-&gt; FieldParser origin m ()
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selection_"><span class="hs-identifier hs-var">P.selection_</span></a></span><span>
</span><span id="line-1019"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Name
forall (b :: BackendType). ColumnInfo b -&gt; Name
</span><a href="Hasura.RQL.Types.Column.html#ciName"><span class="hs-identifier hs-var">ciName</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053722"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1020"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Maybe Description
forall (b :: BackendType). ColumnInfo b -&gt; Maybe Description
</span><a href="Hasura.RQL.Types.Column.html#ciDescription"><span class="hs-identifier hs-var">ciDescription</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053722"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1021"></span><span>          </span><span class="annot"><span class="annottext">Parser 'Both n (ValueWithOrigin (ColumnValue b))
</span><a href="#local-6989586621687053724"><span class="hs-identifier hs-var">field</span></a></span><span>
</span><span id="line-1022"></span><span>        </span><span class="annot"><span class="annottext">FieldParser MetadataObjId n ()
-&gt; SelectionField b (UnpreparedValue b)
-&gt; FieldParser n (SelectionField b (UnpreparedValue b))
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Column b -&gt; ColumnType b -&gt; SelectionField b (UnpreparedValue b)
forall (b :: BackendType) v.
Column b -&gt; ColumnType b -&gt; SelectionField b v
</span><a href="Hasura.RQL.IR.Select.html#SFCol"><span class="hs-identifier hs-var">IR.SFCol</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Column b
forall (b :: BackendType). ColumnInfo b -&gt; Column b
</span><a href="Hasura.RQL.Types.Column.html#ciColumn"><span class="hs-identifier hs-var">ciColumn</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053722"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b -&gt; ColumnType b
forall (b :: BackendType). ColumnInfo b -&gt; ColumnType b
</span><a href="Hasura.RQL.Types.Column.html#ciType"><span class="hs-identifier hs-var">ciType</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053722"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1023"></span><span>
</span><span id="line-1024"></span><span>    </span><span class="annot"><a href="#local-6989586621687053671"><span class="hs-identifier hs-type">mkNullableScalarTypeAggField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnInfo"><span class="hs-identifier hs-type">ColumnInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#ScalarType"><span class="hs-identifier hs-type">ScalarType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051280"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051281"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051282"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#SelectionField"><span class="hs-identifier hs-type">IR.SelectionField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1025"></span><span>    </span><span id="local-6989586621687053671"><span class="annot"><span class="annottext">mkNullableScalarTypeAggField :: ColumnInfo b
-&gt; ScalarType b
-&gt; SchemaT
     r m (FieldParser n (SelectionField b (UnpreparedValue b)))
</span><a href="#local-6989586621687053671"><span class="hs-identifier hs-var hs-var">mkNullableScalarTypeAggField</span></a></span></span><span> </span><span id="local-6989586621687053725"><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053725"><span class="hs-identifier hs-var">columnInfo</span></a></span></span><span> </span><span id="local-6989586621687053726"><span class="annot"><span class="annottext">ScalarType b
</span><a href="#local-6989586621687053726"><span class="hs-identifier hs-var">resultType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1026"></span><span>      </span><span class="annot"><span class="annottext">ColumnInfo b
-&gt; ColumnType b
-&gt; SchemaT
     r m (FieldParser n (SelectionField b (UnpreparedValue b)))
</span><a href="#local-6989586621687053721"><span class="hs-identifier hs-var">mkColumnAggField'</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053725"><span class="hs-identifier hs-var">columnInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScalarType b -&gt; ColumnType b
forall (b :: BackendType). ScalarType b -&gt; ColumnType b
</span><a href="Hasura.RQL.Types.Column.html#ColumnScalar"><span class="hs-identifier hs-var">ColumnScalar</span></a></span><span> </span><span class="annot"><span class="annottext">ScalarType b
</span><a href="#local-6989586621687053726"><span class="hs-identifier hs-var">resultType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1027"></span><span>
</span><span id="line-1028"></span><span>    </span><span class="annot"><a href="#local-6989586621687053649"><span class="hs-identifier hs-type">countField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051280"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051281"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051282"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#AggregateField"><span class="hs-identifier hs-type">IR.AggregateField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1029"></span><span>    </span><span id="local-6989586621687053649"><span class="annot"><span class="annottext">countField :: SchemaT r m (FieldParser n (AggregateField b (UnpreparedValue b)))
</span><a href="#local-6989586621687053649"><span class="hs-identifier hs-var hs-var">countField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1030"></span><span>      </span><span id="local-6989586621687053727"><span class="annot"><span class="annottext">Maybe (Parser 'Both n (Column b))
</span><a href="#local-6989586621687053727"><span class="hs-identifier hs-var">columnsEnum</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; SchemaT r m (Maybe (Parser 'Both n (Column b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
TableInfo b -&gt; SchemaT r m (Maybe (Parser 'Both n (Column b)))
</span><a href="Hasura.GraphQL.Schema.Table.html#tableSelectColumnsEnum"><span class="hs-identifier hs-var">tableSelectColumnsEnum</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053616"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-1031"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053728"><span class="annot"><span class="annottext">distinctName :: Name
</span><a href="#local-6989586621687053728"><span class="hs-identifier hs-var hs-var">distinctName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_distinct"><span class="hs-identifier hs-var">Name._distinct</span></a></span><span>
</span><span id="line-1032"></span><span>          </span><span id="local-6989586621687053730"><span class="annot"><span class="annottext">args :: InputFieldsParser MetadataObjId n (CountType b)
</span><a href="#local-6989586621687053730"><span class="hs-identifier hs-var hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1033"></span><span>            </span><span id="local-6989586621687053731"><span class="annot"><span class="annottext">Maybe Bool
</span><a href="#local-6989586621687053731"><span class="hs-identifier hs-var">distinct</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser MetadataObjId 'Both n Bool
-&gt; InputFieldsParser MetadataObjId n (Maybe Bool)
forall (m :: * -&gt; *) (k :: Kind) origin a.
(MonadParse m, 'Input &lt;: k) =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin k m a
-&gt; InputFieldsParser origin m (Maybe a)
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Input.html#fieldOptional"><span class="hs-identifier hs-var">P.fieldOptional</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687053728"><span class="hs-identifier hs-var">distinctName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Both n Bool
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
Parser origin 'Both m Bool
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Scalars.html#boolean"><span class="hs-identifier hs-var">P.boolean</span></a></span><span>
</span><span id="line-1034"></span><span>            </span><span id="local-6989586621687053732"><span class="annot"><span class="annottext">CountDistinct -&gt; CountType b
</span><a href="#local-6989586621687053732"><span class="hs-identifier hs-var">mkCountType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType) (n :: * -&gt; *).
(BackendSchema b, MonadParse n) =&gt;
Maybe (Parser 'Both n (Column b))
-&gt; InputFieldsParser n (CountDistinct -&gt; CountType b)
</span><a href="Hasura.GraphQL.Schema.Backend.html#countTypeInput"><span class="hs-identifier hs-var">countTypeInput</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Parser 'Both n (Column b))
</span><a href="#local-6989586621687053727"><span class="hs-identifier hs-var">columnsEnum</span></a></span><span>
</span><span id="line-1035"></span><span>            </span><span class="hs-identifier">pure</span><span>
</span><span id="line-1036"></span><span>              </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">CountDistinct -&gt; CountType b
</span><a href="#local-6989586621687053732"><span class="hs-identifier hs-var">mkCountType</span></a></span><span>
</span><span id="line-1037"></span><span>              </span><span class="annot"><span class="annottext">(CountDistinct -&gt; CountType b) -&gt; CountDistinct -&gt; CountType b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CountDistinct
-&gt; (Bool -&gt; CountDistinct) -&gt; Maybe Bool -&gt; CountDistinct
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span>
</span><span id="line-1038"></span><span>                </span><span class="annot"><span class="annottext">CountDistinct
</span><a href="Hasura.RQL.IR.Select.html#SelectCountNonDistinct"><span class="hs-identifier hs-var">IR.SelectCountNonDistinct</span></a></span><span> </span><span class="hs-comment">-- If &quot;distinct&quot; is &quot;null&quot; or absent, we default to @'SelectCountNonDistinct'</span><span>
</span><span id="line-1039"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CountDistinct -&gt; CountDistinct -&gt; Bool -&gt; CountDistinct
forall a. a -&gt; a -&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">bool</span></span><span> </span><span class="annot"><span class="annottext">CountDistinct
</span><a href="Hasura.RQL.IR.Select.html#SelectCountNonDistinct"><span class="hs-identifier hs-var">IR.SelectCountNonDistinct</span></a></span><span> </span><span class="annot"><span class="annottext">CountDistinct
</span><a href="Hasura.RQL.IR.Select.html#SelectCountDistinct"><span class="hs-identifier hs-var">IR.SelectCountDistinct</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1040"></span><span>                </span><span class="annot"><span class="annottext">Maybe Bool
</span><a href="#local-6989586621687053731"><span class="hs-identifier hs-var">distinct</span></a></span><span>
</span><span id="line-1041"></span><span>
</span><span id="line-1042"></span><span>      </span><span class="annot"><span class="annottext">FieldParser n (AggregateField b (UnpreparedValue b))
-&gt; SchemaT
     r m (FieldParser n (AggregateField b (UnpreparedValue b)))
forall a. a -&gt; SchemaT r m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(FieldParser n (AggregateField b (UnpreparedValue b))
 -&gt; SchemaT
      r m (FieldParser n (AggregateField b (UnpreparedValue b))))
-&gt; FieldParser n (AggregateField b (UnpreparedValue b))
-&gt; SchemaT
     r m (FieldParser n (AggregateField b (UnpreparedValue b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CountType b -&gt; AggregateField b (UnpreparedValue b)
forall (b :: BackendType) v. CountType b -&gt; AggregateField b v
</span><a href="Hasura.RQL.IR.Select.html#AFCount"><span class="hs-identifier hs-var">IR.AFCount</span></a></span><span> </span><span class="annot"><span class="annottext">(CountType b -&gt; AggregateField b (UnpreparedValue b))
-&gt; FieldParser MetadataObjId n (CountType b)
-&gt; FieldParser n (AggregateField b (UnpreparedValue b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; InputFieldsParser MetadataObjId n (CountType b)
-&gt; Parser MetadataObjId 'Both n Int32
-&gt; FieldParser MetadataObjId n (CountType b)
forall (m :: * -&gt; *) origin a b.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; InputFieldsParser origin m a
-&gt; Parser origin 'Both m b
-&gt; FieldParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selection"><span class="hs-identifier hs-var">P.selection</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_count"><span class="hs-identifier hs-var">Name._count</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser MetadataObjId n (CountType b)
</span><a href="#local-6989586621687053730"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Both n Int32
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
Parser origin 'Both m Int32
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Scalars.html#int"><span class="hs-identifier hs-var">P.int</span></a></span><span>
</span><span id="line-1043"></span><span>
</span><span id="line-1044"></span><span>    </span><span class="annot"><a href="#local-6989586621687053677"><span class="hs-identifier hs-type">parseAggOperator</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1045"></span><span>      </span><span class="annot"><a href="Hasura.GraphQL.Schema.Typename.html#MkTypename"><span class="hs-identifier hs-type">MkTypename</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1046"></span><span>      </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Casing.html#GQLNameIdentifier"><span class="hs-identifier hs-type">GQLNameIdentifier</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1047"></span><span>      </span><span class="annot"><a href="Hasura.RQL.Types.NamingCase.html#NamingCase"><span class="hs-identifier hs-type">NamingCase</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1048"></span><span>      </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Casing.html#GQLNameIdentifier"><span class="hs-identifier hs-type">GQLNameIdentifier</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1049"></span><span>      </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051282"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#SelectionField"><span class="hs-identifier hs-type">IR.SelectionField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1050"></span><span>      </span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051282"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#AggregateField"><span class="hs-identifier hs-type">IR.AggregateField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051279"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1051"></span><span>    </span><span id="local-6989586621687053677"><span class="annot"><span class="annottext">parseAggOperator :: MkTypename
-&gt; GQLNameIdentifier
-&gt; NamingCase
-&gt; GQLNameIdentifier
-&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
-&gt; FieldParser n (AggregateField b (UnpreparedValue b))
</span><a href="#local-6989586621687053677"><span class="hs-identifier hs-var hs-var">parseAggOperator</span></a></span></span><span> </span><span id="local-6989586621687053742"><span class="annot"><span class="annottext">MkTypename
</span><a href="#local-6989586621687053742"><span class="hs-identifier hs-var">makeTypename</span></a></span></span><span> </span><span id="local-6989586621687053743"><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053743"><span class="hs-identifier hs-var">operator</span></a></span></span><span> </span><span id="local-6989586621687053744"><span class="annot"><span class="annottext">NamingCase
</span><a href="#local-6989586621687053744"><span class="hs-identifier hs-var">tCase</span></a></span></span><span> </span><span id="local-6989586621687053745"><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053745"><span class="hs-identifier hs-var">tableGQLName</span></a></span></span><span> </span><span id="local-6989586621687053746"><span class="annot"><span class="annottext">[FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053746"><span class="hs-identifier hs-var">columns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1052"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053747"><span class="annot"><span class="annottext">opFieldName :: Name
</span><a href="#local-6989586621687053747"><span class="hs-identifier hs-var hs-var">opFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamingCase -&gt; GQLNameIdentifier -&gt; Name
</span><a href="Hasura.RQL.Types.SourceCustomization.html#applyFieldNameCaseIdentifier"><span class="hs-identifier hs-var">applyFieldNameCaseIdentifier</span></a></span><span> </span><span class="annot"><span class="annottext">NamingCase
</span><a href="#local-6989586621687053744"><span class="hs-identifier hs-var">tCase</span></a></span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053743"><span class="hs-identifier hs-var">operator</span></a></span><span>
</span><span id="line-1053"></span><span>          </span><span id="local-6989586621687053749"><span class="annot"><span class="annottext">opText :: Text
</span><a href="#local-6989586621687053749"><span class="hs-identifier hs-var hs-var">opText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.Name.html#unName"><span class="hs-identifier hs-var">G.unName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687053747"><span class="hs-identifier hs-var">opFieldName</span></a></span><span>
</span><span id="line-1054"></span><span>          </span><span id="local-6989586621687053750"><span class="annot"><span class="annottext">setName :: Name
</span><a href="#local-6989586621687053750"><span class="hs-identifier hs-var hs-var">setName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MkTypename -&gt; Name -&gt; Name
</span><a href="Hasura.GraphQL.Schema.Typename.html#runMkTypename"><span class="hs-identifier hs-var">runMkTypename</span></a></span><span> </span><span class="annot"><span class="annottext">MkTypename
</span><a href="#local-6989586621687053742"><span class="hs-identifier hs-var">makeTypename</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; Name -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NamingCase -&gt; GQLNameIdentifier -&gt; Name
</span><a href="Hasura.RQL.Types.SourceCustomization.html#applyTypeNameCaseIdentifier"><span class="hs-identifier hs-var">applyTypeNameCaseIdentifier</span></a></span><span> </span><span class="annot"><span class="annottext">NamingCase
</span><a href="#local-6989586621687053744"><span class="hs-identifier hs-var">tCase</span></a></span><span> </span><span class="annot"><span class="annottext">(GQLNameIdentifier -&gt; Name) -&gt; GQLNameIdentifier -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier -&gt; GQLNameIdentifier -&gt; GQLNameIdentifier
</span><a href="Hasura.RQL.Types.SourceCustomization.html#mkTableAggOperatorTypeName"><span class="hs-identifier hs-var">mkTableAggOperatorTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053745"><span class="hs-identifier hs-var">tableGQLName</span></a></span><span> </span><span class="annot"><span class="annottext">GQLNameIdentifier
</span><a href="#local-6989586621687053743"><span class="hs-identifier hs-var">operator</span></a></span><span>
</span><span id="line-1055"></span><span>          </span><span id="local-6989586621687053752"><span class="annot"><span class="annottext">setDesc :: Maybe Description
</span><a href="#local-6989586621687053752"><span class="hs-identifier hs-var hs-var">setDesc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Description -&gt; Maybe Description)
-&gt; Description -&gt; Maybe Description
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-var">G.Description</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Description) -&gt; Text -&gt; Description
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;aggregate &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621687053749"><span class="hs-identifier hs-var">opText</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; on columns&quot;</span></span><span>
</span><span id="line-1056"></span><span>          </span><span id="local-6989586621687053753"><span class="annot"><span class="annottext">subselectionParser :: Parser
  MetadataObjId
  'Output
  n
  (Fields (SelectionField b (UnpreparedValue b)))
</span><a href="#local-6989586621687053753"><span class="hs-identifier hs-var hs-var">subselectionParser</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1057"></span><span>            </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; [FieldParser n (SelectionField b (UnpreparedValue b))]
-&gt; Parser
     MetadataObjId
     'Output
     n
     (InsOrdHashMap
        Name (ParsedSelection (SelectionField b (UnpreparedValue b))))
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; [FieldParser origin m a]
-&gt; Parser origin 'Output m (InsOrdHashMap Name (ParsedSelection a))
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selectionSet"><span class="hs-identifier hs-var">P.selectionSet</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687053750"><span class="hs-identifier hs-var">setName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687053752"><span class="hs-identifier hs-var">setDesc</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldParser n (SelectionField b (UnpreparedValue b))]
</span><a href="#local-6989586621687053746"><span class="hs-identifier hs-var">columns</span></a></span><span>
</span><span id="line-1058"></span><span>              </span><span class="annot"><span class="annottext">Parser
  MetadataObjId
  'Output
  n
  (InsOrdHashMap
     Name (ParsedSelection (SelectionField b (UnpreparedValue b))))
-&gt; (InsOrdHashMap
      Name (ParsedSelection (SelectionField b (UnpreparedValue b)))
    -&gt; Fields (SelectionField b (UnpreparedValue b)))
-&gt; Parser
     MetadataObjId
     'Output
     n
     (Fields (SelectionField b (UnpreparedValue b)))
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; SelectionField b (UnpreparedValue b))
-&gt; InsOrdHashMap
     Name (ParsedSelection (SelectionField b (UnpreparedValue b)))
-&gt; Fields (SelectionField b (UnpreparedValue b))
forall a.
(Text -&gt; a) -&gt; InsOrdHashMap Name (ParsedSelection a) -&gt; Fields a
</span><a href="Hasura.GraphQL.Schema.Common.html#parsedSelectionsToFields"><span class="hs-identifier hs-var">parsedSelectionsToFields</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; SelectionField b (UnpreparedValue b)
forall (b :: BackendType) v. Text -&gt; SelectionField b v
</span><a href="Hasura.RQL.IR.Select.html#SFExp"><span class="hs-identifier hs-var">IR.SFExp</span></a></span><span>
</span><span id="line-1059"></span><span>       </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser
     MetadataObjId
     'Output
     n
     (Fields (SelectionField b (UnpreparedValue b)))
-&gt; FieldParser
     MetadataObjId n (Fields (SelectionField b (UnpreparedValue b)))
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin 'Output m a
-&gt; FieldParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#subselection_"><span class="hs-identifier hs-var">P.subselection_</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687053747"><span class="hs-identifier hs-var">opFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Parser
  MetadataObjId
  'Output
  n
  (Fields (SelectionField b (UnpreparedValue b)))
</span><a href="#local-6989586621687053753"><span class="hs-identifier hs-var">subselectionParser</span></a></span><span>
</span><span id="line-1060"></span><span>            </span><span class="annot"><span class="annottext">FieldParser
  MetadataObjId n (Fields (SelectionField b (UnpreparedValue b)))
-&gt; (Fields (SelectionField b (UnpreparedValue b))
    -&gt; AggregateField b (UnpreparedValue b))
-&gt; FieldParser n (AggregateField b (UnpreparedValue b))
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="annot"><span class="annottext">AggregateOp b (UnpreparedValue b)
-&gt; AggregateField b (UnpreparedValue b)
forall (b :: BackendType) v. AggregateOp b v -&gt; AggregateField b v
</span><a href="Hasura.RQL.IR.Select.html#AFOp"><span class="hs-identifier hs-var">IR.AFOp</span></a></span><span> </span><span class="annot"><span class="annottext">(AggregateOp b (UnpreparedValue b)
 -&gt; AggregateField b (UnpreparedValue b))
-&gt; (Fields (SelectionField b (UnpreparedValue b))
    -&gt; AggregateOp b (UnpreparedValue b))
-&gt; Fields (SelectionField b (UnpreparedValue b))
-&gt; AggregateField b (UnpreparedValue b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text
-&gt; Fields (SelectionField b (UnpreparedValue b))
-&gt; AggregateOp b (UnpreparedValue b)
forall (b :: BackendType) v.
Text -&gt; SelectionFields b v -&gt; AggregateOp b v
</span><a href="Hasura.RQL.IR.Select.html#AggregateOp"><span class="hs-identifier hs-var">IR.AggregateOp</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621687053749"><span class="hs-identifier hs-var">opText</span></a></span><span>
</span><span id="line-1061"></span><span>
</span><span id="line-1062"></span><span class="annot"><span class="hs-comment">-- | shared implementation between tables and logical models</span></span><span>
</span><span id="line-1063"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#defaultArgsParser"><span class="hs-identifier hs-type">defaultArgsParser</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1064"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687051435"><span class="annot"><a href="#local-6989586621687051435"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621687051436"><span class="annot"><a href="#local-6989586621687051436"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621687051437"><span class="annot"><a href="#local-6989586621687051437"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687051438"><span class="annot"><a href="#local-6989586621687051438"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-1065"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#MonadBuildSchema"><span class="hs-identifier hs-type">MonadBuildSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051435"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051436"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051437"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051438"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-1066"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1067"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#InputFieldsParser"><span class="hs-identifier hs-type">InputFieldsParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051438"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#AnnBoolExp"><span class="hs-identifier hs-type">AnnBoolExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051435"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051435"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1068"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#InputFieldsParser"><span class="hs-identifier hs-type">InputFieldsParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051438"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#AnnotatedOrderByItemG"><span class="hs-identifier hs-type">IR.AnnotatedOrderByItemG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051435"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051435"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1069"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#InputFieldsParser"><span class="hs-identifier hs-type">InputFieldsParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051438"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#Column"><span class="hs-identifier hs-type">Column</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051435"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1070"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051436"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051437"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#InputFieldsParser"><span class="hs-identifier hs-type">InputFieldsParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051438"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SelectArgs"><span class="hs-identifier hs-type">SelectArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051435"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1071"></span><span id="defaultArgsParser"><span class="annot"><span class="annottext">defaultArgsParser :: forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
InputFieldsParser n (Maybe (AnnBoolExp b (UnpreparedValue b)))
-&gt; InputFieldsParser
     n (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
-&gt; InputFieldsParser n (Maybe (NonEmpty (Column b)))
-&gt; SchemaT r m (InputFieldsParser n (SelectArgs b))
</span><a href="Hasura.GraphQL.Schema.Select.html#defaultArgsParser"><span class="hs-identifier hs-var hs-var">defaultArgsParser</span></a></span></span><span> </span><span id="local-6989586621687053790"><span class="annot"><span class="annottext">InputFieldsParser n (Maybe (AnnBoolExp b (UnpreparedValue b)))
</span><a href="#local-6989586621687053790"><span class="hs-identifier hs-var">whereParser</span></a></span></span><span> </span><span id="local-6989586621687053791"><span class="annot"><span class="annottext">InputFieldsParser
  n (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
</span><a href="#local-6989586621687053791"><span class="hs-identifier hs-var">orderByParser</span></a></span></span><span> </span><span id="local-6989586621687053792"><span class="annot"><span class="annottext">InputFieldsParser n (Maybe (NonEmpty (Column b)))
</span><a href="#local-6989586621687053792"><span class="hs-identifier hs-var">distinctParser</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1072"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053793"><span class="annot"><span class="annottext">result :: InputFieldsParser n (SelectArgs b)
</span><a href="#local-6989586621687053793"><span class="hs-identifier hs-var hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1073"></span><span>        </span><span id="local-6989586621687053794"><span class="annot"><span class="annottext">Maybe (AnnBoolExp b (UnpreparedValue b))
</span><a href="#local-6989586621687053794"><span class="hs-identifier hs-var">whereArg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">InputFieldsParser n (Maybe (AnnBoolExp b (UnpreparedValue b)))
</span><a href="#local-6989586621687053790"><span class="hs-identifier hs-var">whereParser</span></a></span><span>
</span><span id="line-1074"></span><span>        </span><span id="local-6989586621687053795"><span class="annot"><span class="annottext">Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
</span><a href="#local-6989586621687053795"><span class="hs-identifier hs-var">orderByArg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">InputFieldsParser
  n (Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))))
</span><a href="#local-6989586621687053791"><span class="hs-identifier hs-var">orderByParser</span></a></span><span>
</span><span id="line-1075"></span><span>        </span><span id="local-6989586621687053796"><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621687053796"><span class="hs-identifier hs-var">limitArg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">InputFieldsParser n (Maybe Int)
forall (n :: * -&gt; *).
MonadParse n =&gt;
InputFieldsParser n (Maybe Int)
</span><a href="Hasura.GraphQL.Schema.Select.html#tableLimitArg"><span class="hs-identifier hs-var">tableLimitArg</span></a></span><span>
</span><span id="line-1076"></span><span>        </span><span id="local-6989586621687053797"><span class="annot"><span class="annottext">Maybe Int64
</span><a href="#local-6989586621687053797"><span class="hs-identifier hs-var">offsetArg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">InputFieldsParser n (Maybe Int64)
forall (n :: * -&gt; *).
MonadParse n =&gt;
InputFieldsParser n (Maybe Int64)
</span><a href="Hasura.GraphQL.Schema.Select.html#tableOffsetArg"><span class="hs-identifier hs-var">tableOffsetArg</span></a></span><span>
</span><span id="line-1077"></span><span>        </span><span id="local-6989586621687053798"><span class="annot"><span class="annottext">Maybe (NonEmpty (Column b))
</span><a href="#local-6989586621687053798"><span class="hs-identifier hs-var">distinctArg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">InputFieldsParser n (Maybe (NonEmpty (Column b)))
</span><a href="#local-6989586621687053792"><span class="hs-identifier hs-var">distinctParser</span></a></span><span>
</span><span id="line-1078"></span><span>        </span><span class="hs-identifier">pure</span><span>
</span><span id="line-1079"></span><span>          </span><span class="hs-operator">$</span><span> </span><span class="annot"><a href="Hasura.RQL.IR.Select.Args.html#SelectArgs"><span class="hs-identifier hs-type">IR.SelectArgs</span></a></span><span>
</span><span id="line-1080"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:_saWhere:SelectArgs :: Maybe (AnnBoolExp b (UnpreparedValue b))
</span><a href="Hasura.RQL.IR.Select.Args.html#%24sel%3A_saWhere%3ASelectArgs"><span class="hs-identifier hs-var">IR._saWhere</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (AnnBoolExp b (UnpreparedValue b))
</span><a href="#local-6989586621687053794"><span class="hs-identifier hs-var">whereArg</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1081"></span><span>              </span><span class="annot"><span class="annottext">$sel:_saOrderBy:SelectArgs :: Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
</span><a href="Hasura.RQL.IR.Select.Args.html#%24sel%3A_saOrderBy%3ASelectArgs"><span class="hs-identifier hs-var">IR._saOrderBy</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
</span><a href="#local-6989586621687053795"><span class="hs-identifier hs-var">orderByArg</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1082"></span><span>              </span><span class="annot"><span class="annottext">$sel:_saLimit:SelectArgs :: Maybe Int
</span><a href="Hasura.RQL.IR.Select.Args.html#%24sel%3A_saLimit%3ASelectArgs"><span class="hs-identifier hs-var">IR._saLimit</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621687053796"><span class="hs-identifier hs-var">limitArg</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1083"></span><span>              </span><span class="annot"><span class="annottext">$sel:_saOffset:SelectArgs :: Maybe Int64
</span><a href="Hasura.RQL.IR.Select.Args.html#%24sel%3A_saOffset%3ASelectArgs"><span class="hs-identifier hs-var">IR._saOffset</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Int64
</span><a href="#local-6989586621687053797"><span class="hs-identifier hs-var">offsetArg</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1084"></span><span>              </span><span class="annot"><span class="annottext">$sel:_saDistinct:SelectArgs :: Maybe (NonEmpty (Column b))
</span><a href="Hasura.RQL.IR.Select.Args.html#%24sel%3A_saDistinct%3ASelectArgs"><span class="hs-identifier hs-var">IR._saDistinct</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (NonEmpty (Column b))
</span><a href="#local-6989586621687053798"><span class="hs-identifier hs-var">distinctArg</span></a></span><span>
</span><span id="line-1085"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-1086"></span><span>  </span><span class="annot"><span class="annottext">InputFieldsParser n (SelectArgs b)
-&gt; SchemaT r m (InputFieldsParser n (SelectArgs b))
forall a. a -&gt; SchemaT r m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-1087"></span><span>    </span><span class="annot"><span class="annottext">(InputFieldsParser n (SelectArgs b)
 -&gt; SchemaT r m (InputFieldsParser n (SelectArgs b)))
-&gt; InputFieldsParser n (SelectArgs b)
-&gt; SchemaT r m (InputFieldsParser n (SelectArgs b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser n (SelectArgs b)
</span><a href="#local-6989586621687053793"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-1088"></span><span>    </span><span class="annot"><span class="annottext">InputFieldsParser n (SelectArgs b)
-&gt; (SelectArgs b -&gt; n (SelectArgs b))
-&gt; InputFieldsParser n (SelectArgs b)
forall (m :: * -&gt; *) origin a b.
Monad m =&gt;
InputFieldsParser origin m a
-&gt; (a -&gt; m b) -&gt; InputFieldsParser origin m b
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#bindFields"><span class="hs-operator hs-var">`P.bindFields`</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687053803"><span class="annot"><span class="annottext">SelectArgs b
</span><a href="#local-6989586621687053803"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1089"></span><span>      </span><span class="annot"><span class="annottext">Maybe (n ()) -&gt; n ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Foldable t, Monad m) =&gt;
t (m a) -&gt; m ()
</span><span class="hs-identifier hs-var">sequence_</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1090"></span><span>        </span><span id="local-6989586621687053805"><span class="annot"><span class="annottext">NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))
</span><a href="#local-6989586621687053805"><span class="hs-identifier hs-var">orderBy</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SelectArgs b
-&gt; Maybe (NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b)))
forall (b :: BackendType) v.
SelectArgsG b v -&gt; Maybe (NonEmpty (AnnotatedOrderByItemG b v))
</span><a href="Hasura.RQL.IR.Select.Args.html#%24sel%3A_saOrderBy%3ASelectArgs"><span class="hs-identifier hs-var">IR._saOrderBy</span></a></span><span> </span><span class="annot"><span class="annottext">SelectArgs b
</span><a href="#local-6989586621687053803"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1091"></span><span>        </span><span id="local-6989586621687053806"><span class="annot"><span class="annottext">NonEmpty (Column b)
</span><a href="#local-6989586621687053806"><span class="hs-identifier hs-var">distinct</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SelectArgs b -&gt; Maybe (NonEmpty (Column b))
forall (b :: BackendType) v.
SelectArgsG b v -&gt; Maybe (NonEmpty (Column b))
</span><a href="Hasura.RQL.IR.Select.Args.html#%24sel%3A_saDistinct%3ASelectArgs"><span class="hs-identifier hs-var">IR._saDistinct</span></a></span><span> </span><span class="annot"><span class="annottext">SelectArgs b
</span><a href="#local-6989586621687053803"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1092"></span><span>        </span><span class="annot"><span class="annottext">n () -&gt; Maybe (n ())
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(n () -&gt; Maybe (n ())) -&gt; n () -&gt; Maybe (n ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))
-&gt; NonEmpty (Column b) -&gt; n ()
forall {t :: * -&gt; *} {b :: BackendType} {f :: * -&gt; *}
       {b :: BackendType} {v}.
(Foldable t, Eq (Column b), MonadParse f) =&gt;
NonEmpty (OrderByItemG b (AnnotatedOrderByElement b v))
-&gt; t (Column b) -&gt; f ()
</span><a href="#local-6989586621687053807"><span class="hs-identifier hs-var">validateArgs</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (AnnotatedOrderByItemG b (UnpreparedValue b))
</span><a href="#local-6989586621687053805"><span class="hs-identifier hs-var">orderBy</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (Column b)
</span><a href="#local-6989586621687053806"><span class="hs-identifier hs-var">distinct</span></a></span><span>
</span><span id="line-1093"></span><span>      </span><span class="hs-identifier">pure</span><span> </span><span class="annot"><span class="annottext">SelectArgs b
</span><a href="#local-6989586621687053803"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1094"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1095"></span><span>    </span><span id="local-6989586621687053807"><span class="annot"><span class="annottext">validateArgs :: NonEmpty (OrderByItemG b (AnnotatedOrderByElement b v))
-&gt; t (Column b) -&gt; f ()
</span><a href="#local-6989586621687053807"><span class="hs-identifier hs-var hs-var">validateArgs</span></a></span></span><span> </span><span id="local-6989586621687053832"><span class="annot"><span class="annottext">NonEmpty (OrderByItemG b (AnnotatedOrderByElement b v))
</span><a href="#local-6989586621687053832"><span class="hs-identifier hs-var">orderByCols</span></a></span></span><span> </span><span id="local-6989586621687053833"><span class="annot"><span class="annottext">t (Column b)
</span><a href="#local-6989586621687053833"><span class="hs-identifier hs-var">distinctCols</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1096"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053834"><span class="annot"><span class="annottext">colsLen :: Int
</span><a href="#local-6989586621687053834"><span class="hs-identifier hs-var hs-var">colsLen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t (Column b) -&gt; Int
forall a. t a -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">t (Column b)
</span><a href="#local-6989586621687053833"><span class="hs-identifier hs-var">distinctCols</span></a></span><span>
</span><span id="line-1097"></span><span>          </span><span id="local-6989586621687053836"><span class="annot"><span class="annottext">initOrderBys :: [OrderByItemG b (AnnotatedOrderByElement b v)]
</span><a href="#local-6989586621687053836"><span class="hs-identifier hs-var hs-var">initOrderBys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
-&gt; [OrderByItemG b (AnnotatedOrderByElement b v)]
-&gt; [OrderByItemG b (AnnotatedOrderByElement b v)]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621687053834"><span class="hs-identifier hs-var">colsLen</span></a></span><span> </span><span class="annot"><span class="annottext">([OrderByItemG b (AnnotatedOrderByElement b v)]
 -&gt; [OrderByItemG b (AnnotatedOrderByElement b v)])
-&gt; [OrderByItemG b (AnnotatedOrderByElement b v)]
-&gt; [OrderByItemG b (AnnotatedOrderByElement b v)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty (OrderByItemG b (AnnotatedOrderByElement b v))
-&gt; [OrderByItemG b (AnnotatedOrderByElement b v)]
forall a. NonEmpty a -&gt; [a]
</span><span class="hs-identifier hs-var">NE.toList</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty (OrderByItemG b (AnnotatedOrderByElement b v))
</span><a href="#local-6989586621687053832"><span class="hs-identifier hs-var">orderByCols</span></a></span><span>
</span><span id="line-1098"></span><span>          </span><span id="local-6989586621687053839"><span class="annot"><span class="annottext">initOrdByCols :: [Column b]
</span><a href="#local-6989586621687053839"><span class="hs-identifier hs-var hs-var">initOrdByCols</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((OrderByItemG b (AnnotatedOrderByElement b v) -&gt; Maybe (Column b))
 -&gt; [OrderByItemG b (AnnotatedOrderByElement b v)] -&gt; [Column b])
-&gt; [OrderByItemG b (AnnotatedOrderByElement b v)]
-&gt; (OrderByItemG b (AnnotatedOrderByElement b v)
    -&gt; Maybe (Column b))
-&gt; [Column b]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(OrderByItemG b (AnnotatedOrderByElement b v) -&gt; Maybe (Column b))
-&gt; [OrderByItemG b (AnnotatedOrderByElement b v)] -&gt; [Column b]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b.
Filterable f =&gt;
(a -&gt; Maybe b) -&gt; f a -&gt; f b
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/witherable-0.4.2-a40f3f0a2ed7f25145b5b00589bf4ea2486662b1e96b7d29d5e6041625ee4a09/share/doc/html/src/Witherable.html#mapMaybe"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">[OrderByItemG b (AnnotatedOrderByElement b v)]
</span><a href="#local-6989586621687053836"><span class="hs-identifier hs-var">initOrderBys</span></a></span><span> </span><span class="annot"><span class="annottext">((OrderByItemG b (AnnotatedOrderByElement b v) -&gt; Maybe (Column b))
 -&gt; [Column b])
-&gt; (OrderByItemG b (AnnotatedOrderByElement b v)
    -&gt; Maybe (Column b))
-&gt; [Column b]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687053840"><span class="annot"><span class="annottext">OrderByItemG b (AnnotatedOrderByElement b v)
</span><a href="#local-6989586621687053840"><span class="hs-identifier hs-var">ob</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1099"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OrderByItemG b (AnnotatedOrderByElement b v)
-&gt; AnnotatedOrderByElement b v
forall (b :: BackendType) a. OrderByItemG b a -&gt; a
</span><a href="Hasura.RQL.IR.OrderBy.html#obiColumn"><span class="hs-identifier hs-var">IR.obiColumn</span></a></span><span> </span><span class="annot"><span class="annottext">OrderByItemG b (AnnotatedOrderByElement b v)
</span><a href="#local-6989586621687053840"><span class="hs-identifier hs-var">ob</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1100"></span><span>              </span><span class="annot"><a href="Hasura.RQL.IR.Select.OrderBy.html#AOCColumn"><span class="hs-identifier hs-type">IR.AOCColumn</span></a></span><span> </span><span id="local-6989586621687053841"><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053841"><span class="hs-identifier hs-var">columnInfo</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Column b -&gt; Maybe (Column b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Column b -&gt; Maybe (Column b)) -&gt; Column b -&gt; Maybe (Column b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Column b
forall (b :: BackendType). ColumnInfo b -&gt; Column b
</span><a href="Hasura.RQL.Types.Column.html#ciColumn"><span class="hs-identifier hs-var">ciColumn</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053841"><span class="hs-identifier hs-var">columnInfo</span></a></span><span>
</span><span id="line-1101"></span><span>              </span><span class="annot"><span class="annottext">AnnotatedOrderByElement b v
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Column b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1102"></span><span>          </span><span id="local-6989586621687053842"><span class="annot"><span class="annottext">isValid :: Bool
</span><a href="#local-6989586621687053842"><span class="hs-identifier hs-var hs-var">isValid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1103"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621687053834"><span class="hs-identifier hs-var">colsLen</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[Column b] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Column b]
</span><a href="#local-6989586621687053839"><span class="hs-identifier hs-var">initOrdByCols</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1104"></span><span>              </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">(Column b -&gt; Bool) -&gt; [Column b] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Column b -&gt; [Column b] -&gt; Bool
forall a. Eq a =&gt; a -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[Column b]
</span><a href="#local-6989586621687053839"><span class="hs-identifier hs-var">initOrdByCols</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t (Column b) -&gt; [Column b]
forall a. t a -&gt; [a]
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><span class="hs-identifier hs-var">toList</span></span><span> </span><span class="annot"><span class="annottext">t (Column b)
</span><a href="#local-6989586621687053833"><span class="hs-identifier hs-var">distinctCols</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1105"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; f () -&gt; f ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687053842"><span class="hs-identifier hs-var">isValid</span></a></span><span>
</span><span id="line-1106"></span><span>        </span><span class="annot"><span class="annottext">(f () -&gt; f ()) -&gt; f () -&gt; f ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ErrorMessage -&gt; f ()
forall (m :: * -&gt; *) a. MonadParse m =&gt; ErrorMessage -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Class.html#parseError"><span class="hs-identifier hs-var">parseError</span></a></span><span>
</span><span id="line-1107"></span><span>          </span><span class="annot"><span class="annottext">ErrorMessage
</span><span class="hs-string">&quot;\&quot;distinct_on\&quot; columns must match initial \&quot;order_by\&quot; columns&quot;</span></span><span>
</span><span id="line-1108"></span><span>
</span><span id="line-1109"></span><span class="hs-comment">-- | An individual field of a table</span><span>
</span><span id="line-1110"></span><span class="hs-comment">--</span><span>
</span><span id="line-1111"></span><span class="hs-comment">-- &gt; field_name(arg_name: arg_type, ...): field_type</span><span>
</span><span id="line-1112"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#fieldSelection"><span class="hs-identifier hs-type">fieldSelection</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1113"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687051347"><span class="annot"><a href="#local-6989586621687051347"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621687051348"><span class="annot"><a href="#local-6989586621687051348"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621687051349"><span class="annot"><a href="#local-6989586621687051349"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687051350"><span class="annot"><a href="#local-6989586621687051350"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-1114"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.BoolExp.html#AggregationPredicatesSchema"><span class="hs-identifier hs-type">AggregationPredicatesSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051347"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1115"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#BackendTableSelectSchema"><span class="hs-identifier hs-type">BackendTableSelectSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051347"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1116"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#AnnBoolExp"><span class="hs-identifier hs-type">AnnBoolExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051347"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051347"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-1117"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#MonadBuildSchema"><span class="hs-identifier hs-type">MonadBuildSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051347"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051348"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051349"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051350"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-1118"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1119"></span><span>  </span><span class="annot"><a href="Hasura.LogicalModel.Cache.html#LogicalModelCache"><span class="hs-identifier hs-type">LogicalModelCache</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051347"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1120"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#TableName"><span class="hs-identifier hs-type">TableName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051347"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1121"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#TableInfo"><span class="hs-identifier hs-type">TableInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051347"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1122"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#FieldInfo"><span class="hs-identifier hs-type">FieldInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051347"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1123"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051348"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051349"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051350"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#AnnotatedField"><span class="hs-identifier hs-type">AnnotatedField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051347"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1124"></span><span id="fieldSelection"><span class="annot"><span class="annottext">fieldSelection :: forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(AggregationPredicatesSchema b, BackendTableSelectSchema b,
 Eq (AnnBoolExp b (UnpreparedValue b)), MonadBuildSchema b r m n) =&gt;
LogicalModelCache b
-&gt; TableName b
-&gt; TableInfo b
-&gt; FieldInfo b
-&gt; SchemaT r m [FieldParser n (AnnotatedField b)]
</span><a href="Hasura.GraphQL.Schema.Select.html#fieldSelection"><span class="hs-identifier hs-var hs-var">fieldSelection</span></a></span></span><span> </span><span id="local-6989586621687053950"><span class="annot"><span class="annottext">LogicalModelCache b
</span><a href="#local-6989586621687053950"><span class="hs-identifier hs-var">logicalModelCache</span></a></span></span><span> </span><span id="local-6989586621687053951"><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687053951"><span class="hs-identifier hs-var">table</span></a></span></span><span> </span><span id="local-6989586621687053952"><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053952"><span class="hs-identifier hs-var">tableInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1125"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#FIColumn"><span class="hs-identifier hs-type">FIColumn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Column.html#SCIScalarColumn"><span class="hs-identifier hs-type">SCIScalarColumn</span></a></span><span> </span><span id="local-6989586621687053955"><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053955"><span class="hs-identifier hs-var">columnInfo</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1126"></span><span>    </span><span class="annot"><span class="annottext">Maybe (FieldParser n (AnnotatedField b))
-&gt; [FieldParser n (AnnotatedField b)]
forall a. Maybe a -&gt; [a]
</span><span class="hs-identifier hs-var">maybeToList</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (FieldParser n (AnnotatedField b))
 -&gt; [FieldParser n (AnnotatedField b)])
-&gt; SchemaT r m (Maybe (FieldParser n (AnnotatedField b)))
-&gt; SchemaT r m [FieldParser n (AnnotatedField b)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">MaybeT (SchemaT r m) (FieldParser n (AnnotatedField b))
-&gt; SchemaT r m (Maybe (FieldParser n (AnnotatedField b)))
forall (m :: * -&gt; *) a. MaybeT m a -&gt; m (Maybe a)
</span><span class="hs-identifier hs-var">runMaybeT</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1127"></span><span>      </span><span id="local-6989586621687053957"><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687053957"><span class="hs-identifier hs-var">roleName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SchemaContext -&gt; RoleName) -&gt; MaybeT (SchemaT r m) RoleName
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaContext -&gt; RoleName
</span><a href="Hasura.GraphQL.Schema.Common.html#scRole"><span class="hs-identifier hs-var">scRole</span></a></span><span>
</span><span id="line-1128"></span><span>      </span><span id="local-6989586621687053958"><span class="annot"><span class="annottext">SchemaKind
</span><a href="#local-6989586621687053958"><span class="hs-identifier hs-var">schemaKind</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SchemaContext -&gt; SchemaKind) -&gt; MaybeT (SchemaT r m) SchemaKind
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaContext -&gt; SchemaKind
</span><a href="Hasura.GraphQL.Schema.Common.html#scSchemaKind"><span class="hs-identifier hs-var">scSchemaKind</span></a></span><span>
</span><span id="line-1129"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053959"><span class="annot"><span class="annottext">fieldName :: Name
</span><a href="#local-6989586621687053959"><span class="hs-identifier hs-var hs-var">fieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Name
forall (b :: BackendType). ColumnInfo b -&gt; Name
</span><a href="Hasura.RQL.Types.Column.html#ciName"><span class="hs-identifier hs-var">ciName</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053955"><span class="hs-identifier hs-var">columnInfo</span></a></span><span>
</span><span id="line-1130"></span><span>      </span><span class="hs-comment">-- If the field name is 'id' and we're building a schema for the Relay</span><span>
</span><span id="line-1131"></span><span>      </span><span class="hs-comment">-- API, Node's id field will take precedence; consequently we simply</span><span>
</span><span id="line-1132"></span><span>      </span><span class="hs-comment">-- ignore the original.</span><span>
</span><span id="line-1133"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; MaybeT (SchemaT r m) ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; MaybeT (SchemaT r m) ())
-&gt; Bool -&gt; MaybeT (SchemaT r m) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SchemaKind -&gt; Bool
</span><a href="Hasura.GraphQL.Schema.Common.html#isHasuraSchema"><span class="hs-identifier hs-var">isHasuraSchema</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaKind
</span><a href="#local-6989586621687053958"><span class="hs-identifier hs-var">schemaKind</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687053959"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_id"><span class="hs-identifier hs-var">Name._id</span></a></span><span>
</span><span id="line-1134"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687053961"><span class="annot"><span class="annottext">columnName :: Column b
</span><a href="#local-6989586621687053961"><span class="hs-identifier hs-var hs-var">columnName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Column b
forall (b :: BackendType). ColumnInfo b -&gt; Column b
</span><a href="Hasura.RQL.Types.Column.html#ciColumn"><span class="hs-identifier hs-var">ciColumn</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053955"><span class="hs-identifier hs-var">columnInfo</span></a></span><span>
</span><span id="line-1135"></span><span>      </span><span id="local-6989586621687053962"><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687053962"><span class="hs-identifier hs-var">selectPermissions</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b)
forall (m :: * -&gt; *) b. Applicative m =&gt; Maybe b -&gt; MaybeT m b
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#hoistMaybe"><span class="hs-identifier hs-var">hoistMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b))
-&gt; Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleName -&gt; TableInfo b -&gt; Maybe (SelPermInfo b)
forall (b :: BackendType).
RoleName -&gt; TableInfo b -&gt; Maybe (SelPermInfo b)
</span><a href="Hasura.GraphQL.Schema.Table.html#tableSelectPermissions"><span class="hs-identifier hs-var">tableSelectPermissions</span></a></span><span> </span><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687053957"><span class="hs-identifier hs-var">roleName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053952"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-1136"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; MaybeT (SchemaT r m) ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; MaybeT (SchemaT r m) ())
-&gt; Bool -&gt; MaybeT (SchemaT r m) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Column b
</span><a href="#local-6989586621687053961"><span class="hs-identifier hs-var">columnName</span></a></span><span> </span><span class="annot"><span class="annottext">Column b
-&gt; HashMap (Column b) (Maybe (AnnColumnCaseBoolExpPartialSQL b))
-&gt; Bool
forall k a. (Eq k, Hashable k) =&gt; k -&gt; HashMap k a -&gt; Bool
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.html#member"><span class="hs-operator hs-var">`HashMap.member`</span></a></span><span> </span><span class="annot"><span class="annottext">SelPermInfo b
-&gt; HashMap (Column b) (Maybe (AnnColumnCaseBoolExpPartialSQL b))
forall (b :: BackendType).
SelPermInfo b
-&gt; HashMap (Column b) (Maybe (AnnColumnCaseBoolExpPartialSQL b))
</span><a href="Hasura.Table.Cache.html#spiCols"><span class="hs-identifier hs-var">spiCols</span></a></span><span> </span><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687053962"><span class="hs-identifier hs-var">selectPermissions</span></a></span><span>
</span><span id="line-1137"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621687053963"><span class="annot"><span class="annottext">caseBoolExp :: Maybe (AnnColumnCaseBoolExpPartialSQL b)
</span><a href="#local-6989586621687053963"><span class="hs-identifier hs-var hs-var">caseBoolExp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Maybe (AnnColumnCaseBoolExpPartialSQL b))
-&gt; Maybe (AnnColumnCaseBoolExpPartialSQL b)
forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><span class="hs-identifier hs-var">join</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (Maybe (AnnColumnCaseBoolExpPartialSQL b))
 -&gt; Maybe (AnnColumnCaseBoolExpPartialSQL b))
-&gt; Maybe (Maybe (AnnColumnCaseBoolExpPartialSQL b))
-&gt; Maybe (AnnColumnCaseBoolExpPartialSQL b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Column b
-&gt; HashMap (Column b) (Maybe (AnnColumnCaseBoolExpPartialSQL b))
-&gt; Maybe (Maybe (AnnColumnCaseBoolExpPartialSQL b))
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.html#lookup"><span class="hs-identifier hs-var">HashMap.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Column b
</span><a href="#local-6989586621687053961"><span class="hs-identifier hs-var">columnName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SelPermInfo b
-&gt; HashMap (Column b) (Maybe (AnnColumnCaseBoolExpPartialSQL b))
forall (b :: BackendType).
SelPermInfo b
-&gt; HashMap (Column b) (Maybe (AnnColumnCaseBoolExpPartialSQL b))
</span><a href="Hasura.Table.Cache.html#spiCols"><span class="hs-identifier hs-var">spiCols</span></a></span><span> </span><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687053962"><span class="hs-identifier hs-var">selectPermissions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1138"></span><span>          </span><span class="hs-glyph">!</span><span id="local-6989586621687053964"><span class="annot"><span class="annottext">caseBoolExpUnpreparedValue :: Maybe
  (GBoolExp b (AnnColumnCaseBoolExpField b (UnpreparedValue b)))
</span><a href="#local-6989586621687053964"><span class="hs-identifier hs-var hs-var">caseBoolExpUnpreparedValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1139"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AnnColumnCaseBoolExpField b (PartialSQLExp b)
 -&gt; AnnColumnCaseBoolExpField b (UnpreparedValue b))
-&gt; AnnColumnCaseBoolExpPartialSQL b
-&gt; GBoolExp b (AnnColumnCaseBoolExpField b (UnpreparedValue b))
forall a b. (a -&gt; b) -&gt; GBoolExp b a -&gt; GBoolExp b b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">((AnnColumnCaseBoolExpField b (PartialSQLExp b)
  -&gt; AnnColumnCaseBoolExpField b (UnpreparedValue b))
 -&gt; AnnColumnCaseBoolExpPartialSQL b
 -&gt; GBoolExp b (AnnColumnCaseBoolExpField b (UnpreparedValue b)))
-&gt; ((PartialSQLExp b -&gt; UnpreparedValue b)
    -&gt; AnnColumnCaseBoolExpField b (PartialSQLExp b)
    -&gt; AnnColumnCaseBoolExpField b (UnpreparedValue b))
-&gt; (PartialSQLExp b -&gt; UnpreparedValue b)
-&gt; AnnColumnCaseBoolExpPartialSQL b
-&gt; GBoolExp b (AnnColumnCaseBoolExpField b (UnpreparedValue b))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(PartialSQLExp b -&gt; UnpreparedValue b)
-&gt; AnnColumnCaseBoolExpField b (PartialSQLExp b)
-&gt; AnnColumnCaseBoolExpField b (UnpreparedValue b)
forall a b.
(a -&gt; b)
-&gt; AnnColumnCaseBoolExpField b a -&gt; AnnColumnCaseBoolExpField b b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PartialSQLExp b -&gt; UnpreparedValue b
forall (b :: BackendType). PartialSQLExp b -&gt; UnpreparedValue b
</span><a href="Hasura.GraphQL.Schema.Common.html#partialSQLExpToUnpreparedValue"><span class="hs-identifier hs-var">partialSQLExpToUnpreparedValue</span></a></span><span> </span><span class="annot"><span class="annottext">(AnnColumnCaseBoolExpPartialSQL b
 -&gt; GBoolExp b (AnnColumnCaseBoolExpField b (UnpreparedValue b)))
-&gt; Maybe (AnnColumnCaseBoolExpPartialSQL b)
-&gt; Maybe
     (GBoolExp b (AnnColumnCaseBoolExpField b (UnpreparedValue b)))
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">&lt;$!&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe (AnnColumnCaseBoolExpPartialSQL b)
</span><a href="#local-6989586621687053963"><span class="hs-identifier hs-var">caseBoolExp</span></a></span><span>
</span><span id="line-1140"></span><span>          </span><span id="local-6989586621687053967"><span class="annot"><span class="annottext">pathArg :: InputFieldsParser n (Maybe (ScalarSelectionArguments b))
</span><a href="#local-6989586621687053967"><span class="hs-identifier hs-var hs-var">pathArg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ColumnType b
-&gt; InputFieldsParser n (Maybe (ScalarSelectionArguments b))
forall (b :: BackendType) (n :: * -&gt; *).
(BackendSchema b, MonadParse n) =&gt;
ColumnType b
-&gt; InputFieldsParser n (Maybe (ScalarSelectionArguments b))
forall (n :: * -&gt; *).
MonadParse n =&gt;
ColumnType b
-&gt; InputFieldsParser n (Maybe (ScalarSelectionArguments b))
</span><a href="Hasura.GraphQL.Schema.Backend.html#scalarSelectionArgumentsParser"><span class="hs-identifier hs-var">scalarSelectionArgumentsParser</span></a></span><span> </span><span class="annot"><span class="annottext">(ColumnType b
 -&gt; InputFieldsParser n (Maybe (ScalarSelectionArguments b)))
-&gt; ColumnType b
-&gt; InputFieldsParser n (Maybe (ScalarSelectionArguments b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b -&gt; ColumnType b
forall (b :: BackendType). ColumnInfo b -&gt; ColumnType b
</span><a href="Hasura.RQL.Types.Column.html#ciType"><span class="hs-identifier hs-var">ciType</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053955"><span class="hs-identifier hs-var">columnInfo</span></a></span><span>
</span><span id="line-1141"></span><span>          </span><span class="hs-comment">-- In an inherited role, when a column is part of all the select</span><span>
</span><span id="line-1142"></span><span>          </span><span class="hs-comment">-- permissions which make up the inherited role then the nullability</span><span>
</span><span id="line-1143"></span><span>          </span><span class="hs-comment">-- of the field is determined by the nullability of the DB column</span><span>
</span><span id="line-1144"></span><span>          </span><span class="hs-comment">-- otherwise it is marked as nullable explicitly, ignoring the column's</span><span>
</span><span id="line-1145"></span><span>          </span><span class="hs-comment">-- nullability. We do this because</span><span>
</span><span id="line-1146"></span><span>          </span><span class="hs-comment">-- in multiple roles we execute an SQL query like:</span><span>
</span><span id="line-1147"></span><span>          </span><span class="hs-comment">--</span><span>
</span><span id="line-1148"></span><span>          </span><span class="hs-comment">--  select</span><span>
</span><span id="line-1149"></span><span>          </span><span class="hs-comment">--    (case when (P1 or P2) then addr else null end) as addr,</span><span>
</span><span id="line-1150"></span><span>          </span><span class="hs-comment">--    (case when P2 then phone else null end) as phone</span><span>
</span><span id="line-1151"></span><span>          </span><span class="hs-comment">-- from employee</span><span>
</span><span id="line-1152"></span><span>          </span><span class="hs-comment">-- where (P1 or P2)</span><span>
</span><span id="line-1153"></span><span>          </span><span class="hs-comment">--</span><span>
</span><span id="line-1154"></span><span>          </span><span class="hs-comment">-- In the above example, P(n) is a predicate configured for a role</span><span>
</span><span id="line-1155"></span><span>          </span><span class="hs-comment">--</span><span>
</span><span id="line-1156"></span><span>          </span><span class="hs-comment">-- NOTE: https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/FGALanguageICDE07.pdf</span><span>
</span><span id="line-1157"></span><span>          </span><span class="hs-comment">-- The above is the paper which talks about the idea of cell-level</span><span>
</span><span id="line-1158"></span><span>          </span><span class="hs-comment">-- authorization and multiple roles. The paper says that we should only</span><span>
</span><span id="line-1159"></span><span>          </span><span class="hs-comment">-- allow the case analysis only on nullable columns.</span><span>
</span><span id="line-1160"></span><span>          </span><span id="local-6989586621687053969"><span class="annot"><span class="annottext">nullability :: Bool
</span><a href="#local-6989586621687053969"><span class="hs-identifier hs-var hs-var">nullability</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Bool
forall (b :: BackendType). ColumnInfo b -&gt; Bool
</span><a href="Hasura.RQL.Types.Column.html#ciIsNullable"><span class="hs-identifier hs-var">ciIsNullable</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053955"><span class="hs-identifier hs-var">columnInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Maybe (AnnColumnCaseBoolExpPartialSQL b) -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isJust</span></span><span> </span><span class="annot"><span class="annottext">Maybe (AnnColumnCaseBoolExpPartialSQL b)
</span><a href="#local-6989586621687053963"><span class="hs-identifier hs-var">caseBoolExp</span></a></span><span>
</span><span id="line-1161"></span><span>      </span><span id="local-6989586621687053970"><span class="annot"><span class="annottext">Parser 'Both n (ValueWithOrigin (ColumnValue b))
</span><a href="#local-6989586621687053970"><span class="hs-identifier hs-var">field</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SchemaT r m (Parser 'Both n (ValueWithOrigin (ColumnValue b)))
-&gt; MaybeT
     (SchemaT r m) (Parser 'Both n (ValueWithOrigin (ColumnValue b)))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; MaybeT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m (Parser 'Both n (ValueWithOrigin (ColumnValue b)))
 -&gt; MaybeT
      (SchemaT r m) (Parser 'Both n (ValueWithOrigin (ColumnValue b))))
-&gt; SchemaT r m (Parser 'Both n (ValueWithOrigin (ColumnValue b)))
-&gt; MaybeT
     (SchemaT r m) (Parser 'Both n (ValueWithOrigin (ColumnValue b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ColumnType b
-&gt; Nullability
-&gt; SchemaT r m (Parser 'Both n (ValueWithOrigin (ColumnValue b)))
forall r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
ColumnType b
-&gt; Nullability
-&gt; SchemaT r m (Parser 'Both n (ValueWithOrigin (ColumnValue b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(BackendSchema b, MonadBuildSchema b r m n) =&gt;
ColumnType b
-&gt; Nullability
-&gt; SchemaT r m (Parser 'Both n (ValueWithOrigin (ColumnValue b)))
</span><a href="Hasura.GraphQL.Schema.Backend.html#columnParser"><span class="hs-identifier hs-var">columnParser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b -&gt; ColumnType b
forall (b :: BackendType). ColumnInfo b -&gt; ColumnType b
</span><a href="Hasura.RQL.Types.Column.html#ciType"><span class="hs-identifier hs-var">ciType</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053955"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Nullability
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Nullability"><span class="hs-identifier hs-var">G.Nullability</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687053969"><span class="hs-identifier hs-var">nullability</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1162"></span><span>      </span><span class="annot"><span class="annottext">FieldParser n (AnnotatedField b)
-&gt; MaybeT (SchemaT r m) (FieldParser n (AnnotatedField b))
forall a. a -&gt; MaybeT (SchemaT r m) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-1163"></span><span>        </span><span class="annot"><span class="annottext">(FieldParser n (AnnotatedField b)
 -&gt; MaybeT (SchemaT r m) (FieldParser n (AnnotatedField b)))
-&gt; FieldParser n (AnnotatedField b)
-&gt; MaybeT (SchemaT r m) (FieldParser n (AnnotatedField b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; InputFieldsParser n (Maybe (ScalarSelectionArguments b))
-&gt; Parser 'Both n (ValueWithOrigin (ColumnValue b))
-&gt; FieldParser MetadataObjId n (Maybe (ScalarSelectionArguments b))
forall (m :: * -&gt; *) origin a b.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; InputFieldsParser origin m a
-&gt; Parser origin 'Both m b
-&gt; FieldParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selection"><span class="hs-identifier hs-var">P.selection</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687053959"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Maybe Description
forall (b :: BackendType). ColumnInfo b -&gt; Maybe Description
</span><a href="Hasura.RQL.Types.Column.html#ciDescription"><span class="hs-identifier hs-var">ciDescription</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053955"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">InputFieldsParser n (Maybe (ScalarSelectionArguments b))
</span><a href="#local-6989586621687053967"><span class="hs-identifier hs-var">pathArg</span></a></span><span> </span><span class="annot"><span class="annottext">Parser 'Both n (ValueWithOrigin (ColumnValue b))
</span><a href="#local-6989586621687053970"><span class="hs-identifier hs-var">field</span></a></span><span>
</span><span id="line-1164"></span><span>        </span><span class="annot"><span class="annottext">FieldParser MetadataObjId n (Maybe (ScalarSelectionArguments b))
-&gt; (Maybe (ScalarSelectionArguments b) -&gt; AnnotatedField b)
-&gt; FieldParser n (AnnotatedField b)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Column b
-&gt; ColumnType b
-&gt; Maybe
     (GBoolExp b (AnnColumnCaseBoolExpField b (UnpreparedValue b)))
-&gt; Maybe (ScalarSelectionArguments b)
-&gt; AnnotatedField b
forall (backend :: BackendType) v r.
Column backend
-&gt; ColumnType backend
-&gt; Maybe (AnnColumnCaseBoolExp backend v)
-&gt; Maybe (ScalarSelectionArguments backend)
-&gt; AnnFieldG backend r v
</span><a href="Hasura.RQL.IR.Select.html#mkAnnColumnField"><span class="hs-identifier hs-var">IR.mkAnnColumnField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Column b
forall (b :: BackendType). ColumnInfo b -&gt; Column b
</span><a href="Hasura.RQL.Types.Column.html#ciColumn"><span class="hs-identifier hs-var">ciColumn</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053955"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ColumnInfo b -&gt; ColumnType b
forall (b :: BackendType). ColumnInfo b -&gt; ColumnType b
</span><a href="Hasura.RQL.Types.Column.html#ciType"><span class="hs-identifier hs-var">ciType</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b
</span><a href="#local-6989586621687053955"><span class="hs-identifier hs-var">columnInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe
  (GBoolExp b (AnnColumnCaseBoolExpField b (UnpreparedValue b)))
</span><a href="#local-6989586621687053964"><span class="hs-identifier hs-var">caseBoolExpUnpreparedValue</span></a></span><span>
</span><span id="line-1165"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#FIColumn"><span class="hs-identifier hs-type">FIColumn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Column.html#SCIObjectColumn"><span class="hs-identifier hs-type">SCIObjectColumn</span></a></span><span> </span><span id="local-6989586621687053973"><span class="annot"><span class="annottext">NestedObjectInfo b
</span><a href="#local-6989586621687053973"><span class="hs-identifier hs-var">nestedObjectInfo</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1166"></span><span>    </span><span class="annot"><span class="annottext">FieldParser n (AnnotatedField b)
-&gt; [FieldParser n (AnnotatedField b)]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(FieldParser n (AnnotatedField b)
 -&gt; [FieldParser n (AnnotatedField b)])
-&gt; (FieldParser
      MetadataObjId
      n
      (AnnNestedObjectSelectG
         b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
    -&gt; FieldParser n (AnnotatedField b))
-&gt; FieldParser
     MetadataObjId
     n
     (AnnNestedObjectSelectG
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; [FieldParser n (AnnotatedField b)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(AnnNestedObjectSelectG
   b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
 -&gt; AnnotatedField b)
-&gt; FieldParser
     MetadataObjId
     n
     (AnnNestedObjectSelectG
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; FieldParser n (AnnotatedField b)
forall a b.
(a -&gt; b)
-&gt; FieldParser MetadataObjId n a -&gt; FieldParser MetadataObjId n b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">AnnNestedObjectSelectG
  b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
-&gt; AnnotatedField b
forall (b :: BackendType) r v.
AnnNestedObjectSelectG b r v -&gt; AnnFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#AFNestedObject"><span class="hs-identifier hs-var">IR.AFNestedObject</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldParser
   MetadataObjId
   n
   (AnnNestedObjectSelectG
      b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
 -&gt; [FieldParser n (AnnotatedField b)])
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnNestedObjectSelectG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
-&gt; SchemaT r m [FieldParser n (AnnotatedField b)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">NestedObjectInfo b
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnNestedObjectSelectG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
</span><a href="#local-6989586621687053975"><span class="hs-identifier hs-var">nestedObjectFieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">NestedObjectInfo b
</span><a href="#local-6989586621687053973"><span class="hs-identifier hs-var">nestedObjectInfo</span></a></span><span>
</span><span id="line-1167"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#FIColumn"><span class="hs-identifier hs-type">FIColumn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Column.html#SCIArrayColumn"><span class="hs-identifier hs-type">SCIArrayColumn</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#NestedArrayInfo"><span class="hs-identifier hs-type">NestedArrayInfo</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687053978"><span id="local-6989586621687053979"><span id="local-6989586621687053980"><span class="annot"><span class="annottext">Bool
XNestedObjects b
StructuredColumnInfo b
_naiSupportsNestedArrays :: XNestedObjects b
_naiIsNullable :: Bool
_naiColumnInfo :: StructuredColumnInfo b
_naiSupportsNestedArrays :: forall (b :: BackendType). NestedArrayInfo b -&gt; XNestedObjects b
_naiIsNullable :: forall (b :: BackendType). NestedArrayInfo b -&gt; Bool
_naiColumnInfo :: forall (b :: BackendType).
NestedArrayInfo b -&gt; StructuredColumnInfo b
</span><a href="#local-6989586621687053978"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1168"></span><span>    </span><span class="annot"><span class="annottext">(FieldParser n (AnnotatedField b)
 -&gt; FieldParser n (AnnotatedField b))
-&gt; [FieldParser n (AnnotatedField b)]
-&gt; [FieldParser n (AnnotatedField b)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XNestedObjects b
-&gt; Bool
-&gt; FieldParser n (AnnotatedField b)
-&gt; FieldParser n (AnnotatedField b)
forall origin (m :: * -&gt; *) (b :: BackendType) r v.
Functor m =&gt;
XNestedObjects b
-&gt; Bool
-&gt; FieldParser origin m (AnnFieldG b r v)
-&gt; FieldParser origin m (AnnFieldG b r v)
</span><a href="Hasura.GraphQL.Schema.Select.html#nestedArrayFieldParser"><span class="hs-identifier hs-var">nestedArrayFieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">XNestedObjects b
</span><a href="#local-6989586621687053978"><span class="hs-identifier hs-var">_naiSupportsNestedArrays</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687053979"><span class="hs-identifier hs-var">_naiIsNullable</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([FieldParser n (AnnotatedField b)]
 -&gt; [FieldParser n (AnnotatedField b)])
-&gt; SchemaT r m [FieldParser n (AnnotatedField b)]
-&gt; SchemaT r m [FieldParser n (AnnotatedField b)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">LogicalModelCache b
-&gt; TableName b
-&gt; TableInfo b
-&gt; FieldInfo b
-&gt; SchemaT r m [FieldParser n (AnnotatedField b)]
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(AggregationPredicatesSchema b, BackendTableSelectSchema b,
 Eq (AnnBoolExp b (UnpreparedValue b)), MonadBuildSchema b r m n) =&gt;
LogicalModelCache b
-&gt; TableName b
-&gt; TableInfo b
-&gt; FieldInfo b
-&gt; SchemaT r m [FieldParser n (AnnotatedField b)]
</span><a href="Hasura.GraphQL.Schema.Select.html#fieldSelection"><span class="hs-identifier hs-var">fieldSelection</span></a></span><span> </span><span class="annot"><span class="annottext">LogicalModelCache b
</span><a href="#local-6989586621687053950"><span class="hs-identifier hs-var">logicalModelCache</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687053951"><span class="hs-identifier hs-var">table</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053952"><span class="hs-identifier hs-var">tableInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StructuredColumnInfo b -&gt; FieldInfo b
forall (b :: BackendType). StructuredColumnInfo b -&gt; FieldInfo b
</span><a href="Hasura.Table.Cache.html#FIColumn"><span class="hs-identifier hs-var">FIColumn</span></a></span><span> </span><span class="annot"><span class="annottext">StructuredColumnInfo b
</span><a href="#local-6989586621687053980"><span class="hs-identifier hs-var">_naiColumnInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1169"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#FIRelationship"><span class="hs-identifier hs-type">FIRelationship</span></a></span><span> </span><span id="local-6989586621687053986"><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687053986"><span class="hs-identifier hs-var">relationshipInfo</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1170"></span><span>    </span><span class="annot"><span class="annottext">[[FieldParser n (AnnotatedField b)]]
-&gt; [FieldParser n (AnnotatedField b)]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="annot"><span class="annottext">([[FieldParser n (AnnotatedField b)]]
 -&gt; [FieldParser n (AnnotatedField b)])
-&gt; (Maybe [FieldParser n (AnnotatedField b)]
    -&gt; [[FieldParser n (AnnotatedField b)]])
-&gt; Maybe [FieldParser n (AnnotatedField b)]
-&gt; [FieldParser n (AnnotatedField b)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Maybe [FieldParser n (AnnotatedField b)]
-&gt; [[FieldParser n (AnnotatedField b)]]
forall a. Maybe a -&gt; [a]
</span><span class="hs-identifier hs-var">maybeToList</span></span><span> </span><span class="annot"><span class="annottext">(Maybe [FieldParser n (AnnotatedField b)]
 -&gt; [FieldParser n (AnnotatedField b)])
-&gt; SchemaT r m (Maybe [FieldParser n (AnnotatedField b)])
-&gt; SchemaT r m [FieldParser n (AnnotatedField b)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">TableName b
-&gt; RelInfo b
-&gt; SchemaT r m (Maybe [FieldParser n (AnnotatedField b)])
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(AggregationPredicatesSchema b, BackendTableSelectSchema b,
 Eq (AnnBoolExp b (UnpreparedValue b)), MonadBuildSchema b r m n) =&gt;
TableName b
-&gt; RelInfo b
-&gt; SchemaT r m (Maybe [FieldParser n (AnnotatedField b)])
</span><a href="Hasura.GraphQL.Schema.Select.html#relationshipField"><span class="hs-identifier hs-var">relationshipField</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687053951"><span class="hs-identifier hs-var">table</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687053986"><span class="hs-identifier hs-var">relationshipInfo</span></a></span><span>
</span><span id="line-1171"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#FIComputedField"><span class="hs-identifier hs-type">FIComputedField</span></a></span><span> </span><span id="local-6989586621687053989"><span class="annot"><span class="annottext">ComputedFieldInfo b
</span><a href="#local-6989586621687053989"><span class="hs-identifier hs-var">computedFieldInfo</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1172"></span><span>    </span><span class="annot"><span class="annottext">Maybe (FieldParser n (AnnotatedField b))
-&gt; [FieldParser n (AnnotatedField b)]
forall a. Maybe a -&gt; [a]
</span><span class="hs-identifier hs-var">maybeToList</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (FieldParser n (AnnotatedField b))
 -&gt; [FieldParser n (AnnotatedField b)])
-&gt; SchemaT r m (Maybe (FieldParser n (AnnotatedField b)))
-&gt; SchemaT r m [FieldParser n (AnnotatedField b)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ComputedFieldInfo b
-&gt; TableName b
-&gt; TableInfo b
-&gt; SchemaT r m (Maybe (FieldParser n (AnnotatedField b)))
forall r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
ComputedFieldInfo b
-&gt; TableName b
-&gt; TableInfo b
-&gt; SchemaT r m (Maybe (FieldParser n (AnnotatedField b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(BackendSchema b, MonadBuildSchema b r m n) =&gt;
ComputedFieldInfo b
-&gt; TableName b
-&gt; TableInfo b
-&gt; SchemaT r m (Maybe (FieldParser n (AnnotatedField b)))
</span><a href="Hasura.GraphQL.Schema.Backend.html#computedField"><span class="hs-identifier hs-var">computedField</span></a></span><span> </span><span class="annot"><span class="annottext">ComputedFieldInfo b
</span><a href="#local-6989586621687053989"><span class="hs-identifier hs-var">computedFieldInfo</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687053951"><span class="hs-identifier hs-var">table</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687053952"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-1173"></span><span>  </span><span class="annot"><a href="Hasura.Table.Cache.html#FIRemoteRelationship"><span class="hs-identifier hs-type">FIRemoteRelationship</span></a></span><span> </span><span id="local-6989586621687053991"><span class="annot"><span class="annottext">RemoteFieldInfo (DBJoinField b)
</span><a href="#local-6989586621687053991"><span class="hs-identifier hs-var">remoteFieldInfo</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1174"></span><span>    </span><span id="local-6989586621687053992"><span class="annot"><span class="annottext">SchemaKind
</span><a href="#local-6989586621687053992"><span class="hs-identifier hs-var">schemaKind</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SchemaContext -&gt; SchemaKind) -&gt; SchemaT r m SchemaKind
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaContext -&gt; SchemaKind
</span><a href="Hasura.GraphQL.Schema.Common.html#scSchemaKind"><span class="hs-identifier hs-var">scSchemaKind</span></a></span><span>
</span><span id="line-1175"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SchemaKind
</span><a href="#local-6989586621687053992"><span class="hs-identifier hs-var">schemaKind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RemoteFieldInfo (DBJoinField b) -&gt; RemoteFieldInfoRHS
forall lhsJoinField.
RemoteFieldInfo lhsJoinField -&gt; RemoteFieldInfoRHS
</span><a href="Hasura.RQL.Types.Relationships.Remote.html#_rfiRHS"><span class="hs-identifier hs-var">_rfiRHS</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteFieldInfo (DBJoinField b)
</span><a href="#local-6989586621687053991"><span class="hs-identifier hs-var">remoteFieldInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1176"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#RelaySchema"><span class="hs-identifier hs-type">RelaySchema</span></a></span><span> </span><span class="annot"><span class="annottext">NodeInterfaceParserBuilder
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Relationships.Remote.html#RFISchema"><span class="hs-identifier hs-type">RFISchema</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaFieldInfo
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1177"></span><span>        </span><span class="hs-comment">-- Remote schemas aren't currently supported in Relay, and we therefore</span><span>
</span><span id="line-1178"></span><span>        </span><span class="hs-comment">-- cannot include remote relationships to them while building a</span><span>
</span><span id="line-1179"></span><span>        </span><span class="hs-comment">-- Relay-specific schema: attempting to do so would raise an error, as</span><span>
</span><span id="line-1180"></span><span>        </span><span class="hs-comment">-- 'remoteRelationshipField' would attempt to look into the</span><span>
</span><span id="line-1181"></span><span>        </span><span class="hs-comment">-- 'SchemaOptions' for information about the targeted schema.</span><span>
</span><span id="line-1182"></span><span>        </span><span class="annot"><span class="annottext">[FieldParser n (AnnotatedField b)]
-&gt; SchemaT r m [FieldParser n (AnnotatedField b)]
forall a. a -&gt; SchemaT r m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1183"></span><span>      </span><span class="annot"><span class="annottext">(SchemaKind, RemoteFieldInfoRHS)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1184"></span><span>        </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#RemoteRelationshipParserBuilder"><span class="hs-identifier hs-type">RemoteRelationshipParserBuilder</span></a></span><span> </span><span id="local-6989586621687053996"><span class="annot"><span class="annottext">forall lhsJoinField r (n :: * -&gt; *) (m :: * -&gt; *).
MonadBuildSchemaBase m n =&gt;
RemoteFieldInfo lhsJoinField
-&gt; SchemaT
     r
     m
     (Maybe [FieldParser n (RemoteRelationshipField UnpreparedValue)])
</span><a href="#local-6989586621687053996"><span class="hs-identifier hs-var">remoteRelationshipField</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SchemaContext -&gt; RemoteRelationshipParserBuilder)
-&gt; SchemaT r m RemoteRelationshipParserBuilder
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaContext -&gt; RemoteRelationshipParserBuilder
</span><a href="Hasura.GraphQL.Schema.Common.html#scRemoteRelationshipParserBuilder"><span class="hs-identifier hs-var">scRemoteRelationshipParserBuilder</span></a></span><span>
</span><span id="line-1185"></span><span>        </span><span id="local-6989586621687053998"><span class="annot"><span class="annottext">[FieldParser n (RemoteRelationshipField UnpreparedValue)]
</span><a href="#local-6989586621687053998"><span class="hs-identifier hs-var">relationshipFields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[FieldParser n (RemoteRelationshipField UnpreparedValue)]
-&gt; Maybe [FieldParser n (RemoteRelationshipField UnpreparedValue)]
-&gt; [FieldParser n (RemoteRelationshipField UnpreparedValue)]
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(Maybe [FieldParser n (RemoteRelationshipField UnpreparedValue)]
 -&gt; [FieldParser n (RemoteRelationshipField UnpreparedValue)])
-&gt; SchemaT
     r
     m
     (Maybe [FieldParser n (RemoteRelationshipField UnpreparedValue)])
-&gt; SchemaT
     r m [FieldParser n (RemoteRelationshipField UnpreparedValue)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">RemoteFieldInfo (DBJoinField b)
-&gt; SchemaT
     r
     m
     (Maybe [FieldParser n (RemoteRelationshipField UnpreparedValue)])
forall lhsJoinField r (n :: * -&gt; *) (m :: * -&gt; *).
MonadBuildSchemaBase m n =&gt;
RemoteFieldInfo lhsJoinField
-&gt; SchemaT
     r
     m
     (Maybe [FieldParser n (RemoteRelationshipField UnpreparedValue)])
</span><a href="#local-6989586621687053996"><span class="hs-identifier hs-var">remoteRelationshipField</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteFieldInfo (DBJoinField b)
</span><a href="#local-6989586621687053991"><span class="hs-identifier hs-var">remoteFieldInfo</span></a></span><span>
</span><span id="line-1186"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687054000"><span class="annot"><span class="annottext">lhsFields :: HashMap FieldName (DBJoinField b)
</span><a href="#local-6989586621687054000"><span class="hs-identifier hs-var hs-var">lhsFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemoteFieldInfo (DBJoinField b)
-&gt; HashMap FieldName (DBJoinField b)
forall lhsJoinField.
RemoteFieldInfo lhsJoinField -&gt; HashMap FieldName lhsJoinField
</span><a href="Hasura.RQL.Types.Relationships.Remote.html#_rfiLHS"><span class="hs-identifier hs-var">_rfiLHS</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteFieldInfo (DBJoinField b)
</span><a href="#local-6989586621687053991"><span class="hs-identifier hs-var">remoteFieldInfo</span></a></span><span>
</span><span id="line-1187"></span><span>        </span><span class="annot"><span class="annottext">[FieldParser n (AnnotatedField b)]
-&gt; SchemaT r m [FieldParser n (AnnotatedField b)]
forall a. a -&gt; SchemaT r m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">([FieldParser n (AnnotatedField b)]
 -&gt; SchemaT r m [FieldParser n (AnnotatedField b)])
-&gt; [FieldParser n (AnnotatedField b)]
-&gt; SchemaT r m [FieldParser n (AnnotatedField b)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(FieldParser n (RemoteRelationshipField UnpreparedValue)
 -&gt; FieldParser n (AnnotatedField b))
-&gt; [FieldParser n (RemoteRelationshipField UnpreparedValue)]
-&gt; [FieldParser n (AnnotatedField b)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(RemoteRelationshipField UnpreparedValue -&gt; AnnotatedField b)
-&gt; FieldParser n (RemoteRelationshipField UnpreparedValue)
-&gt; FieldParser n (AnnotatedField b)
forall a b.
(a -&gt; b)
-&gt; FieldParser MetadataObjId n a -&gt; FieldParser MetadataObjId n b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RemoteRelationshipSelect
  b (RemoteRelationshipField UnpreparedValue)
-&gt; AnnotatedField b
forall (b :: BackendType) r v.
RemoteRelationshipSelect b r -&gt; AnnFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#AFRemote"><span class="hs-identifier hs-var">IR.AFRemote</span></a></span><span> </span><span class="annot"><span class="annottext">(RemoteRelationshipSelect
   b (RemoteRelationshipField UnpreparedValue)
 -&gt; AnnotatedField b)
-&gt; (RemoteRelationshipField UnpreparedValue
    -&gt; RemoteRelationshipSelect
         b (RemoteRelationshipField UnpreparedValue))
-&gt; RemoteRelationshipField UnpreparedValue
-&gt; AnnotatedField b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HashMap FieldName (DBJoinField b)
-&gt; RemoteRelationshipField UnpreparedValue
-&gt; RemoteRelationshipSelect
     b (RemoteRelationshipField UnpreparedValue)
forall (b :: BackendType) r.
HashMap FieldName (DBJoinField b)
-&gt; r -&gt; RemoteRelationshipSelect b r
</span><a href="Hasura.RQL.IR.Select.html#RemoteRelationshipSelect"><span class="hs-identifier hs-var">IR.RemoteRelationshipSelect</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap FieldName (DBJoinField b)
</span><a href="#local-6989586621687054000"><span class="hs-identifier hs-var">lhsFields</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FieldParser n (RemoteRelationshipField UnpreparedValue)]
</span><a href="#local-6989586621687053998"><span class="hs-identifier hs-var">relationshipFields</span></a></span><span>
</span><span id="line-1188"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1189"></span><span>    </span><span class="annot"><a href="#local-6989586621687053975"><span class="hs-identifier hs-type">nestedObjectFieldParser</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#NestedObjectInfo"><span class="hs-identifier hs-type">NestedObjectInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051347"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051348"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051349"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051350"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#AnnotatedNestedObjectSelect"><span class="hs-identifier hs-type">AnnotatedNestedObjectSelect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051347"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1190"></span><span>    </span><span id="local-6989586621687053975"><span class="annot"><span class="annottext">nestedObjectFieldParser :: NestedObjectInfo b
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnNestedObjectSelectG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
</span><a href="#local-6989586621687053975"><span class="hs-identifier hs-var hs-var">nestedObjectFieldParser</span></a></span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#NestedObjectInfo"><span class="hs-identifier hs-type">NestedObjectInfo</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687054005"><span id="local-6989586621687054006"><span id="local-6989586621687054007"><span id="local-6989586621687054008"><span id="local-6989586621687054009"><span id="local-6989586621687054010"><span id="local-6989586621687054011"><span class="annot"><span class="annottext">Bool
Maybe Description
Name
Column b
XNestedObjects b
LogicalModelName
ColumnMutability
_noiSupportsNestedObjects :: XNestedObjects b
_noiColumn :: Column b
_noiName :: Name
_noiType :: LogicalModelName
_noiIsNullable :: Bool
_noiDescription :: Maybe Description
_noiMutability :: ColumnMutability
_noiSupportsNestedObjects :: forall (b :: BackendType). NestedObjectInfo b -&gt; XNestedObjects b
_noiColumn :: forall (b :: BackendType). NestedObjectInfo b -&gt; Column b
_noiName :: forall (b :: BackendType). NestedObjectInfo b -&gt; Name
_noiType :: forall (b :: BackendType). NestedObjectInfo b -&gt; LogicalModelName
_noiIsNullable :: forall (b :: BackendType). NestedObjectInfo b -&gt; Bool
_noiDescription :: forall (b :: BackendType). NestedObjectInfo b -&gt; Maybe Description
_noiMutability :: forall (b :: BackendType). NestedObjectInfo b -&gt; ColumnMutability
</span><a href="#local-6989586621687054005"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1191"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LogicalModelName
-&gt; LogicalModelCache b -&gt; Maybe (LogicalModelInfo b)
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.html#lookup"><span class="hs-identifier hs-var">HashMap.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">LogicalModelName
</span><a href="#local-6989586621687054008"><span class="hs-identifier hs-var">_noiType</span></a></span><span> </span><span class="annot"><span class="annottext">LogicalModelCache b
</span><a href="#local-6989586621687053950"><span class="hs-identifier hs-var">logicalModelCache</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1192"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621687054019"><span class="annot"><span class="annottext">LogicalModelInfo b
</span><a href="#local-6989586621687054019"><span class="hs-identifier hs-var">objectType</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1193"></span><span>          </span><span id="local-6989586621687054020"><span class="annot"><span class="annottext">Parser
  'Output
  n
  (AnnNestedObjectSelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
</span><a href="#local-6989586621687054020"><span class="hs-identifier hs-var">parser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XNestedObjects b
-&gt; LogicalModelCache b
-&gt; LogicalModelInfo b
-&gt; Column b
-&gt; Bool
-&gt; SchemaT
     r
     m
     (Parser
        'Output
        n
        (AnnNestedObjectSelectG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
XNestedObjects b
-&gt; LogicalModelCache b
-&gt; LogicalModelInfo b
-&gt; Column b
-&gt; Bool
-&gt; SchemaT r m (Parser 'Output n (AnnotatedNestedObjectSelect b))
</span><a href="Hasura.GraphQL.Schema.Select.html#nestedObjectParser"><span class="hs-identifier hs-var">nestedObjectParser</span></a></span><span> </span><span class="annot"><span class="annottext">XNestedObjects b
</span><a href="#local-6989586621687054005"><span class="hs-identifier hs-var">_noiSupportsNestedObjects</span></a></span><span> </span><span class="annot"><span class="annottext">LogicalModelCache b
</span><a href="#local-6989586621687053950"><span class="hs-identifier hs-var">logicalModelCache</span></a></span><span> </span><span class="annot"><span class="annottext">LogicalModelInfo b
</span><a href="#local-6989586621687054019"><span class="hs-identifier hs-var">objectType</span></a></span><span> </span><span class="annot"><span class="annottext">Column b
</span><a href="#local-6989586621687054006"><span class="hs-identifier hs-var">_noiColumn</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687054009"><span class="hs-identifier hs-var">_noiIsNullable</span></a></span><span>
</span><span id="line-1194"></span><span>          </span><span class="hs-identifier">pure</span><span> </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser
     'Output
     n
     (AnnNestedObjectSelectG
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; FieldParser
     MetadataObjId
     n
     (AnnNestedObjectSelectG
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin 'Output m a
-&gt; FieldParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#subselection_"><span class="hs-identifier hs-var">P.subselection_</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054007"><span class="hs-identifier hs-var">_noiName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687054010"><span class="hs-identifier hs-var">_noiDescription</span></a></span><span> </span><span class="annot"><span class="annottext">Parser
  'Output
  n
  (AnnNestedObjectSelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
</span><a href="#local-6989586621687054020"><span class="hs-identifier hs-var">parser</span></a></span><span>
</span><span id="line-1195"></span><span>        </span><span class="annot"><span class="annottext">Maybe (LogicalModelInfo b)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnNestedObjectSelectG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#throw500"><span class="hs-identifier hs-var">throw500</span></a></span><span> </span><span class="annot"><span class="annottext">(Text
 -&gt; SchemaT
      r
      m
      (FieldParser
         MetadataObjId
         n
         (AnnNestedObjectSelectG
            b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))))
-&gt; Text
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnNestedObjectSelectG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;fieldSelection: object type &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">LogicalModelName
</span><a href="#local-6989586621687054008"><span class="hs-identifier hs-var">_noiType</span></a></span><span> </span><span class="annot"><span class="annottext">LogicalModelName -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; not found&quot;</span></span><span>
</span><span id="line-1196"></span><span>
</span><span id="line-1197"></span><span id="local-6989586621687051779"><span id="local-6989586621687051780"><span id="local-6989586621687051781"><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#outputParserModifier"><span class="hs-identifier hs-type">outputParserModifier</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Types.html#Parser"><span class="hs-identifier hs-type">IP.Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051779"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Schema.Definition.html#Output"><span class="hs-identifier hs-type">Output</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051780"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051781"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Types.html#Parser"><span class="hs-identifier hs-type">IP.Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051779"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Schema.Definition.html#Output"><span class="hs-identifier hs-type">Output</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051780"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051781"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-1198"></span><span id="outputParserModifier"><span class="annot"><span class="annottext">outputParserModifier :: forall origin (m :: * -&gt; *) a.
Bool -&gt; Parser origin 'Output m a -&gt; Parser origin 'Output m a
</span><a href="Hasura.GraphQL.Schema.Select.html#outputParserModifier"><span class="hs-identifier hs-var hs-var">outputParserModifier</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parser origin 'Output m a -&gt; Parser origin 'Output m a
forall (m :: * -&gt; *) origin a.
Parser origin 'Output m a -&gt; Parser origin 'Output m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nullableParser"><span class="hs-identifier hs-var">P.nullableParser</span></a></span><span>
</span><span id="line-1199"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#outputParserModifier"><span class="hs-identifier hs-var">outputParserModifier</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parser origin 'Output m a -&gt; Parser origin 'Output m a
forall (m :: * -&gt; *) origin a.
Parser origin 'Output m a -&gt; Parser origin 'Output m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nonNullableParser"><span class="hs-identifier hs-var">P.nonNullableParser</span></a></span><span>
</span><span id="line-1200"></span><span>
</span><span id="line-1201"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#nestedArrayFieldParser"><span class="hs-identifier hs-type">nestedArrayFieldParser</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687051739"><span class="annot"><a href="#local-6989586621687051739"><span class="hs-identifier hs-type">origin</span></a></span></span><span> </span><span id="local-6989586621687051737"><span class="annot"><a href="#local-6989586621687051737"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687051738"><span class="annot"><a href="#local-6989586621687051738"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621687051740"><span class="annot"><a href="#local-6989586621687051740"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621687051741"><span class="annot"><a href="#local-6989586621687051741"><span class="hs-identifier hs-type">v</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621687051737"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#XNestedObjects"><span class="hs-identifier hs-type">XNestedObjects</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051738"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#FieldParser"><span class="hs-identifier hs-type">IP.FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051739"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051737"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#AnnFieldG"><span class="hs-identifier hs-type">IR.AnnFieldG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051738"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051740"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051741"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#FieldParser"><span class="hs-identifier hs-type">IP.FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051739"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051737"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#AnnFieldG"><span class="hs-identifier hs-type">IR.AnnFieldG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051738"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051740"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051741"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1202"></span><span id="nestedArrayFieldParser"><span class="annot"><span class="annottext">nestedArrayFieldParser :: forall origin (m :: * -&gt; *) (b :: BackendType) r v.
Functor m =&gt;
XNestedObjects b
-&gt; Bool
-&gt; FieldParser origin m (AnnFieldG b r v)
-&gt; FieldParser origin m (AnnFieldG b r v)
</span><a href="Hasura.GraphQL.Schema.Select.html#nestedArrayFieldParser"><span class="hs-identifier hs-var hs-var">nestedArrayFieldParser</span></a></span></span><span> </span><span id="local-6989586621687054028"><span class="annot"><span class="annottext">XNestedObjects b
</span><a href="#local-6989586621687054028"><span class="hs-identifier hs-var">supportsNestedArrays</span></a></span></span><span> </span><span id="local-6989586621687054029"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687054029"><span class="hs-identifier hs-var">isNullable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1203"></span><span>  </span><span class="annot"><span class="annottext">Bool
-&gt; FieldParser origin m (AnnFieldG b r v)
-&gt; FieldParser origin m (AnnFieldG b r v)
forall origin (m :: * -&gt; *) a.
Bool -&gt; FieldParser origin m a -&gt; FieldParser origin m a
</span><a href="Hasura.GraphQL.Schema.Select.html#wrapNullable"><span class="hs-identifier hs-var">wrapNullable</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687054029"><span class="hs-identifier hs-var">isNullable</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldParser origin m (AnnFieldG b r v)
 -&gt; FieldParser origin m (AnnFieldG b r v))
-&gt; (FieldParser origin m (AnnFieldG b r v)
    -&gt; FieldParser origin m (AnnFieldG b r v))
-&gt; FieldParser origin m (AnnFieldG b r v)
-&gt; FieldParser origin m (AnnFieldG b r v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldParser origin m (AnnFieldG b r v)
-&gt; FieldParser origin m (AnnFieldG b r v)
forall (m :: * -&gt; *) origin a.
FieldParser origin m a -&gt; FieldParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#multipleField"><span class="hs-identifier hs-var">IP.multipleField</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldParser origin m (AnnFieldG b r v)
 -&gt; FieldParser origin m (AnnFieldG b r v))
-&gt; (FieldParser origin m (AnnFieldG b r v)
    -&gt; FieldParser origin m (AnnFieldG b r v))
-&gt; FieldParser origin m (AnnFieldG b r v)
-&gt; FieldParser origin m (AnnFieldG b r v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(AnnFieldG b r v -&gt; AnnFieldG b r v)
-&gt; FieldParser origin m (AnnFieldG b r v)
-&gt; FieldParser origin m (AnnFieldG b r v)
forall a b.
(a -&gt; b) -&gt; FieldParser origin m a -&gt; FieldParser origin m b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (b :: BackendType) r v.
XNestedObjects b -&gt; AnnNestedArraySelectG b r v -&gt; AnnFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#AFNestedArray"><span class="hs-identifier hs-var">IR.AFNestedArray</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687051738"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="annottext">XNestedObjects b
</span><a href="#local-6989586621687054028"><span class="hs-identifier hs-var">supportsNestedArrays</span></a></span><span> </span><span class="annot"><span class="annottext">(AnnNestedArraySelectG b r v -&gt; AnnFieldG b r v)
-&gt; (AnnFieldG b r v -&gt; AnnNestedArraySelectG b r v)
-&gt; AnnFieldG b r v
-&gt; AnnFieldG b r v
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">AnnFieldG b r v -&gt; AnnNestedArraySelectG b r v
forall (b :: BackendType) r v.
AnnFieldG b r v -&gt; AnnNestedArraySelectG b r v
</span><a href="Hasura.RQL.IR.Select.html#ANASSimple"><span class="hs-identifier hs-var">IR.ANASSimple</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1204"></span><span>
</span><span id="line-1205"></span><span id="local-6989586621687051790"><span id="local-6989586621687051791"><span id="local-6989586621687051792"><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#wrapNullable"><span class="hs-identifier hs-type">wrapNullable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#FieldParser"><span class="hs-identifier hs-type">IP.FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051790"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051791"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051792"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#FieldParser"><span class="hs-identifier hs-type">IP.FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051790"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051791"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051792"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-1206"></span><span id="wrapNullable"><span class="annot"><span class="annottext">wrapNullable :: forall origin (m :: * -&gt; *) a.
Bool -&gt; FieldParser origin m a -&gt; FieldParser origin m a
</span><a href="Hasura.GraphQL.Schema.Select.html#wrapNullable"><span class="hs-identifier hs-var hs-var">wrapNullable</span></a></span></span><span> </span><span id="local-6989586621687054034"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687054034"><span class="hs-identifier hs-var">isNullable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687054034"><span class="hs-identifier hs-var">isNullable</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">FieldParser origin m a -&gt; FieldParser origin m a
forall (m :: * -&gt; *) origin a.
FieldParser origin m a -&gt; FieldParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nullableField"><span class="hs-identifier hs-var">IP.nullableField</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">FieldParser origin m a -&gt; FieldParser origin m a
forall (m :: * -&gt; *) origin a.
FieldParser origin m a -&gt; FieldParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nonNullableField"><span class="hs-identifier hs-var">IP.nonNullableField</span></a></span><span>
</span><span id="line-1207"></span><span>
</span><span id="line-1208"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#nestedObjectParser"><span class="hs-identifier hs-type">nestedObjectParser</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1209"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687051770"><span class="annot"><a href="#local-6989586621687051770"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621687051771"><span class="annot"><a href="#local-6989586621687051771"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621687051772"><span class="annot"><a href="#local-6989586621687051772"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687051773"><span class="annot"><a href="#local-6989586621687051773"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-1210"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#MonadBuildSchema"><span class="hs-identifier hs-type">MonadBuildSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051770"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051771"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051772"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051773"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1211"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#XNestedObjects"><span class="hs-identifier hs-type">XNestedObjects</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051770"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1212"></span><span>  </span><span class="annot"><a href="Hasura.LogicalModel.Cache.html#LogicalModelCache"><span class="hs-identifier hs-type">LogicalModelCache</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051770"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1213"></span><span>  </span><span class="annot"><a href="Hasura.LogicalModel.Cache.html#LogicalModelInfo"><span class="hs-identifier hs-type">LogicalModelInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051770"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1214"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#Column"><span class="hs-identifier hs-type">Column</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051770"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1215"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1216"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051771"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051772"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#Parser"><span class="hs-identifier hs-type">P.Parser</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Schema.Definition.html#Output"><span class="hs-identifier hs-type">Output</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051773"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#AnnotatedNestedObjectSelect"><span class="hs-identifier hs-type">AnnotatedNestedObjectSelect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051770"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1217"></span><span id="nestedObjectParser"><span class="annot"><span class="annottext">nestedObjectParser :: forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
XNestedObjects b
-&gt; LogicalModelCache b
-&gt; LogicalModelInfo b
-&gt; Column b
-&gt; Bool
-&gt; SchemaT r m (Parser 'Output n (AnnotatedNestedObjectSelect b))
</span><a href="Hasura.GraphQL.Schema.Select.html#nestedObjectParser"><span class="hs-identifier hs-var hs-var">nestedObjectParser</span></a></span></span><span> </span><span id="local-6989586621687054116"><span class="annot"><span class="annottext">XNestedObjects b
</span><a href="#local-6989586621687054116"><span class="hs-identifier hs-var">supportsNestedObjects</span></a></span></span><span> </span><span id="local-6989586621687054117"><span class="annot"><span class="annottext">LogicalModelCache b
</span><a href="#local-6989586621687054117"><span class="hs-identifier hs-var">objectTypes</span></a></span></span><span> </span><span class="annot"><a href="Hasura.LogicalModel.Cache.html#LogicalModelInfo"><span class="hs-identifier hs-type">LogicalModelInfo</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687054119"><span id="local-6989586621687054120"><span id="local-6989586621687054121"><span id="local-6989586621687054122"><span class="annot"><span class="annottext">Maybe Text
RolePermInfoMap b
InsOrdHashMap (Column b) (LogicalModelField b)
LogicalModelName
_lmiName :: LogicalModelName
_lmiFields :: InsOrdHashMap (Column b) (LogicalModelField b)
_lmiDescription :: Maybe Text
_lmiPermissions :: RolePermInfoMap b
_lmiName :: forall (b :: BackendType). LogicalModelInfo b -&gt; LogicalModelName
_lmiFields :: forall (b :: BackendType).
LogicalModelInfo b
-&gt; InsOrdHashMap (Column b) (LogicalModelField b)
_lmiDescription :: forall (b :: BackendType). LogicalModelInfo b -&gt; Maybe Text
_lmiPermissions :: forall (b :: BackendType). LogicalModelInfo b -&gt; RolePermInfoMap b
</span><a href="#local-6989586621687054119"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621687054127"><span class="annot"><span class="annottext">Column b
</span><a href="#local-6989586621687054127"><span class="hs-identifier hs-var">column</span></a></span></span><span> </span><span id="local-6989586621687054128"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687054128"><span class="hs-identifier hs-var">isNullable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1218"></span><span>  </span><span id="local-6989586621687054129"><span class="annot"><span class="annottext">[FieldParser
   MetadataObjId
   n
   (AnnFieldG
      b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))]
</span><a href="#local-6989586621687054129"><span class="hs-identifier hs-var">allFieldParsers</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LogicalModelField b]
-&gt; (LogicalModelField b
    -&gt; SchemaT
         r
         m
         (FieldParser
            MetadataObjId
            n
            (AnnFieldG
               b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))))
-&gt; SchemaT
     r
     m
     [FieldParser
        MetadataObjId
        n
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><span class="hs-identifier hs-var">for</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InsOrdHashMap (Column b) (LogicalModelField b)
-&gt; [LogicalModelField b]
forall a. InsOrdHashMap (Column b) a -&gt; [a]
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><span class="hs-identifier hs-var">toList</span></span><span> </span><span class="annot"><span class="annottext">(InsOrdHashMap (Column b) (LogicalModelField b)
 -&gt; [LogicalModelField b])
-&gt; InsOrdHashMap (Column b) (LogicalModelField b)
-&gt; [LogicalModelField b]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">InsOrdHashMap (Column b) (LogicalModelField b)
</span><a href="#local-6989586621687054120"><span class="hs-identifier hs-var">_lmiFields</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LogicalModelField b
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
</span><a href="#local-6989586621687054130"><span class="hs-identifier hs-var">outputFieldParser</span></a></span><span>
</span><span id="line-1219"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Hasura.LogicalModel.Types.html#LogicalModelName"><span class="hs-identifier hs-type">LogicalModelName</span></a></span><span> </span><span id="local-6989586621687054132"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054132"><span class="hs-identifier hs-var">gqlName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LogicalModelName
</span><a href="#local-6989586621687054119"><span class="hs-identifier hs-var">_lmiName</span></a></span><span>
</span><span id="line-1220"></span><span>  </span><span class="annot"><span class="annottext">Parser 'Output n (AnnotatedNestedObjectSelect b)
-&gt; SchemaT r m (Parser 'Output n (AnnotatedNestedObjectSelect b))
forall a. a -&gt; SchemaT r m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-1221"></span><span>    </span><span class="annot"><span class="annottext">(Parser 'Output n (AnnotatedNestedObjectSelect b)
 -&gt; SchemaT r m (Parser 'Output n (AnnotatedNestedObjectSelect b)))
-&gt; Parser 'Output n (AnnotatedNestedObjectSelect b)
-&gt; SchemaT r m (Parser 'Output n (AnnotatedNestedObjectSelect b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; Parser 'Output n (AnnotatedNestedObjectSelect b)
-&gt; Parser 'Output n (AnnotatedNestedObjectSelect b)
forall origin (m :: * -&gt; *) a.
Bool -&gt; Parser origin 'Output m a -&gt; Parser origin 'Output m a
</span><a href="Hasura.GraphQL.Schema.Select.html#outputParserModifier"><span class="hs-identifier hs-var">outputParserModifier</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687054128"><span class="hs-identifier hs-var">isNullable</span></a></span><span>
</span><span id="line-1222"></span><span>    </span><span class="annot"><span class="annottext">(Parser 'Output n (AnnotatedNestedObjectSelect b)
 -&gt; Parser 'Output n (AnnotatedNestedObjectSelect b))
-&gt; Parser 'Output n (AnnotatedNestedObjectSelect b)
-&gt; Parser 'Output n (AnnotatedNestedObjectSelect b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; [FieldParser
      MetadataObjId
      n
      (AnnFieldG
         b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))]
-&gt; Parser
     MetadataObjId
     'Output
     n
     (InsOrdHashMap
        Name
        (ParsedSelection
           (AnnFieldG
              b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))))
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; [FieldParser origin m a]
-&gt; Parser origin 'Output m (InsOrdHashMap Name (ParsedSelection a))
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selectionSet"><span class="hs-identifier hs-var">P.selectionSet</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054132"><span class="hs-identifier hs-var">gqlName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-var">G.Description</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Description) -&gt; Maybe Text -&gt; Maybe Description
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621687054121"><span class="hs-identifier hs-var">_lmiDescription</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FieldParser
   MetadataObjId
   n
   (AnnFieldG
      b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))]
</span><a href="#local-6989586621687054129"><span class="hs-identifier hs-var">allFieldParsers</span></a></span><span>
</span><span id="line-1223"></span><span>    </span><span class="annot"><span class="annottext">Parser
  MetadataObjId
  'Output
  n
  (InsOrdHashMap
     Name
     (ParsedSelection
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))))
-&gt; (InsOrdHashMap
      Name
      (ParsedSelection
         (AnnFieldG
            b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
    -&gt; AnnotatedNestedObjectSelect b)
-&gt; Parser 'Output n (AnnotatedNestedObjectSelect b)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="annot"><span class="annottext">XNestedObjects b
-&gt; Column b
-&gt; AnnFieldsG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
-&gt; AnnotatedNestedObjectSelect b
forall (b :: BackendType) r v.
XNestedObjects b
-&gt; Column b -&gt; AnnFieldsG b r v -&gt; AnnNestedObjectSelectG b r v
</span><a href="Hasura.RQL.IR.Select.html#AnnNestedObjectSelectG"><span class="hs-identifier hs-var">IR.AnnNestedObjectSelectG</span></a></span><span> </span><span class="annot"><span class="annottext">XNestedObjects b
</span><a href="#local-6989586621687054116"><span class="hs-identifier hs-var">supportsNestedObjects</span></a></span><span> </span><span class="annot"><span class="annottext">Column b
</span><a href="#local-6989586621687054127"><span class="hs-identifier hs-var">column</span></a></span><span> </span><span class="annot"><span class="annottext">(AnnFieldsG
   b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
 -&gt; AnnotatedNestedObjectSelect b)
-&gt; (InsOrdHashMap
      Name
      (ParsedSelection
         (AnnFieldG
            b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
    -&gt; AnnFieldsG
         b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; InsOrdHashMap
     Name
     (ParsedSelection
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
-&gt; AnnotatedNestedObjectSelect b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Text
 -&gt; AnnFieldG
      b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; InsOrdHashMap
     Name
     (ParsedSelection
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
-&gt; AnnFieldsG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall a.
(Text -&gt; a) -&gt; InsOrdHashMap Name (ParsedSelection a) -&gt; Fields a
</span><a href="Hasura.GraphQL.Schema.Common.html#parsedSelectionsToFields"><span class="hs-identifier hs-var">parsedSelectionsToFields</span></a></span><span> </span><span class="annot"><span class="annottext">Text
-&gt; AnnFieldG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall (b :: BackendType) r v. Text -&gt; AnnFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#AFExpression"><span class="hs-identifier hs-var">IR.AFExpression</span></a></span><span>
</span><span id="line-1224"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1225"></span><span>    </span><span class="annot"><a href="#local-6989586621687054130"><span class="hs-identifier hs-type">outputFieldParser</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1226"></span><span>      </span><span class="annot"><a href="Hasura.LogicalModel.Types.html#LogicalModelField"><span class="hs-identifier hs-type">LogicalModelField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051770"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1227"></span><span>      </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051771"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051772"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#FieldParser"><span class="hs-identifier hs-type">IP.FieldParser</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Object.html#MetadataObjId"><span class="hs-identifier hs-type">MetadataObjId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051773"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#AnnFieldG"><span class="hs-identifier hs-type">IR.AnnFieldG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051770"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Root.html#RemoteRelationshipField"><span class="hs-identifier hs-type">IR.RemoteRelationshipField</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051770"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1228"></span><span>    </span><span id="local-6989586621687054130"><span class="annot"><span class="annottext">outputFieldParser :: LogicalModelField b
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
</span><a href="#local-6989586621687054130"><span class="hs-identifier hs-var hs-var">outputFieldParser</span></a></span></span><span> </span><span class="annot"><a href="Hasura.LogicalModel.Types.html#LogicalModelField"><span class="hs-identifier hs-type">LogicalModelField</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687054135"><span id="local-6989586621687054136"><span id="local-6989586621687054137"><span class="annot"><span class="annottext">Maybe Text
Column b
LogicalModelType b
lmfName :: Column b
lmfType :: LogicalModelType b
lmfDescription :: Maybe Text
lmfName :: forall (b :: BackendType). LogicalModelField b -&gt; Column b
lmfType :: forall (b :: BackendType).
LogicalModelField b -&gt; LogicalModelType b
lmfDescription :: forall (b :: BackendType). LogicalModelField b -&gt; Maybe Text
</span><a href="#local-6989586621687054135"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1229"></span><span>      </span><span class="annot"><span class="annottext">Name
-&gt; (LogicalModelName, Column b)
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
forall (m :: * -&gt; *) a (p :: (* -&gt; *) -&gt; * -&gt; *) (n :: * -&gt; *) b.
(MonadMemoize m, Ord a, Typeable a, Typeable p, MonadParse n,
 Typeable b) =&gt;
Name -&gt; a -&gt; m (p n b) -&gt; m (p n b)
</span><a href="Hasura.GraphQL.Schema.Parser.html#memoizeOn"><span class="hs-identifier hs-var">P.memoizeOn</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-identifier">nestedObjectParser</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogicalModelName
</span><a href="#local-6989586621687054119"><span class="hs-identifier hs-var">_lmiName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Column b
</span><a href="#local-6989586621687054135"><span class="hs-identifier hs-var">lmfName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1230"></span><span>        </span><span id="local-6989586621687054141"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054141"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Text -&gt; SchemaT r m Name
forall (m :: * -&gt; *). MonadError QErr m =&gt; Text -&gt; m Name
</span><a href="Hasura.GraphQL.Schema.Common.html#textToName"><span class="hs-identifier hs-var">textToName</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; SchemaT r m Name) -&gt; Text -&gt; SchemaT r m Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Column b -&gt; Text
forall a. ToTxt a =&gt; a -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html#toTxt"><span class="hs-identifier hs-var">toTxt</span></a></span><span> </span><span class="annot"><span class="annottext">Column b
</span><a href="#local-6989586621687054135"><span class="hs-identifier hs-var">lmfName</span></a></span><span>
</span><span id="line-1231"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687054143"><span class="annot"><span class="annottext">go :: LogicalModelType b
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
</span><a href="#local-6989586621687054143"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1232"></span><span>              </span><span class="annot"><a href="Hasura.LogicalModel.Types.html#LogicalModelTypeScalar"><span class="hs-identifier hs-type">LogicalModelTypeScalar</span></a></span><span> </span><span class="annot"><a href="Hasura.LogicalModel.Types.html#LogicalModelTypeScalarC"><span class="hs-identifier hs-type">LogicalModelTypeScalarC</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687054146"><span id="local-6989586621687054147"><span class="annot"><span class="annottext">Bool
ScalarType b
lmtsScalar :: ScalarType b
lmtsNullable :: Bool
lmtsScalar :: forall (b :: BackendType). LogicalModelTypeScalar b -&gt; ScalarType b
lmtsNullable :: forall (b :: BackendType). LogicalModelTypeScalar b -&gt; Bool
</span><a href="#local-6989586621687054146"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1233"></span><span>                </span><span id="local-6989586621687054150"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054150"><span class="hs-identifier hs-var">fieldTypeName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Text -&gt; SchemaT r m Name
forall (m :: * -&gt; *). MonadError QErr m =&gt; Text -&gt; m Name
</span><a href="Hasura.GraphQL.Schema.Common.html#textToName"><span class="hs-identifier hs-var">textToName</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; SchemaT r m Name) -&gt; Text -&gt; SchemaT r m Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ScalarType b -&gt; Text
forall a. ToTxt a =&gt; a -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html#toTxt"><span class="hs-identifier hs-var">toTxt</span></a></span><span> </span><span class="annot"><span class="annottext">ScalarType b
</span><a href="#local-6989586621687054146"><span class="hs-identifier hs-var">lmtsScalar</span></a></span><span>
</span><span id="line-1234"></span><span>                </span><span class="annot"><span class="annottext">Bool
-&gt; Name
-&gt; ScalarType b
-&gt; Parser MetadataObjId 'Both n Value
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
</span><a href="#local-6989586621687054151"><span class="hs-identifier hs-var">wrapScalar</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687054147"><span class="hs-identifier hs-var">lmtsNullable</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054141"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">ScalarType b
</span><a href="#local-6989586621687054146"><span class="hs-identifier hs-var">lmtsScalar</span></a></span><span> </span><span class="annot"><span class="annottext">(Parser MetadataObjId 'Both n Value
 -&gt; SchemaT
      r
      m
      (FieldParser
         MetadataObjId
         n
         (AnnFieldG
            b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))))
-&gt; Parser MetadataObjId 'Both n Value
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Name -&gt; Parser MetadataObjId 'Both n Value
forall {m :: * -&gt; *} {origin}.
MonadParse m =&gt;
Bool -&gt; Name -&gt; Parser origin 'Both m Value
</span><a href="#local-6989586621687054152"><span class="hs-identifier hs-var">customScalarParser</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687054147"><span class="hs-identifier hs-var">lmtsNullable</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054150"><span class="hs-identifier hs-var">fieldTypeName</span></a></span><span>
</span><span id="line-1235"></span><span>              </span><span class="annot"><a href="Hasura.LogicalModel.Types.html#LogicalModelTypeReference"><span class="hs-identifier hs-type">LogicalModelTypeReference</span></a></span><span> </span><span class="annot"><a href="Hasura.LogicalModel.Types.html#LogicalModelTypeReferenceC"><span class="hs-identifier hs-type">LogicalModelTypeReferenceC</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687054155"><span id="local-6989586621687054156"><span class="annot"><span class="annottext">Bool
LogicalModelName
lmtrReference :: LogicalModelName
lmtrNullable :: Bool
lmtrReference :: LogicalModelTypeReference -&gt; LogicalModelName
lmtrNullable :: LogicalModelTypeReference -&gt; Bool
</span><a href="#local-6989586621687054155"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1236"></span><span>                </span><span id="local-6989586621687054159"><span class="annot"><span class="annottext">LogicalModelInfo b
</span><a href="#local-6989586621687054159"><span class="hs-identifier hs-var">objectType'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LogicalModelName
-&gt; LogicalModelCache b -&gt; Maybe (LogicalModelInfo b)
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.html#lookup"><span class="hs-identifier hs-var">HashMap.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">LogicalModelName
</span><a href="#local-6989586621687054155"><span class="hs-identifier hs-var">lmtrReference</span></a></span><span> </span><span class="annot"><span class="annottext">LogicalModelCache b
</span><a href="#local-6989586621687054117"><span class="hs-identifier hs-var">objectTypes</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LogicalModelInfo b)
-&gt; SchemaT r m (LogicalModelInfo b)
-&gt; SchemaT r m (LogicalModelInfo b)
forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#onNothing"><span class="hs-operator hs-var">`onNothing`</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; SchemaT r m (LogicalModelInfo b)
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#throw500"><span class="hs-identifier hs-var">throw500</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Custom logical model type &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">LogicalModelName
</span><a href="#local-6989586621687054155"><span class="hs-identifier hs-var">lmtrReference</span></a></span><span> </span><span class="annot"><span class="annottext">LogicalModelName -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; not found&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1237"></span><span>                </span><span id="local-6989586621687054160"><span class="annot"><span class="annottext">Parser
  MetadataObjId
  'Output
  n
  (AnnFieldG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
</span><a href="#local-6989586621687054160"><span class="hs-identifier hs-var">parser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(AnnotatedNestedObjectSelect b
 -&gt; AnnFieldG
      b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; Parser 'Output n (AnnotatedNestedObjectSelect b)
-&gt; Parser
     MetadataObjId
     'Output
     n
     (AnnFieldG
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
forall a b.
(a -&gt; b)
-&gt; Parser MetadataObjId 'Output n a
-&gt; Parser MetadataObjId 'Output n b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (b :: BackendType) r v.
AnnNestedObjectSelectG b r v -&gt; AnnFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#AFNestedObject"><span class="hs-identifier hs-var">IR.AFNestedObject</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687051770"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Parser 'Output n (AnnotatedNestedObjectSelect b)
 -&gt; Parser
      MetadataObjId
      'Output
      n
      (AnnFieldG
         b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
-&gt; SchemaT r m (Parser 'Output n (AnnotatedNestedObjectSelect b))
-&gt; SchemaT
     r
     m
     (Parser
        MetadataObjId
        'Output
        n
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">XNestedObjects b
-&gt; LogicalModelCache b
-&gt; LogicalModelInfo b
-&gt; Column b
-&gt; Bool
-&gt; SchemaT r m (Parser 'Output n (AnnotatedNestedObjectSelect b))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchema b r m n =&gt;
XNestedObjects b
-&gt; LogicalModelCache b
-&gt; LogicalModelInfo b
-&gt; Column b
-&gt; Bool
-&gt; SchemaT r m (Parser 'Output n (AnnotatedNestedObjectSelect b))
</span><a href="Hasura.GraphQL.Schema.Select.html#nestedObjectParser"><span class="hs-identifier hs-var">nestedObjectParser</span></a></span><span> </span><span class="annot"><span class="annottext">XNestedObjects b
</span><a href="#local-6989586621687054116"><span class="hs-identifier hs-var">supportsNestedObjects</span></a></span><span> </span><span class="annot"><span class="annottext">LogicalModelCache b
</span><a href="#local-6989586621687054117"><span class="hs-identifier hs-var">objectTypes</span></a></span><span> </span><span class="annot"><span class="annottext">LogicalModelInfo b
</span><a href="#local-6989586621687054159"><span class="hs-identifier hs-var">objectType'</span></a></span><span> </span><span class="annot"><span class="annottext">Column b
</span><a href="#local-6989586621687054135"><span class="hs-identifier hs-var">lmfName</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687054156"><span class="hs-identifier hs-var">lmtrNullable</span></a></span><span>
</span><span id="line-1238"></span><span>                </span><span class="hs-identifier">pure</span><span> </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser
     MetadataObjId
     'Output
     n
     (AnnFieldG
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; FieldParser
     MetadataObjId
     n
     (AnnFieldG
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin 'Output m a
-&gt; FieldParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#subselection_"><span class="hs-identifier hs-var">P.subselection_</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054141"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-var">G.Description</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Description) -&gt; Maybe Text -&gt; Maybe Description
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621687054137"><span class="hs-identifier hs-var">lmfDescription</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parser
  MetadataObjId
  'Output
  n
  (AnnFieldG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
</span><a href="#local-6989586621687054160"><span class="hs-identifier hs-var">parser</span></a></span><span>
</span><span id="line-1239"></span><span>              </span><span class="annot"><a href="Hasura.LogicalModel.Types.html#LogicalModelTypeArray"><span class="hs-identifier hs-type">LogicalModelTypeArray</span></a></span><span> </span><span class="annot"><a href="Hasura.LogicalModel.Types.html#LogicalModelTypeArrayC"><span class="hs-identifier hs-type">LogicalModelTypeArrayC</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687054163"><span id="local-6989586621687054164"><span class="annot"><span class="annottext">Bool
LogicalModelType b
lmtaArray :: LogicalModelType b
lmtaNullable :: Bool
lmtaArray :: forall (b :: BackendType).
LogicalModelTypeArray b -&gt; LogicalModelType b
lmtaNullable :: forall (b :: BackendType). LogicalModelTypeArray b -&gt; Bool
</span><a href="#local-6989586621687054163"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1240"></span><span>                </span><span class="annot"><span class="annottext">XNestedObjects b
-&gt; Bool
-&gt; FieldParser
     MetadataObjId
     n
     (AnnFieldG
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; FieldParser
     MetadataObjId
     n
     (AnnFieldG
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
forall origin (m :: * -&gt; *) (b :: BackendType) r v.
Functor m =&gt;
XNestedObjects b
-&gt; Bool
-&gt; FieldParser origin m (AnnFieldG b r v)
-&gt; FieldParser origin m (AnnFieldG b r v)
</span><a href="Hasura.GraphQL.Schema.Select.html#nestedArrayFieldParser"><span class="hs-identifier hs-var">nestedArrayFieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">XNestedObjects b
</span><a href="#local-6989586621687054116"><span class="hs-identifier hs-var">supportsNestedObjects</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687054164"><span class="hs-identifier hs-var">lmtaNullable</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldParser
   MetadataObjId
   n
   (AnnFieldG
      b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
 -&gt; FieldParser
      MetadataObjId
      n
      (AnnFieldG
         b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">LogicalModelType b
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
</span><a href="#local-6989586621687054143"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">LogicalModelType b
</span><a href="#local-6989586621687054163"><span class="hs-identifier hs-var">lmtaArray</span></a></span><span>
</span><span id="line-1241"></span><span>        </span><span class="annot"><span class="annottext">LogicalModelType b
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
</span><a href="#local-6989586621687054143"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">LogicalModelType b
</span><a href="#local-6989586621687054136"><span class="hs-identifier hs-var">lmfType</span></a></span><span>
</span><span id="line-1242"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-1243"></span><span>        </span><span id="local-6989586621687054151"><span class="annot"><span class="annottext">wrapScalar :: Bool
-&gt; Name
-&gt; ScalarType b
-&gt; Parser MetadataObjId 'Both n Value
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
</span><a href="#local-6989586621687054151"><span class="hs-identifier hs-var hs-var">wrapScalar</span></a></span></span><span> </span><span id="local-6989586621687054167"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687054167"><span class="hs-identifier hs-var">isNullable'</span></a></span></span><span> </span><span id="local-6989586621687054168"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054168"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621687054169"><span class="annot"><span class="annottext">ScalarType b
</span><a href="#local-6989586621687054169"><span class="hs-identifier hs-var">scalarType</span></a></span></span><span> </span><span id="local-6989586621687054170"><span class="annot"><span class="annottext">Parser MetadataObjId 'Both n Value
</span><a href="#local-6989586621687054170"><span class="hs-identifier hs-var">parser</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1244"></span><span>          </span><span class="annot"><span class="annottext">FieldParser
  MetadataObjId
  n
  (AnnFieldG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
forall a. a -&gt; SchemaT r m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-1245"></span><span>            </span><span class="annot"><span class="annottext">(FieldParser
   MetadataObjId
   n
   (AnnFieldG
      b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
 -&gt; SchemaT
      r
      m
      (FieldParser
         MetadataObjId
         n
         (AnnFieldG
            b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))))
-&gt; FieldParser
     MetadataObjId
     n
     (AnnFieldG
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; SchemaT
     r
     m
     (FieldParser
        MetadataObjId
        n
        (AnnFieldG
           b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; FieldParser MetadataObjId n () -&gt; FieldParser MetadataObjId n ()
forall origin (m :: * -&gt; *) a.
Bool -&gt; FieldParser origin m a -&gt; FieldParser origin m a
</span><a href="Hasura.GraphQL.Schema.Select.html#wrapNullable"><span class="hs-identifier hs-var">wrapNullable</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687054167"><span class="hs-identifier hs-var">isNullable'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser MetadataObjId 'Both n Value
-&gt; FieldParser MetadataObjId n ()
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin 'Both m a
-&gt; FieldParser origin m ()
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#selection_"><span class="hs-identifier hs-var">P.selection_</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054168"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-var">G.Description</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Description) -&gt; Maybe Text -&gt; Maybe Description
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621687054137"><span class="hs-identifier hs-var">lmfDescription</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parser MetadataObjId 'Both n Value
</span><a href="#local-6989586621687054170"><span class="hs-identifier hs-var">parser</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1246"></span><span>            </span><span class="annot"><span class="annottext">FieldParser MetadataObjId n ()
-&gt; AnnFieldG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
-&gt; FieldParser
     MetadataObjId
     n
     (AnnFieldG
        b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Column b
-&gt; ColumnType b
-&gt; Maybe (AnnColumnCaseBoolExp b (UnpreparedValue b))
-&gt; Maybe (ScalarSelectionArguments b)
-&gt; AnnFieldG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall (backend :: BackendType) v r.
Column backend
-&gt; ColumnType backend
-&gt; Maybe (AnnColumnCaseBoolExp backend v)
-&gt; Maybe (ScalarSelectionArguments backend)
-&gt; AnnFieldG backend r v
</span><a href="Hasura.RQL.IR.Select.html#mkAnnColumnField"><span class="hs-identifier hs-var">IR.mkAnnColumnField</span></a></span><span> </span><span class="annot"><span class="annottext">Column b
</span><a href="#local-6989586621687054135"><span class="hs-identifier hs-var">lmfName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScalarType b -&gt; ColumnType b
forall (b :: BackendType). ScalarType b -&gt; ColumnType b
</span><a href="Hasura.RQL.Types.Column.html#ColumnScalar"><span class="hs-identifier hs-var">ColumnScalar</span></a></span><span> </span><span class="annot"><span class="annottext">ScalarType b
</span><a href="#local-6989586621687054169"><span class="hs-identifier hs-var">scalarType</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (AnnColumnCaseBoolExp b (UnpreparedValue b))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Maybe (ScalarSelectionArguments b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1247"></span><span>        </span><span id="local-6989586621687054152"><span class="annot"><span class="annottext">customScalarParser :: Bool -&gt; Name -&gt; Parser origin 'Both m Value
</span><a href="#local-6989586621687054152"><span class="hs-identifier hs-var hs-var">customScalarParser</span></a></span></span><span> </span><span id="local-6989586621687054181"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687054181"><span class="hs-identifier hs-var">isNullable'</span></a></span></span><span> </span><span id="local-6989586621687054182"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054182"><span class="hs-identifier hs-var">fieldTypeName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1248"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687054183"><span class="annot"><span class="annottext">nullable :: Nullability
</span><a href="#local-6989586621687054183"><span class="hs-identifier hs-var hs-var">nullable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621687054181"><span class="hs-identifier hs-var">isNullable'</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Nullability
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Schema.Definition.html#Nullable"><span class="hs-identifier hs-var">P.Nullable</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Nullability
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Schema.Definition.html#NonNullable"><span class="hs-identifier hs-var">P.NonNullable</span></a></span><span>
</span><span id="line-1249"></span><span>              </span><span id="local-6989586621687054186"><span class="annot"><span class="annottext">schemaType :: Type origin 'Both
</span><a href="#local-6989586621687054186"><span class="hs-identifier hs-var hs-var">schemaType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nullability
-&gt; Definition origin (TypeInfo origin 'Both) -&gt; Type origin 'Both
forall origin (k :: Kind).
Nullability
-&gt; Definition origin (TypeInfo origin k) -&gt; Type origin k
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Schema.Definition.html#TNamed"><span class="hs-identifier hs-var">P.TNamed</span></a></span><span> </span><span class="annot"><span class="annottext">Nullability
</span><a href="#local-6989586621687054183"><span class="hs-identifier hs-var">nullable</span></a></span><span> </span><span class="annot"><span class="annottext">(Definition origin (TypeInfo origin 'Both) -&gt; Type origin 'Both)
-&gt; Definition origin (TypeInfo origin 'Both) -&gt; Type origin 'Both
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Maybe origin
-&gt; [Directive Void]
-&gt; TypeInfo origin 'Both
-&gt; Definition origin (TypeInfo origin 'Both)
forall origin a.
Name
-&gt; Maybe Description
-&gt; Maybe origin
-&gt; [Directive Void]
-&gt; a
-&gt; Definition origin a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Schema.Definition.html#Definition"><span class="hs-identifier hs-var">P.Definition</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054182"><span class="hs-identifier hs-var">fieldTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Maybe origin
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">TypeInfo origin 'Both
forall origin. TypeInfo origin 'Both
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Schema.Definition.html#TIScalar"><span class="hs-identifier hs-var">P.TIScalar</span></a></span><span>
</span><span id="line-1250"></span><span>           </span><span class="hs-keyword">in</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Types.html#Parser"><span class="hs-identifier hs-type">P.Parser</span></a></span><span>
</span><span id="line-1251"></span><span>                </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pType :: Type origin 'Both
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Types.html#pType"><span class="hs-identifier hs-var">pType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type origin 'Both
</span><a href="#local-6989586621687054186"><span class="hs-identifier hs-var">schemaType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1252"></span><span>                  </span><span class="annot"><span class="annottext">pParser :: ParserInput 'Both -&gt; m Value
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Types.html#pParser"><span class="hs-identifier hs-var">pParser</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GType -&gt; InputValue Variable -&gt; m Value
forall (m :: * -&gt; *).
MonadParse m =&gt;
GType -&gt; InputValue Variable -&gt; m Value
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Convert.html#valueToJSON"><span class="hs-identifier hs-var">P.valueToJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type origin 'Both -&gt; GType
forall origin (k :: Kind). Type origin k -&gt; GType
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Schema.Definition.html#toGraphQLType"><span class="hs-identifier hs-var">P.toGraphQLType</span></a></span><span> </span><span class="annot"><span class="annottext">Type origin 'Both
</span><a href="#local-6989586621687054186"><span class="hs-identifier hs-var">schemaType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1253"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-1254"></span><span>
</span><span id="line-1255"></span><span class="hs-comment">{- Note [Permission filter deduplication]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1. `T` and `U` are tables.

1. `r` is a relationship on `T` to table `U` with the join condition, `T.c =
   U.d` where `c` and `d` are columns on tables `T` and `U` respectively.

1. `s` is a relationship on `U` to table `T` with the join condition, `U.d =
   T.c`.

1. `p(T)` and `p(U)` denote the permission filters on table `T` and `U`
   respectively for some role `R`.

Consider the SQL that we generate for this query:

```
query {
  T {
    c
    r {
      d
    }
  }
}
```

It would be along these lines:

```sql
SELECT
  *
FROM
  (
    SELECT * FROM T WHERE p(T)
  ) AS T
  LEFT OUTER JOIN LATERAL
  (
    SELECT * FROM U WHERE T.c = U.d AND p(U)
  ) AS U
  ON TRUE
```

The expression `T.c = U.d` is the join condition for relationship `r`. Note
that we use lateral joins, so the join condition is not expressed using `ON`
but on the where clause of `U`.

Now, let's say `p(U)` is of the form `{ s : p(T) }`.

```sql
SELECT
  *
FROM
  (
    SELECT * FROM T WHERE p(T)
  ) AS T
  LEFT OUTER JOIN LATERAL
  (
    SELECT * FROM U WHERE T.c = U.d
    AND EXISTS (
      SELECT 1 FROM T WHERE U.d = T.c AND p(T)
    )
  ) AS U
  ON TRUE
```

`p(U)`, i.e, `{ s : p(T) }` got expanded to

```sql
EXISTS (
  SELECT 1 FROM T WHERE U.d = T.c AND p(T)
)
```

Now, assuming, in the `WHERE` clause for `U`, that `T.c = U.d` holds, then the
`EXISTS` clause must evaluate to true. The `EXISTS` clause must evaluate to true
because the row from `T` we are joining against is exactly such a row satisfying
`p(T)`. In other words, the row obtained from `T` (as the left-hand side of the
join) satisfies `p(T)`.
-}</span><span>
</span><span id="line-1334"></span><span>
</span><span id="line-1335"></span><span class="annot"><span class="hs-comment">-- | Field parsers for a table relationship</span></span><span>
</span><span id="line-1336"></span><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#relationshipField"><span class="hs-identifier hs-type">relationshipField</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1337"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687051743"><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621687051744"><span class="annot"><a href="#local-6989586621687051744"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621687051745"><span class="annot"><a href="#local-6989586621687051745"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687051746"><span class="annot"><a href="#local-6989586621687051746"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-1338"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.BoolExp.html#AggregationPredicatesSchema"><span class="hs-identifier hs-type">AggregationPredicatesSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1339"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#BackendTableSelectSchema"><span class="hs-identifier hs-type">BackendTableSelectSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1340"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#AnnBoolExp"><span class="hs-identifier hs-type">AnnBoolExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-1341"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Backend.html#MonadBuildSchema"><span class="hs-identifier hs-type">MonadBuildSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051744"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051745"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051746"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-1342"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1343"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#TableName"><span class="hs-identifier hs-type">TableName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1344"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Relationships.Local.html#RelInfo"><span class="hs-identifier hs-type">RelInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1345"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SchemaT"><span class="hs-identifier hs-type">SchemaT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051744"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051745"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.GraphQL.Schema.Parser.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051746"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#AnnotatedField"><span class="hs-identifier hs-type">AnnotatedField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1346"></span><span id="relationshipField"><span class="annot"><span class="annottext">relationshipField :: forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(AggregationPredicatesSchema b, BackendTableSelectSchema b,
 Eq (AnnBoolExp b (UnpreparedValue b)), MonadBuildSchema b r m n) =&gt;
TableName b
-&gt; RelInfo b
-&gt; SchemaT r m (Maybe [FieldParser n (AnnotatedField b)])
</span><a href="Hasura.GraphQL.Schema.Select.html#relationshipField"><span class="hs-identifier hs-var hs-var">relationshipField</span></a></span></span><span> </span><span id="local-6989586621687054348"><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687054348"><span class="hs-identifier hs-var">table</span></a></span></span><span> </span><span id="local-6989586621687054349"><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054349"><span class="hs-identifier hs-var">ri</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MaybeT (SchemaT r m) [FieldParser n (AnnotatedField b)]
-&gt; SchemaT r m (Maybe [FieldParser n (AnnotatedField b)])
forall (m :: * -&gt; *) a. MaybeT m a -&gt; m (Maybe a)
</span><span class="hs-identifier hs-var">runMaybeT</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1347"></span><span>  </span><span id="local-6989586621687054350"><span class="annot"><span class="annottext">NamingCase
</span><a href="#local-6989586621687054350"><span class="hs-identifier hs-var">tCase</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SourceInfo b -&gt; NamingCase) -&gt; MaybeT (SchemaT r m) NamingCase
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">((SourceInfo b -&gt; NamingCase) -&gt; MaybeT (SchemaT r m) NamingCase)
-&gt; (SourceInfo b -&gt; NamingCase) -&gt; MaybeT (SchemaT r m) NamingCase
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ResolvedSourceCustomization -&gt; NamingCase
</span><a href="Hasura.RQL.Types.SourceCustomization.html#_rscNamingConvention"><span class="hs-identifier hs-var">_rscNamingConvention</span></a></span><span> </span><span class="annot"><span class="annottext">(ResolvedSourceCustomization -&gt; NamingCase)
-&gt; (SourceInfo b -&gt; ResolvedSourceCustomization)
-&gt; SourceInfo b
-&gt; NamingCase
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType).
SourceInfo b -&gt; ResolvedSourceCustomization
</span><a href="Hasura.RQL.Types.Source.html#_siCustomization"><span class="hs-identifier hs-var">_siCustomization</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-1348"></span><span>  </span><span id="local-6989586621687054351"><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687054351"><span class="hs-identifier hs-var">roleName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SchemaContext -&gt; RoleName) -&gt; MaybeT (SchemaT r m) RoleName
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaContext -&gt; RoleName
</span><a href="Hasura.GraphQL.Schema.Common.html#scRole"><span class="hs-identifier hs-var">scRole</span></a></span><span>
</span><span id="line-1349"></span><span>  </span><span id="local-6989586621687054352"><span class="annot"><span class="annottext">OptimizePermissionFilters
</span><a href="#local-6989586621687054352"><span class="hs-identifier hs-var">optimizePermissionFilters</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SchemaOptions -&gt; OptimizePermissionFilters)
-&gt; MaybeT (SchemaT r m) OptimizePermissionFilters
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaOptions -&gt; OptimizePermissionFilters
</span><a href="Hasura.RQL.Types.Schema.Options.html#soOptimizePermissionFilters"><span class="hs-identifier hs-var">Options.soOptimizePermissionFilters</span></a></span><span>
</span><span id="line-1350"></span><span>  </span><span id="local-6989586621687054354"><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687054354"><span class="hs-identifier hs-var">tableInfo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SchemaT r m (TableInfo b) -&gt; MaybeT (SchemaT r m) (TableInfo b)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; MaybeT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m (TableInfo b) -&gt; MaybeT (SchemaT r m) (TableInfo b))
-&gt; SchemaT r m (TableInfo b) -&gt; MaybeT (SchemaT r m) (TableInfo b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType) r (m :: * -&gt; *).
(Backend b, MonadError QErr m, MonadReader r m,
 Has (SourceInfo b) r) =&gt;
TableName b -&gt; m (TableInfo b)
</span><a href="Hasura.GraphQL.Schema.Common.html#askTableInfo"><span class="hs-identifier hs-var">askTableInfo</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687054348"><span class="hs-identifier hs-var">table</span></a></span><span>
</span><span id="line-1351"></span><span>  </span><span id="local-6989586621687054356"><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687054356"><span class="hs-identifier hs-var">otherTableName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">RelInfo b -&gt; RelTarget b
forall (b :: BackendType). RelInfo b -&gt; RelTarget b
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riTarget"><span class="hs-identifier hs-var">riTarget</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054349"><span class="hs-identifier hs-var">ri</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1352"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Relationships.Local.html#RelTargetNativeQuery"><span class="hs-identifier hs-type">RelTargetNativeQuery</span></a></span><span> </span><span class="annot"><span class="annottext">NativeQueryName
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; MaybeT (SchemaT r m) (TableName b)
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;relationshipField RelTargetNativeQuery&quot;</span></span><span>
</span><span id="line-1353"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Relationships.Local.html#RelTargetTable"><span class="hs-identifier hs-type">RelTargetTable</span></a></span><span> </span><span id="local-6989586621687054361"><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687054361"><span class="hs-identifier hs-var">tn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TableName b -&gt; MaybeT (SchemaT r m) (TableName b)
forall a. a -&gt; MaybeT (SchemaT r m) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687054361"><span class="hs-identifier hs-var">tn</span></a></span><span>
</span><span id="line-1354"></span><span>  </span><span id="local-6989586621687054362"><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687054362"><span class="hs-identifier hs-var">otherTableInfo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SchemaT r m (TableInfo b) -&gt; MaybeT (SchemaT r m) (TableInfo b)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; MaybeT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m (TableInfo b) -&gt; MaybeT (SchemaT r m) (TableInfo b))
-&gt; SchemaT r m (TableInfo b) -&gt; MaybeT (SchemaT r m) (TableInfo b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TableName b -&gt; SchemaT r m (TableInfo b)
forall (b :: BackendType) r (m :: * -&gt; *).
(Backend b, MonadError QErr m, MonadReader r m,
 Has (SourceInfo b) r) =&gt;
TableName b -&gt; m (TableInfo b)
</span><a href="Hasura.GraphQL.Schema.Common.html#askTableInfo"><span class="hs-identifier hs-var">askTableInfo</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687054356"><span class="hs-identifier hs-var">otherTableName</span></a></span><span>
</span><span id="line-1355"></span><span>  </span><span id="local-6989586621687054363"><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687054363"><span class="hs-identifier hs-var">tablePerms</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b)
forall (m :: * -&gt; *) b. Applicative m =&gt; Maybe b -&gt; MaybeT m b
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#hoistMaybe"><span class="hs-identifier hs-var">hoistMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b))
-&gt; Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleName -&gt; TableInfo b -&gt; Maybe (SelPermInfo b)
forall (b :: BackendType).
RoleName -&gt; TableInfo b -&gt; Maybe (SelPermInfo b)
</span><a href="Hasura.GraphQL.Schema.Table.html#tableSelectPermissions"><span class="hs-identifier hs-var">tableSelectPermissions</span></a></span><span> </span><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687054351"><span class="hs-identifier hs-var">roleName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687054354"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-1356"></span><span>  </span><span id="local-6989586621687054364"><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687054364"><span class="hs-identifier hs-var">remotePerms</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b)
forall (m :: * -&gt; *) b. Applicative m =&gt; Maybe b -&gt; MaybeT m b
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#hoistMaybe"><span class="hs-identifier hs-var">hoistMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b))
-&gt; Maybe (SelPermInfo b) -&gt; MaybeT (SchemaT r m) (SelPermInfo b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleName -&gt; TableInfo b -&gt; Maybe (SelPermInfo b)
forall (b :: BackendType).
RoleName -&gt; TableInfo b -&gt; Maybe (SelPermInfo b)
</span><a href="Hasura.GraphQL.Schema.Table.html#tableSelectPermissions"><span class="hs-identifier hs-var">tableSelectPermissions</span></a></span><span> </span><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621687054351"><span class="hs-identifier hs-var">roleName</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687054362"><span class="hs-identifier hs-var">otherTableInfo</span></a></span><span>
</span><span id="line-1357"></span><span>  </span><span id="local-6989586621687054365"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054365"><span class="hs-identifier hs-var">relFieldName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SchemaT r m Name -&gt; MaybeT (SchemaT r m) Name
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; MaybeT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m Name -&gt; MaybeT (SchemaT r m) Name)
-&gt; SchemaT r m Name -&gt; MaybeT (SchemaT r m) Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; SchemaT r m Name
forall (m :: * -&gt; *). MonadError QErr m =&gt; Text -&gt; m Name
</span><a href="Hasura.GraphQL.Schema.Common.html#textToName"><span class="hs-identifier hs-var">textToName</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; SchemaT r m Name) -&gt; Text -&gt; SchemaT r m Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RelName -&gt; Text
</span><a href="Hasura.RQL.Types.Common.html#relNameToTxt"><span class="hs-identifier hs-var">relNameToTxt</span></a></span><span> </span><span class="annot"><span class="annottext">(RelName -&gt; Text) -&gt; RelName -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RelInfo b -&gt; RelName
forall (b :: BackendType). RelInfo b -&gt; RelName
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riName"><span class="hs-identifier hs-var">riName</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054349"><span class="hs-identifier hs-var">ri</span></a></span><span>
</span><span id="line-1358"></span><span>  </span><span class="hs-comment">-- START black magic to deduplicate permission checks</span><span>
</span><span id="line-1359"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687054366"><span class="annot"><span class="annottext">thisTablePerm :: AnnBoolExp b (UnpreparedValue b)
</span><a href="#local-6989586621687054366"><span class="hs-identifier hs-var hs-var">thisTablePerm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TablePermG b (UnpreparedValue b)
-&gt; AnnBoolExp b (UnpreparedValue b)
forall (b :: BackendType) v. TablePermG b v -&gt; AnnBoolExp b v
</span><a href="Hasura.RQL.IR.Select.TablePerm.html#%24sel%3A_tpFilter%3ATablePerm"><span class="hs-identifier hs-var">IR._tpFilter</span></a></span><span> </span><span class="annot"><span class="annottext">(TablePermG b (UnpreparedValue b)
 -&gt; AnnBoolExp b (UnpreparedValue b))
-&gt; TablePermG b (UnpreparedValue b)
-&gt; AnnBoolExp b (UnpreparedValue b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SelPermInfo b -&gt; TablePermG b (UnpreparedValue b)
forall (b :: BackendType).
Backend b =&gt;
SelPermInfo b -&gt; TablePerms b
</span><a href="Hasura.GraphQL.Schema.Select.html#tablePermissionsInfo"><span class="hs-identifier hs-var">tablePermissionsInfo</span></a></span><span> </span><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687054363"><span class="hs-identifier hs-var">tablePerms</span></a></span><span>
</span><span id="line-1360"></span><span>      </span><span class="annot"><a href="#local-6989586621687054368"><span class="hs-identifier hs-type">deduplicatePermissions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#AnnBoolExp"><span class="hs-identifier hs-type">AnnBoolExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#AnnBoolExp"><span class="hs-identifier hs-type">AnnBoolExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">IR.UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1361"></span><span>      </span><span id="local-6989586621687054368"><span class="annot"><span class="annottext">deduplicatePermissions :: AnnBoolExp b (UnpreparedValue b)
-&gt; AnnBoolExp b (UnpreparedValue b)
</span><a href="#local-6989586621687054368"><span class="hs-identifier hs-var hs-var">deduplicatePermissions</span></a></span></span><span> </span><span id="local-6989586621687054369"><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
</span><a href="#local-6989586621687054369"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1362"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OptimizePermissionFilters
</span><a href="#local-6989586621687054352"><span class="hs-identifier hs-var">optimizePermissionFilters</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
</span><a href="#local-6989586621687054369"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1363"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">OptimizePermissionFilters
</span><a href="Hasura.RQL.Types.Schema.Options.html#OptimizePermissionFilters"><span class="hs-identifier hs-var">OptimizePermissionFilters</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1364"></span><span>            </span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#BoolAnd"><span class="hs-identifier hs-type">BoolAnd</span></a></span><span>
</span><span id="line-1365"></span><span>              </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#BoolField"><span class="hs-identifier hs-type">BoolField</span></a></span><span>
</span><span id="line-1366"></span><span>                  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#AVRelationship"><span class="hs-identifier hs-type">AVRelationship</span></a></span><span>
</span><span id="line-1367"></span><span>                      </span><span id="local-6989586621687054372"><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054372"><span class="hs-identifier hs-var">remoteRI</span></a></span></span><span>
</span><span id="line-1368"></span><span>                      </span><span class="annot"><a href="Hasura.RQL.IR.BoolExp.html#RelationshipFilters"><span class="hs-identifier hs-type">RelationshipFilters</span></a></span><span>
</span><span id="line-1369"></span><span>                        </span><span class="hs-special">{</span><span> </span><span id="local-6989586621687054374"><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
rfTargetTablePermissions :: AnnBoolExp b (UnpreparedValue b)
rfTargetTablePermissions :: forall (backend :: BackendType) leaf.
RelationshipFilters backend leaf -&gt; AnnBoolExp backend leaf
</span><a href="#local-6989586621687054374"><span class="hs-identifier hs-var hs-var">rfTargetTablePermissions</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-1370"></span><span>                          </span><span id="local-6989586621687054376"><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
rfFilter :: AnnBoolExp b (UnpreparedValue b)
rfFilter :: forall (backend :: BackendType) leaf.
RelationshipFilters backend leaf -&gt; AnnBoolExp backend leaf
</span><a href="#local-6989586621687054376"><span class="hs-identifier hs-var hs-var">rfFilter</span></a></span></span><span>
</span><span id="line-1371"></span><span>                        </span><span class="hs-special">}</span><span>
</span><span id="line-1372"></span><span>                    </span><span class="hs-special">)</span><span>
</span><span id="line-1373"></span><span>                </span><span class="hs-special">]</span><span>
</span><span id="line-1374"></span><span>            </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1375"></span><span>              </span><span class="hs-comment">-- Here we try to figure out if the &quot;forwards&quot; joining condition</span><span>
</span><span id="line-1376"></span><span>              </span><span class="hs-comment">-- from `table` to the related table `riRTable ri` is equal to the</span><span>
</span><span id="line-1377"></span><span>              </span><span class="hs-comment">-- &quot;backwards&quot; joining condition from the related table back to</span><span>
</span><span id="line-1378"></span><span>              </span><span class="hs-comment">-- `table`.  If it is, then we can optimize the row-level permission</span><span>
</span><span id="line-1379"></span><span>              </span><span class="hs-comment">-- filters by dropping them here.</span><span>
</span><span id="line-1380"></span><span>              </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687054378"><span class="annot"><span class="annottext">remoteTableName :: Maybe (TableName b)
</span><a href="#local-6989586621687054378"><span class="hs-identifier hs-var hs-var">remoteTableName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">RelInfo b -&gt; RelTarget b
forall (b :: BackendType). RelInfo b -&gt; RelTarget b
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riTarget"><span class="hs-identifier hs-var">riTarget</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054372"><span class="hs-identifier hs-var">remoteRI</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1381"></span><span>                    </span><span class="annot"><a href="Hasura.RQL.Types.Relationships.Local.html#RelTargetTable"><span class="hs-identifier hs-type">RelTargetTable</span></a></span><span> </span><span id="local-6989586621687054379"><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687054379"><span class="hs-identifier hs-var">tn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TableName b -&gt; Maybe (TableName b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687054379"><span class="hs-identifier hs-var">tn</span></a></span><span>
</span><span id="line-1382"></span><span>                    </span><span class="annot"><span class="annottext">RelTarget b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (TableName b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1383"></span><span>               </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (TableName b)
</span><a href="#local-6989586621687054378"><span class="hs-identifier hs-var">remoteTableName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (TableName b) -&gt; Maybe (TableName b) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TableName b -&gt; Maybe (TableName b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687054348"><span class="hs-identifier hs-var">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1384"></span><span>                    </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelInfo b -&gt; HashMap (Column b) (Column b)
forall (b :: BackendType).
RelInfo b -&gt; HashMap (Column b) (Column b)
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riMapping"><span class="hs-identifier hs-var">riMapping</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054372"><span class="hs-identifier hs-var">remoteRI</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap (Column b) (Column b)
-&gt; HashMap (Column b) (Column b) -&gt; Bool
forall k v.
(Hashable k, Hashable v) =&gt;
HashMap k v -&gt; HashMap v k -&gt; Bool
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.HashMap.Strict.Extended.html#isInverseOf"><span class="hs-operator hs-var">`HashMap.isInverseOf`</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b -&gt; HashMap (Column b) (Column b)
forall (b :: BackendType).
RelInfo b -&gt; HashMap (Column b) (Column b)
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riMapping"><span class="hs-identifier hs-var">riMapping</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054349"><span class="hs-identifier hs-var">ri</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1385"></span><span>                    </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
</span><a href="#local-6989586621687054366"><span class="hs-identifier hs-var">thisTablePerm</span></a></span><span> </span><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
-&gt; AnnBoolExp b (UnpreparedValue b) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
</span><a href="#local-6989586621687054374"><span class="hs-identifier hs-var">rfTargetTablePermissions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1386"></span><span>                    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
</span><a href="#local-6989586621687054376"><span class="hs-identifier hs-var">rfFilter</span></a></span><span>
</span><span id="line-1387"></span><span>                    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
</span><a href="#local-6989586621687054369"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1388"></span><span>          </span><span class="annot"><span class="annottext">(OptimizePermissionFilters, AnnBoolExp b (UnpreparedValue b))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
</span><a href="#local-6989586621687054369"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1389"></span><span>      </span><span class="annot"><a href="#local-6989586621687054382"><span class="hs-identifier hs-type">deduplicatePermissions'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SelectExp"><span class="hs-identifier hs-type">SelectExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#SelectExp"><span class="hs-identifier hs-type">SelectExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-1390"></span><span>      </span><span id="local-6989586621687054382"><span class="annot"><span class="annottext">deduplicatePermissions' :: SelectExp b -&gt; SelectExp b
</span><a href="#local-6989586621687054382"><span class="hs-identifier hs-var hs-var">deduplicatePermissions'</span></a></span></span><span> </span><span id="local-6989586621687054383"><span class="annot"><span class="annottext">SelectExp b
</span><a href="#local-6989586621687054383"><span class="hs-identifier hs-var">expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1391"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687054384"><span class="annot"><span class="annottext">newFilter :: AnnBoolExp b (UnpreparedValue b)
</span><a href="#local-6989586621687054384"><span class="hs-identifier hs-var hs-var">newFilter</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
-&gt; AnnBoolExp b (UnpreparedValue b)
</span><a href="#local-6989586621687054368"><span class="hs-identifier hs-var">deduplicatePermissions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePermG b (UnpreparedValue b)
-&gt; AnnBoolExp b (UnpreparedValue b)
forall (b :: BackendType) v. TablePermG b v -&gt; AnnBoolExp b v
</span><a href="Hasura.RQL.IR.Select.TablePerm.html#%24sel%3A_tpFilter%3ATablePerm"><span class="hs-identifier hs-var">IR._tpFilter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SelectExp b -&gt; TablePermG b (UnpreparedValue b)
forall (b :: BackendType) (f :: * -&gt; *) v.
AnnSelectG b f v -&gt; TablePermG b v
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnPerm%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnPerm</span></a></span><span> </span><span class="annot"><span class="annottext">SelectExp b
</span><a href="#local-6989586621687054383"><span class="hs-identifier hs-var">expr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1392"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">SelectExp b
</span><a href="#local-6989586621687054383"><span class="hs-identifier hs-var">expr</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">$sel:_asnPerm:AnnSelectG :: TablePermG b (UnpreparedValue b)
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnPerm%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnPerm</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SelectExp b -&gt; TablePermG b (UnpreparedValue b)
forall (b :: BackendType) (f :: * -&gt; *) v.
AnnSelectG b f v -&gt; TablePermG b v
</span><a href="Hasura.RQL.IR.Select.AnnSelectG.html#%24sel%3A_asnPerm%3AAnnSelectG"><span class="hs-identifier hs-var">IR._asnPerm</span></a></span><span> </span><span class="annot"><span class="annottext">SelectExp b
</span><a href="#local-6989586621687054383"><span class="hs-identifier hs-var">expr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">$sel:_tpFilter:TablePerm :: AnnBoolExp b (UnpreparedValue b)
</span><a href="Hasura.RQL.IR.Select.TablePerm.html#%24sel%3A_tpFilter%3ATablePerm"><span class="hs-identifier hs-var">IR._tpFilter</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
</span><a href="#local-6989586621687054384"><span class="hs-identifier hs-var">newFilter</span></a></span><span class="hs-special">}</span><span class="hs-special">}</span><span>
</span><span id="line-1393"></span><span>  </span><span class="hs-comment">-- END black magic to deduplicate permission checks</span><span>
</span><span id="line-1394"></span><span>
</span><span id="line-1395"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">RelInfo b -&gt; RelType
forall (b :: BackendType). RelInfo b -&gt; RelType
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riType"><span class="hs-identifier hs-var">riType</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054349"><span class="hs-identifier hs-var">ri</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1396"></span><span>    </span><span class="annot"><span class="annottext">RelType
</span><a href="Hasura.RQL.Types.Common.html#ObjRel"><span class="hs-identifier hs-var">ObjRel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1397"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687054388"><span class="annot"><span class="annottext">desc :: Maybe Description
</span><a href="#local-6989586621687054388"><span class="hs-identifier hs-var hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Description -&gt; Maybe Description)
-&gt; Description -&gt; Maybe Description
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-var">G.Description</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;An object relationship&quot;</span></span><span>
</span><span id="line-1398"></span><span>      </span><span id="local-6989586621687054389"><span class="annot"><span class="annottext">Parser 'Output n (AnnotatedFields b)
</span><a href="#local-6989586621687054389"><span class="hs-identifier hs-var">selectionSetParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
-&gt; MaybeT (SchemaT r m) (Parser 'Output n (AnnotatedFields b))
forall (m :: * -&gt; *) a. m (Maybe a) -&gt; MaybeT m a
</span><span class="hs-identifier hs-var">MaybeT</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
 -&gt; MaybeT (SchemaT r m) (Parser 'Output n (AnnotatedFields b)))
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
-&gt; MaybeT (SchemaT r m) (Parser 'Output n (AnnotatedFields b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
forall r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSourceSchema b r m n =&gt;
TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(BackendTableSelectSchema b, MonadBuildSourceSchema b r m n) =&gt;
TableInfo b
-&gt; SchemaT r m (Maybe (Parser 'Output n (AnnotatedFields b)))
</span><a href="Hasura.GraphQL.Schema.Backend.html#tableSelectionSet"><span class="hs-identifier hs-var">tableSelectionSet</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687054362"><span class="hs-identifier hs-var">otherTableInfo</span></a></span><span>
</span><span id="line-1399"></span><span>      </span><span class="hs-comment">-- We need to set the correct nullability of our GraphQL field.  Manual</span><span>
</span><span id="line-1400"></span><span>      </span><span class="hs-comment">-- relationships are always nullable, and so are &quot;reverse&quot; object</span><span>
</span><span id="line-1401"></span><span>      </span><span class="hs-comment">-- relationships, i.e. Hasura relationships that are generated from a</span><span>
</span><span id="line-1402"></span><span>      </span><span class="hs-comment">-- referenced table to a referencing table.  For automatic forward object</span><span>
</span><span id="line-1403"></span><span>      </span><span class="hs-comment">-- relationships, i.e. the generated relationship from table1 to table2,</span><span>
</span><span id="line-1404"></span><span>      </span><span class="hs-comment">-- where table1 has a foreign key constraint, we have to do some work.</span><span>
</span><span id="line-1405"></span><span>      </span><span class="hs-comment">--</span><span>
</span><span id="line-1406"></span><span>      </span><span class="hs-comment">-- Specifically, we would like to mark the relationship generated from a</span><span>
</span><span id="line-1407"></span><span>      </span><span class="hs-comment">-- foreign key constraint from table1 to table2 to be non-nullable if</span><span>
</span><span id="line-1408"></span><span>      </span><span class="hs-comment">-- Postgres enforces that for each row in table1, a corresponding row in</span><span>
</span><span id="line-1409"></span><span>      </span><span class="hs-comment">-- table2 exists.  From the Postgres manual:</span><span>
</span><span id="line-1410"></span><span>      </span><span class="hs-comment">--</span><span>
</span><span id="line-1411"></span><span>      </span><span class="hs-comment">-- &quot;Normally, a referencing row need not satisfy the foreign key</span><span>
</span><span id="line-1412"></span><span>      </span><span class="hs-comment">-- constraint if any of its referencing columns are null.  If MATCH FULL</span><span>
</span><span id="line-1413"></span><span>      </span><span class="hs-comment">-- is added to the foreign key declaration, a referencing row escapes</span><span>
</span><span id="line-1414"></span><span>      </span><span class="hs-comment">-- satisfying the constraint only if all its referencing columns are null</span><span>
</span><span id="line-1415"></span><span>      </span><span class="hs-comment">-- (so a mix of null and non-null values is guaranteed to fail a MATCH</span><span>
</span><span id="line-1416"></span><span>      </span><span class="hs-comment">-- FULL constraint).&quot;</span><span>
</span><span id="line-1417"></span><span>      </span><span class="hs-comment">--</span><span>
</span><span id="line-1418"></span><span>      </span><span class="hs-comment">-- https://www.postgresql.org/docs/9.5/ddl-constraints.html#DDL-CONSTRAINTS-FK</span><span>
</span><span id="line-1419"></span><span>      </span><span class="hs-comment">--</span><span>
</span><span id="line-1420"></span><span>      </span><span class="hs-comment">-- Since we don't store MATCH FULL in the RQL representation of the</span><span>
</span><span id="line-1421"></span><span>      </span><span class="hs-comment">-- database, the closest we can get is to only set the field to be</span><span>
</span><span id="line-1422"></span><span>      </span><span class="hs-comment">-- non-nullable if _all_ of the columns that reference the foreign table</span><span>
</span><span id="line-1423"></span><span>      </span><span class="hs-comment">-- are non-nullable.  Strictly speaking, we could do slightly better by</span><span>
</span><span id="line-1424"></span><span>      </span><span class="hs-comment">-- setting the field to be non-nullable also if the foreign key has MATCH</span><span>
</span><span id="line-1425"></span><span>      </span><span class="hs-comment">-- FULL set, and _any_ of the columns is non-nullable.  But we skip doing</span><span>
</span><span id="line-1426"></span><span>      </span><span class="hs-comment">-- this since, as of writing this, the old code used to make the wrong</span><span>
</span><span id="line-1427"></span><span>      </span><span class="hs-comment">-- decision about nullability of joint foreign keys entirely, so this is</span><span>
</span><span id="line-1428"></span><span>      </span><span class="hs-comment">-- probably not a very widely used mode of use.  The impact of this</span><span>
</span><span id="line-1429"></span><span>      </span><span class="hs-comment">-- suboptimality is merely that in introspection some fields might get</span><span>
</span><span id="line-1430"></span><span>      </span><span class="hs-comment">-- marked nullable which are in fact known to always be non-null.</span><span>
</span><span id="line-1431"></span><span>      </span><span id="local-6989586621687054390"><span class="annot"><span class="annottext">Nullable
</span><a href="#local-6989586621687054390"><span class="hs-identifier hs-var">nullable</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelInfo b -&gt; Bool
forall (b :: BackendType). RelInfo b -&gt; Bool
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riIsManual"><span class="hs-identifier hs-var">riIsManual</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054349"><span class="hs-identifier hs-var">ri</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RelInfo b -&gt; InsertOrder
forall (b :: BackendType). RelInfo b -&gt; InsertOrder
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riInsertOrder"><span class="hs-identifier hs-var">riInsertOrder</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054349"><span class="hs-identifier hs-var">ri</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1432"></span><span>        </span><span class="hs-comment">-- Automatically generated forward relationship</span><span>
</span><span id="line-1433"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">InsertOrder
</span><a href="Hasura.RQL.Types.Common.html#BeforeParent"><span class="hs-identifier hs-var">BeforeParent</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1434"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687054394"><span class="annot"><span class="annottext">columns :: [Column b]
</span><a href="#local-6989586621687054394"><span class="hs-identifier hs-var hs-var">columns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap (Column b) (Column b) -&gt; [Column b]
forall k v. HashMap k v -&gt; [k]
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.html#keys"><span class="hs-identifier hs-var">HashMap.keys</span></a></span><span> </span><span class="annot"><span class="annottext">(HashMap (Column b) (Column b) -&gt; [Column b])
-&gt; HashMap (Column b) (Column b) -&gt; [Column b]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RelInfo b -&gt; HashMap (Column b) (Column b)
forall (b :: BackendType).
RelInfo b -&gt; HashMap (Column b) (Column b)
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riMapping"><span class="hs-identifier hs-var">riMapping</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054349"><span class="hs-identifier hs-var">ri</span></a></span><span>
</span><span id="line-1435"></span><span>              </span><span id="local-6989586621687054396"><span class="annot"><span class="annottext">fieldInfoMap :: FieldInfoMap (FieldInfo b)
</span><a href="#local-6989586621687054396"><span class="hs-identifier hs-var hs-var">fieldInfoMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TableCoreInfoG b (FieldInfo b) (ColumnInfo b)
-&gt; FieldInfoMap (FieldInfo b)
forall (b :: BackendType) field primaryKeyColumn.
TableCoreInfoG b field primaryKeyColumn -&gt; FieldInfoMap field
</span><a href="Hasura.Table.Cache.html#_tciFieldInfoMap"><span class="hs-identifier hs-var">_tciFieldInfoMap</span></a></span><span> </span><span class="annot"><span class="annottext">(TableCoreInfoG b (FieldInfo b) (ColumnInfo b)
 -&gt; FieldInfoMap (FieldInfo b))
-&gt; TableCoreInfoG b (FieldInfo b) (ColumnInfo b)
-&gt; FieldInfoMap (FieldInfo b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; TableCoreInfoG b (FieldInfo b) (ColumnInfo b)
forall (b :: BackendType). TableInfo b -&gt; TableCoreInfo b
</span><a href="Hasura.Table.Cache.html#_tiCoreInfo"><span class="hs-identifier hs-var">_tiCoreInfo</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687054354"><span class="hs-identifier hs-var">tableInfo</span></a></span><span>
</span><span id="line-1436"></span><span>              </span><span id="local-6989586621687054397"><span class="annot"><span class="annottext">findColumn :: Column b -&gt; Maybe (ColumnInfo b)
</span><a href="#local-6989586621687054397"><span class="hs-identifier hs-var hs-var">findColumn</span></a></span></span><span> </span><span id="local-6989586621687054398"><span class="annot"><span class="annottext">Column b
</span><a href="#local-6989586621687054398"><span class="hs-identifier hs-var">col</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; FieldInfoMap (FieldInfo b) -&gt; Maybe (FieldInfo b)
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.html#lookup"><span class="hs-identifier hs-var">HashMap.lookup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (b :: BackendType). Backend b =&gt; Column b -&gt; FieldName
</span><a href="Hasura.RQL.Types.Column.html#fromCol"><span class="hs-identifier hs-var">fromCol</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="annottext">Column b
</span><a href="#local-6989586621687054398"><span class="hs-identifier hs-var">col</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FieldInfoMap (FieldInfo b)
</span><a href="#local-6989586621687054396"><span class="hs-identifier hs-var">fieldInfoMap</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (FieldInfo b)
-&gt; Getting
     (First (ColumnInfo b)) (Maybe (FieldInfo b)) (ColumnInfo b)
-&gt; Maybe (ColumnInfo b)
forall s a. s -&gt; Getting (First a) s a -&gt; Maybe a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Fold.html#%5E%3F"><span class="hs-operator hs-var">^?</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldInfo b -&gt; Const (First (ColumnInfo b)) (FieldInfo b))
-&gt; Maybe (FieldInfo b)
-&gt; Const (First (ColumnInfo b)) (Maybe (FieldInfo b))
forall a b (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Choice p, Applicative f) =&gt;
p a (f b) -&gt; p (Maybe a) (f (Maybe b))
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Prism.html#_Just"><span class="hs-identifier hs-var">_Just</span></a></span><span> </span><span class="annot"><span class="annottext">((FieldInfo b -&gt; Const (First (ColumnInfo b)) (FieldInfo b))
 -&gt; Maybe (FieldInfo b)
 -&gt; Const (First (ColumnInfo b)) (Maybe (FieldInfo b)))
-&gt; ((ColumnInfo b -&gt; Const (First (ColumnInfo b)) (ColumnInfo b))
    -&gt; FieldInfo b -&gt; Const (First (ColumnInfo b)) (FieldInfo b))
-&gt; Getting
     (First (ColumnInfo b)) (Maybe (FieldInfo b)) (ColumnInfo b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(StructuredColumnInfo b
 -&gt; Const (First (ColumnInfo b)) (StructuredColumnInfo b))
-&gt; FieldInfo b -&gt; Const (First (ColumnInfo b)) (FieldInfo b)
forall (b :: BackendType) (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Choice p, Applicative f) =&gt;
p (StructuredColumnInfo b) (f (StructuredColumnInfo b))
-&gt; p (FieldInfo b) (f (FieldInfo b))
</span><a href="Hasura.Table.Cache.html#_FIColumn"><span class="hs-identifier hs-var">_FIColumn</span></a></span><span> </span><span class="annot"><span class="annottext">((StructuredColumnInfo b
  -&gt; Const (First (ColumnInfo b)) (StructuredColumnInfo b))
 -&gt; FieldInfo b -&gt; Const (First (ColumnInfo b)) (FieldInfo b))
-&gt; ((ColumnInfo b -&gt; Const (First (ColumnInfo b)) (ColumnInfo b))
    -&gt; StructuredColumnInfo b
    -&gt; Const (First (ColumnInfo b)) (StructuredColumnInfo b))
-&gt; (ColumnInfo b -&gt; Const (First (ColumnInfo b)) (ColumnInfo b))
-&gt; FieldInfo b
-&gt; Const (First (ColumnInfo b)) (FieldInfo b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(ColumnInfo b -&gt; Const (First (ColumnInfo b)) (ColumnInfo b))
-&gt; StructuredColumnInfo b
-&gt; Const (First (ColumnInfo b)) (StructuredColumnInfo b)
forall (b :: BackendType) (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Choice p, Applicative f) =&gt;
p (ColumnInfo b) (f (ColumnInfo b))
-&gt; p (StructuredColumnInfo b) (f (StructuredColumnInfo b))
</span><a href="Hasura.RQL.Types.Column.html#_SCIScalarColumn"><span class="hs-identifier hs-var">_SCIScalarColumn</span></a></span><span>
</span><span id="line-1437"></span><span>          </span><span class="hs-comment">-- Fetch information about the referencing columns of the foreign key</span><span>
</span><span id="line-1438"></span><span>          </span><span class="hs-comment">-- constraint</span><span>
</span><span id="line-1439"></span><span>          </span><span id="local-6989586621687054402"><span class="annot"><span class="annottext">[ColumnInfo b]
</span><a href="#local-6989586621687054402"><span class="hs-identifier hs-var">colInfo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1440"></span><span>            </span><span class="annot"><span class="annottext">(Column b -&gt; Maybe (ColumnInfo b))
-&gt; [Column b] -&gt; Maybe [ColumnInfo b]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">Column b -&gt; Maybe (ColumnInfo b)
</span><a href="#local-6989586621687054397"><span class="hs-identifier hs-var">findColumn</span></a></span><span> </span><span class="annot"><span class="annottext">[Column b]
</span><a href="#local-6989586621687054394"><span class="hs-identifier hs-var">columns</span></a></span><span>
</span><span id="line-1441"></span><span>              </span><span class="annot"><span class="annottext">Maybe [ColumnInfo b]
-&gt; MaybeT (SchemaT r m) [ColumnInfo b]
-&gt; MaybeT (SchemaT r m) [ColumnInfo b]
forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#onNothing"><span class="hs-operator hs-var">`onNothing`</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; MaybeT (SchemaT r m) [ColumnInfo b]
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#throw500"><span class="hs-identifier hs-var">throw500</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;could not find column info in schema cache&quot;</span></span><span>
</span><span id="line-1442"></span><span>          </span><span class="hs-identifier">pure</span><span> </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Nullable
</span><a href="Hasura.RQL.Types.Relationships.Local.html#boolToNullable"><span class="hs-identifier hs-var">boolToNullable</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Nullable) -&gt; Bool -&gt; Nullable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(ColumnInfo b -&gt; Bool) -&gt; [ColumnInfo b] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="annot"><span class="annottext">ColumnInfo b -&gt; Bool
forall (b :: BackendType). ColumnInfo b -&gt; Bool
</span><a href="Hasura.RQL.Types.Column.html#ciIsNullable"><span class="hs-identifier hs-var">ciIsNullable</span></a></span><span> </span><span class="annot"><span class="annottext">[ColumnInfo b]
</span><a href="#local-6989586621687054402"><span class="hs-identifier hs-var">colInfo</span></a></span><span>
</span><span id="line-1443"></span><span>        </span><span class="hs-comment">-- Manual or reverse relationships are always nullable</span><span>
</span><span id="line-1444"></span><span>        </span><span class="annot"><span class="annottext">(Bool, InsertOrder)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Nullable -&gt; MaybeT (SchemaT r m) Nullable
forall a. a -&gt; MaybeT (SchemaT r m) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Nullable
</span><a href="Hasura.RQL.Types.Relationships.Local.html#Nullable"><span class="hs-identifier hs-var">Nullable</span></a></span><span>
</span><span id="line-1445"></span><span>      </span><span class="hs-identifier">pure</span><span>
</span><span id="line-1446"></span><span>        </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">FieldParser n (AnnotatedField b)
-&gt; [FieldParser n (AnnotatedField b)]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-1447"></span><span>        </span><span class="annot"><span class="annottext">(FieldParser n (AnnotatedField b)
 -&gt; [FieldParser n (AnnotatedField b)])
-&gt; FieldParser n (AnnotatedField b)
-&gt; [FieldParser n (AnnotatedField b)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Nullable
</span><a href="#local-6989586621687054390"><span class="hs-identifier hs-var">nullable</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="annot"><span class="annottext">Nullable
</span><a href="Hasura.RQL.Types.Relationships.Local.html#Nullable"><span class="hs-identifier hs-var">Nullable</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FieldParser n (AnnotatedField b)
-&gt; FieldParser n (AnnotatedField b)
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Nullable
</span><a href="Hasura.RQL.Types.Relationships.Local.html#NotNullable"><span class="hs-identifier hs-var">NotNullable</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FieldParser n (AnnotatedField b)
-&gt; FieldParser n (AnnotatedField b)
forall (m :: * -&gt; *) origin a.
FieldParser origin m a -&gt; FieldParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#nonNullableField"><span class="hs-identifier hs-var">IP.nonNullableField</span></a></span><span>
</span><span id="line-1448"></span><span>        </span><span class="annot"><span class="annottext">(FieldParser n (AnnotatedField b)
 -&gt; FieldParser n (AnnotatedField b))
-&gt; FieldParser n (AnnotatedField b)
-&gt; FieldParser n (AnnotatedField b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser 'Output n (AnnotatedFields b)
-&gt; FieldParser MetadataObjId n (AnnotatedFields b)
forall (m :: * -&gt; *) origin a.
MonadParse m =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin 'Output m a
-&gt; FieldParser origin m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/schema-parsers-1.0.0/opt/doc/html/schema-parsers/src/Hasura.GraphQL.Parser.Internal.Parser.html#subselection_"><span class="hs-identifier hs-var">P.subselection_</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054365"><span class="hs-identifier hs-var">relFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687054388"><span class="hs-identifier hs-var">desc</span></a></span><span> </span><span class="annot"><span class="annottext">Parser 'Output n (AnnotatedFields b)
</span><a href="#local-6989586621687054389"><span class="hs-identifier hs-var">selectionSetParser</span></a></span><span>
</span><span id="line-1449"></span><span>        </span><span class="annot"><span class="annottext">FieldParser MetadataObjId n (AnnotatedFields b)
-&gt; (AnnotatedFields b -&gt; AnnotatedField b)
-&gt; FieldParser n (AnnotatedField b)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687054408"><span class="annot"><span class="annottext">AnnotatedFields b
</span><a href="#local-6989586621687054408"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1450"></span><span>          </span><span class="annot"><span class="annottext">ObjectRelationSelectG
  b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
-&gt; AnnotatedField b
forall (b :: BackendType) r v.
ObjectRelationSelectG b r v -&gt; AnnFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#AFObjectRelation"><span class="hs-identifier hs-var">IR.AFObjectRelation</span></a></span><span>
</span><span id="line-1451"></span><span>            </span><span class="annot"><span class="annottext">(ObjectRelationSelectG
   b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
 -&gt; AnnotatedField b)
-&gt; ObjectRelationSelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
-&gt; AnnotatedField b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RelName
-&gt; HashMap (Column b) (Column b)
-&gt; Nullable
-&gt; AnnObjectSelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
-&gt; ObjectRelationSelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall (b :: BackendType) a.
RelName
-&gt; HashMap (Column b) (Column b)
-&gt; Nullable
-&gt; a
-&gt; AnnRelationSelectG b a
</span><a href="Hasura.RQL.IR.Select.RelationSelect.html#AnnRelationSelectG"><span class="hs-identifier hs-var">IR.AnnRelationSelectG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelInfo b -&gt; RelName
forall (b :: BackendType). RelInfo b -&gt; RelName
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riName"><span class="hs-identifier hs-var">riName</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054349"><span class="hs-identifier hs-var">ri</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelInfo b -&gt; HashMap (Column b) (Column b)
forall (b :: BackendType).
RelInfo b -&gt; HashMap (Column b) (Column b)
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riMapping"><span class="hs-identifier hs-var">riMapping</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054349"><span class="hs-identifier hs-var">ri</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Nullable
</span><a href="Hasura.RQL.Types.Relationships.Local.html#Nullable"><span class="hs-identifier hs-var">Nullable</span></a></span><span>
</span><span id="line-1452"></span><span>            </span><span class="annot"><span class="annottext">(AnnObjectSelectG
   b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
 -&gt; ObjectRelationSelectG
      b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; AnnObjectSelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
-&gt; ObjectRelationSelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AnnotatedFields b
-&gt; SelectFromG b (UnpreparedValue b)
-&gt; AnnBoolExp b (UnpreparedValue b)
-&gt; AnnObjectSelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall (b :: BackendType) r v.
AnnFieldsG b r v
-&gt; SelectFromG b v -&gt; AnnBoolExp b v -&gt; AnnObjectSelectG b r v
</span><a href="Hasura.RQL.IR.Select.html#AnnObjectSelectG"><span class="hs-identifier hs-var">IR.AnnObjectSelectG</span></a></span><span> </span><span class="annot"><span class="annottext">AnnotatedFields b
</span><a href="#local-6989586621687054408"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TableName b -&gt; SelectFromG b (UnpreparedValue b)
forall (b :: BackendType) v. TableName b -&gt; SelectFromG b v
</span><a href="Hasura.RQL.IR.Select.From.html#FromTable"><span class="hs-identifier hs-var">IR.FromTable</span></a></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621687054356"><span class="hs-identifier hs-var">otherTableName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1453"></span><span>            </span><span class="annot"><span class="annottext">(AnnBoolExp b (UnpreparedValue b)
 -&gt; AnnObjectSelectG
      b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; AnnBoolExp b (UnpreparedValue b)
-&gt; AnnObjectSelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
-&gt; AnnBoolExp b (UnpreparedValue b)
</span><a href="#local-6989586621687054368"><span class="hs-identifier hs-var">deduplicatePermissions</span></a></span><span>
</span><span id="line-1454"></span><span>            </span><span class="annot"><span class="annottext">(AnnBoolExp b (UnpreparedValue b)
 -&gt; AnnBoolExp b (UnpreparedValue b))
-&gt; AnnBoolExp b (UnpreparedValue b)
-&gt; AnnBoolExp b (UnpreparedValue b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TablePermG b (UnpreparedValue b)
-&gt; AnnBoolExp b (UnpreparedValue b)
forall (b :: BackendType) v. TablePermG b v -&gt; AnnBoolExp b v
</span><a href="Hasura.RQL.IR.Select.TablePerm.html#%24sel%3A_tpFilter%3ATablePerm"><span class="hs-identifier hs-var">IR._tpFilter</span></a></span><span>
</span><span id="line-1455"></span><span>            </span><span class="annot"><span class="annottext">(TablePermG b (UnpreparedValue b)
 -&gt; AnnBoolExp b (UnpreparedValue b))
-&gt; TablePermG b (UnpreparedValue b)
-&gt; AnnBoolExp b (UnpreparedValue b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SelPermInfo b -&gt; TablePermG b (UnpreparedValue b)
forall (b :: BackendType).
Backend b =&gt;
SelPermInfo b -&gt; TablePerms b
</span><a href="Hasura.GraphQL.Schema.Select.html#tablePermissionsInfo"><span class="hs-identifier hs-var">tablePermissionsInfo</span></a></span><span> </span><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687054364"><span class="hs-identifier hs-var">remotePerms</span></a></span><span>
</span><span id="line-1456"></span><span>    </span><span class="annot"><span class="annottext">RelType
</span><a href="Hasura.RQL.Types.Common.html#ArrRel"><span class="hs-identifier hs-var">ArrRel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1457"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687054414"><span class="annot"><span class="annottext">arrayRelDesc :: Maybe Description
</span><a href="#local-6989586621687054414"><span class="hs-identifier hs-var hs-var">arrayRelDesc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Description -&gt; Maybe Description)
-&gt; Description -&gt; Maybe Description
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-var">G.Description</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;An array relationship&quot;</span></span><span>
</span><span id="line-1458"></span><span>      </span><span id="local-6989586621687054415"><span class="annot"><span class="annottext">FieldParser n (SelectExp b)
</span><a href="#local-6989586621687054415"><span class="hs-identifier hs-var">otherTableParser</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SchemaT r m (Maybe (FieldParser n (SelectExp b)))
-&gt; MaybeT (SchemaT r m) (FieldParser n (SelectExp b))
forall (m :: * -&gt; *) a. m (Maybe a) -&gt; MaybeT m a
</span><span class="hs-identifier hs-var">MaybeT</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m (Maybe (FieldParser n (SelectExp b)))
 -&gt; MaybeT (SchemaT r m) (FieldParser n (SelectExp b)))
-&gt; SchemaT r m (Maybe (FieldParser n (SelectExp b)))
-&gt; MaybeT (SchemaT r m) (FieldParser n (SelectExp b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; Name
-&gt; Maybe Description
-&gt; SchemaT r m (Maybe (FieldParser n (SelectExp b)))
forall r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSourceSchema b r m n =&gt;
TableInfo b
-&gt; Name
-&gt; Maybe Description
-&gt; SchemaT r m (Maybe (FieldParser n (SelectExp b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(BackendTableSelectSchema b, MonadBuildSourceSchema b r m n) =&gt;
TableInfo b
-&gt; Name
-&gt; Maybe Description
-&gt; SchemaT r m (Maybe (FieldParser n (SelectExp b)))
</span><a href="Hasura.GraphQL.Schema.Backend.html#selectTable"><span class="hs-identifier hs-var">selectTable</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687054362"><span class="hs-identifier hs-var">otherTableInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054365"><span class="hs-identifier hs-var">relFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687054414"><span class="hs-identifier hs-var">arrayRelDesc</span></a></span><span>
</span><span id="line-1459"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687054417"><span class="annot"><span class="annottext">arrayRelField :: FieldParser n (AnnotatedField b)
</span><a href="#local-6989586621687054417"><span class="hs-identifier hs-var hs-var">arrayRelField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1460"></span><span>            </span><span class="annot"><span class="annottext">FieldParser n (SelectExp b)
</span><a href="#local-6989586621687054415"><span class="hs-identifier hs-var">otherTableParser</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser n (SelectExp b)
-&gt; (SelectExp b -&gt; AnnotatedField b)
-&gt; FieldParser n (AnnotatedField b)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687054418"><span class="annot"><span class="annottext">SelectExp b
</span><a href="#local-6989586621687054418"><span class="hs-identifier hs-var">selectExp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1461"></span><span>              </span><span class="annot"><span class="annottext">ArraySelectG
  b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
-&gt; AnnotatedField b
forall (b :: BackendType) r v.
ArraySelectG b r v -&gt; AnnFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#AFArrayRelation"><span class="hs-identifier hs-var">IR.AFArrayRelation</span></a></span><span>
</span><span id="line-1462"></span><span>                </span><span class="annot"><span class="annottext">(ArraySelectG
   b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
 -&gt; AnnotatedField b)
-&gt; ArraySelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
-&gt; AnnotatedField b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArrayRelationSelectG
  b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
-&gt; ArraySelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall (b :: BackendType) r v.
ArrayRelationSelectG b r v -&gt; ArraySelectG b r v
</span><a href="Hasura.RQL.IR.Select.html#ASSimple"><span class="hs-identifier hs-var">IR.ASSimple</span></a></span><span>
</span><span id="line-1463"></span><span>                </span><span class="annot"><span class="annottext">(ArrayRelationSelectG
   b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
 -&gt; ArraySelectG
      b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; ArrayRelationSelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
-&gt; ArraySelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RelName
-&gt; HashMap (Column b) (Column b)
-&gt; Nullable
-&gt; SelectExp b
-&gt; ArrayRelationSelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall (b :: BackendType) a.
RelName
-&gt; HashMap (Column b) (Column b)
-&gt; Nullable
-&gt; a
-&gt; AnnRelationSelectG b a
</span><a href="Hasura.RQL.IR.Select.RelationSelect.html#AnnRelationSelectG"><span class="hs-identifier hs-var">IR.AnnRelationSelectG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelInfo b -&gt; RelName
forall (b :: BackendType). RelInfo b -&gt; RelName
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riName"><span class="hs-identifier hs-var">riName</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054349"><span class="hs-identifier hs-var">ri</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelInfo b -&gt; HashMap (Column b) (Column b)
forall (b :: BackendType).
RelInfo b -&gt; HashMap (Column b) (Column b)
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riMapping"><span class="hs-identifier hs-var">riMapping</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054349"><span class="hs-identifier hs-var">ri</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Nullable
</span><a href="Hasura.RQL.Types.Relationships.Local.html#Nullable"><span class="hs-identifier hs-var">Nullable</span></a></span><span>
</span><span id="line-1464"></span><span>                </span><span class="annot"><span class="annottext">(SelectExp b
 -&gt; ArrayRelationSelectG
      b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; SelectExp b
-&gt; ArrayRelationSelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SelectExp b -&gt; SelectExp b
</span><a href="#local-6989586621687054382"><span class="hs-identifier hs-var">deduplicatePermissions'</span></a></span><span> </span><span class="annot"><span class="annottext">SelectExp b
</span><a href="#local-6989586621687054418"><span class="hs-identifier hs-var">selectExp</span></a></span><span>
</span><span id="line-1465"></span><span>          </span><span id="local-6989586621687054421"><span class="annot"><span class="annottext">relAggFieldName :: Name
</span><a href="#local-6989586621687054421"><span class="hs-identifier hs-var hs-var">relAggFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NamingCase -&gt; Name -&gt; Name
</span><a href="Hasura.RQL.Types.SourceCustomization.html#applyFieldNameCaseCust"><span class="hs-identifier hs-var">applyFieldNameCaseCust</span></a></span><span> </span><span class="annot"><span class="annottext">NamingCase
</span><a href="#local-6989586621687054350"><span class="hs-identifier hs-var">tCase</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; Name -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054365"><span class="hs-identifier hs-var">relFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Name
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#__aggregate"><span class="hs-identifier hs-var">Name.__aggregate</span></a></span><span>
</span><span id="line-1466"></span><span>          </span><span id="local-6989586621687054424"><span class="annot"><span class="annottext">relAggDesc :: Maybe Description
</span><a href="#local-6989586621687054424"><span class="hs-identifier hs-var hs-var">relAggDesc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Description -&gt; Maybe Description)
-&gt; Description -&gt; Maybe Description
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-var">G.Description</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;An aggregate relationship&quot;</span></span><span>
</span><span id="line-1467"></span><span>      </span><span id="local-6989586621687054425"><span class="annot"><span class="annottext">Maybe (FieldParser n (AggSelectExp b))
</span><a href="#local-6989586621687054425"><span class="hs-identifier hs-var">remoteAggField</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SchemaT r m (Maybe (FieldParser n (AggSelectExp b)))
-&gt; MaybeT (SchemaT r m) (Maybe (FieldParser n (AggSelectExp b)))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; MaybeT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m (Maybe (FieldParser n (AggSelectExp b)))
 -&gt; MaybeT (SchemaT r m) (Maybe (FieldParser n (AggSelectExp b))))
-&gt; SchemaT r m (Maybe (FieldParser n (AggSelectExp b)))
-&gt; MaybeT (SchemaT r m) (Maybe (FieldParser n (AggSelectExp b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; Name
-&gt; Maybe Description
-&gt; SchemaT r m (Maybe (FieldParser n (AggSelectExp b)))
forall r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSourceSchema b r m n =&gt;
TableInfo b
-&gt; Name
-&gt; Maybe Description
-&gt; SchemaT r m (Maybe (FieldParser n (AggSelectExp b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(BackendTableSelectSchema b, MonadBuildSourceSchema b r m n) =&gt;
TableInfo b
-&gt; Name
-&gt; Maybe Description
-&gt; SchemaT r m (Maybe (FieldParser n (AggSelectExp b)))
</span><a href="Hasura.GraphQL.Schema.Backend.html#selectTableAggregate"><span class="hs-identifier hs-var">selectTableAggregate</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687054362"><span class="hs-identifier hs-var">otherTableInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054421"><span class="hs-identifier hs-var">relAggFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687054424"><span class="hs-identifier hs-var">relAggDesc</span></a></span><span>
</span><span id="line-1468"></span><span>      </span><span id="local-6989586621687054427"><span class="annot"><span class="annottext">Maybe (FieldParser n (ConnectionSelectExp b))
</span><a href="#local-6989586621687054427"><span class="hs-identifier hs-var">remoteConnectionField</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MaybeT
  (MaybeT (SchemaT r m)) (FieldParser n (ConnectionSelectExp b))
-&gt; MaybeT
     (SchemaT r m) (Maybe (FieldParser n (ConnectionSelectExp b)))
forall (m :: * -&gt; *) a. MaybeT m a -&gt; m (Maybe a)
</span><span class="hs-identifier hs-var">runMaybeT</span></span><span> </span><span class="annot"><span class="annottext">(MaybeT
   (MaybeT (SchemaT r m)) (FieldParser n (ConnectionSelectExp b))
 -&gt; MaybeT
      (SchemaT r m) (Maybe (FieldParser n (ConnectionSelectExp b))))
-&gt; MaybeT
     (MaybeT (SchemaT r m)) (FieldParser n (ConnectionSelectExp b))
-&gt; MaybeT
     (SchemaT r m) (Maybe (FieldParser n (ConnectionSelectExp b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1469"></span><span>        </span><span class="hs-comment">-- Parse array connection field only for relay schema</span><span>
</span><span id="line-1470"></span><span>        </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#RelaySchema"><span class="hs-identifier hs-type">RelaySchema</span></a></span><span> </span><span class="annot"><span class="annottext">NodeInterfaceParserBuilder
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SchemaContext -&gt; SchemaKind)
-&gt; MaybeT (MaybeT (SchemaT r m)) SchemaKind
forall r (m :: * -&gt; *) a b.
(MonadReader r m, Has a r) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="Hasura.GraphQL.Schema.Common.html#retrieve"><span class="hs-identifier hs-var">retrieve</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaContext -&gt; SchemaKind
</span><a href="Hasura.GraphQL.Schema.Common.html#scSchemaKind"><span class="hs-identifier hs-var">scSchemaKind</span></a></span><span>
</span><span id="line-1471"></span><span>        </span><span id="local-6989586621687054428"><span class="annot"><span class="annottext">XRelay b
</span><a href="#local-6989586621687054428"><span class="hs-identifier hs-var">_xRelayInfo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (XRelay b) -&gt; MaybeT (MaybeT (SchemaT r m)) (XRelay b)
forall (m :: * -&gt; *) b. Applicative m =&gt; Maybe b -&gt; MaybeT m b
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#hoistMaybe"><span class="hs-identifier hs-var">hoistMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (XRelay b) -&gt; MaybeT (MaybeT (SchemaT r m)) (XRelay b))
-&gt; Maybe (XRelay b) -&gt; MaybeT (MaybeT (SchemaT r m)) (XRelay b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType). BackendSchema b =&gt; Maybe (XRelay b)
</span><a href="Hasura.GraphQL.Schema.Backend.html#relayExtension"><span class="hs-identifier hs-var">relayExtension</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621687051743"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-1472"></span><span>        </span><span id="local-6989586621687054429"><span class="annot"><span class="annottext">NESeq (ColumnInfo b)
</span><a href="#local-6989586621687054429"><span class="hs-identifier hs-var">pkeyColumns</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1473"></span><span>          </span><span class="annot"><span class="annottext">MaybeT (SchemaT r m) (Maybe (NESeq (ColumnInfo b)))
-&gt; MaybeT (MaybeT (SchemaT r m)) (NESeq (ColumnInfo b))
forall (m :: * -&gt; *) a. m (Maybe a) -&gt; MaybeT m a
</span><span class="hs-identifier hs-var">MaybeT</span></span><span>
</span><span id="line-1474"></span><span>            </span><span class="annot"><span class="annottext">(MaybeT (SchemaT r m) (Maybe (NESeq (ColumnInfo b)))
 -&gt; MaybeT (MaybeT (SchemaT r m)) (NESeq (ColumnInfo b)))
-&gt; MaybeT (SchemaT r m) (Maybe (NESeq (ColumnInfo b)))
-&gt; MaybeT (MaybeT (SchemaT r m)) (NESeq (ColumnInfo b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TableInfo b
-&gt; Getting
     (First (NESeq (ColumnInfo b))) (TableInfo b) (NESeq (ColumnInfo b))
-&gt; Maybe (NESeq (ColumnInfo b))
forall s a. s -&gt; Getting (First a) s a -&gt; Maybe a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Fold.html#%5E%3F"><span class="hs-operator hs-var">^?</span></a></span><span> </span><span class="annot"><span class="annottext">(TableCoreInfoG b (FieldInfo b) (ColumnInfo b)
 -&gt; Const
      (First (NESeq (ColumnInfo b)))
      (TableCoreInfoG b (FieldInfo b) (ColumnInfo b)))
-&gt; TableInfo b
-&gt; Const (First (NESeq (ColumnInfo b))) (TableInfo b)
forall (b :: BackendType) (f :: * -&gt; *).
Functor f =&gt;
(TableCoreInfo b -&gt; f (TableCoreInfo b))
-&gt; TableInfo b -&gt; f (TableInfo b)
</span><a href="Hasura.Table.Cache.html#tiCoreInfo"><span class="hs-identifier hs-var">tiCoreInfo</span></a></span><span> </span><span class="annot"><span class="annottext">((TableCoreInfoG b (FieldInfo b) (ColumnInfo b)
  -&gt; Const
       (First (NESeq (ColumnInfo b)))
       (TableCoreInfoG b (FieldInfo b) (ColumnInfo b)))
 -&gt; TableInfo b
 -&gt; Const (First (NESeq (ColumnInfo b))) (TableInfo b))
-&gt; ((NESeq (ColumnInfo b)
     -&gt; Const (First (NESeq (ColumnInfo b))) (NESeq (ColumnInfo b)))
    -&gt; TableCoreInfoG b (FieldInfo b) (ColumnInfo b)
    -&gt; Const
         (First (NESeq (ColumnInfo b)))
         (TableCoreInfoG b (FieldInfo b) (ColumnInfo b)))
-&gt; Getting
     (First (NESeq (ColumnInfo b))) (TableInfo b) (NESeq (ColumnInfo b))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (PrimaryKey b (ColumnInfo b))
 -&gt; Const
      (First (NESeq (ColumnInfo b)))
      (Maybe (PrimaryKey b (ColumnInfo b))))
-&gt; TableCoreInfoG b (FieldInfo b) (ColumnInfo b)
-&gt; Const
     (First (NESeq (ColumnInfo b)))
     (TableCoreInfoG b (FieldInfo b) (ColumnInfo b))
forall (b :: BackendType) field primaryKeyColumn1 primaryKeyColumn2
       (f :: * -&gt; *).
Functor f =&gt;
(Maybe (PrimaryKey b primaryKeyColumn1)
 -&gt; f (Maybe (PrimaryKey b primaryKeyColumn2)))
-&gt; TableCoreInfoG b field primaryKeyColumn1
-&gt; f (TableCoreInfoG b field primaryKeyColumn2)
</span><a href="Hasura.Table.Cache.html#tciPrimaryKey"><span class="hs-identifier hs-var">tciPrimaryKey</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe (PrimaryKey b (ColumnInfo b))
  -&gt; Const
       (First (NESeq (ColumnInfo b)))
       (Maybe (PrimaryKey b (ColumnInfo b))))
 -&gt; TableCoreInfoG b (FieldInfo b) (ColumnInfo b)
 -&gt; Const
      (First (NESeq (ColumnInfo b)))
      (TableCoreInfoG b (FieldInfo b) (ColumnInfo b)))
-&gt; ((NESeq (ColumnInfo b)
     -&gt; Const (First (NESeq (ColumnInfo b))) (NESeq (ColumnInfo b)))
    -&gt; Maybe (PrimaryKey b (ColumnInfo b))
    -&gt; Const
         (First (NESeq (ColumnInfo b)))
         (Maybe (PrimaryKey b (ColumnInfo b))))
-&gt; (NESeq (ColumnInfo b)
    -&gt; Const (First (NESeq (ColumnInfo b))) (NESeq (ColumnInfo b)))
-&gt; TableCoreInfoG b (FieldInfo b) (ColumnInfo b)
-&gt; Const
     (First (NESeq (ColumnInfo b)))
     (TableCoreInfoG b (FieldInfo b) (ColumnInfo b))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(PrimaryKey b (ColumnInfo b)
 -&gt; Const
      (First (NESeq (ColumnInfo b))) (PrimaryKey b (ColumnInfo b)))
-&gt; Maybe (PrimaryKey b (ColumnInfo b))
-&gt; Const
     (First (NESeq (ColumnInfo b)))
     (Maybe (PrimaryKey b (ColumnInfo b)))
forall a b (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Choice p, Applicative f) =&gt;
p a (f b) -&gt; p (Maybe a) (f (Maybe b))
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Prism.html#_Just"><span class="hs-identifier hs-var">_Just</span></a></span><span> </span><span class="annot"><span class="annottext">((PrimaryKey b (ColumnInfo b)
  -&gt; Const
       (First (NESeq (ColumnInfo b))) (PrimaryKey b (ColumnInfo b)))
 -&gt; Maybe (PrimaryKey b (ColumnInfo b))
 -&gt; Const
      (First (NESeq (ColumnInfo b)))
      (Maybe (PrimaryKey b (ColumnInfo b))))
-&gt; ((NESeq (ColumnInfo b)
     -&gt; Const (First (NESeq (ColumnInfo b))) (NESeq (ColumnInfo b)))
    -&gt; PrimaryKey b (ColumnInfo b)
    -&gt; Const
         (First (NESeq (ColumnInfo b))) (PrimaryKey b (ColumnInfo b)))
-&gt; (NESeq (ColumnInfo b)
    -&gt; Const (First (NESeq (ColumnInfo b))) (NESeq (ColumnInfo b)))
-&gt; Maybe (PrimaryKey b (ColumnInfo b))
-&gt; Const
     (First (NESeq (ColumnInfo b)))
     (Maybe (PrimaryKey b (ColumnInfo b)))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(NESeq (ColumnInfo b)
 -&gt; Const (First (NESeq (ColumnInfo b))) (NESeq (ColumnInfo b)))
-&gt; PrimaryKey b (ColumnInfo b)
-&gt; Const
     (First (NESeq (ColumnInfo b))) (PrimaryKey b (ColumnInfo b))
forall (b :: BackendType) a1 a2 (f :: * -&gt; *).
Functor f =&gt;
(NESeq a1 -&gt; f (NESeq a2))
-&gt; PrimaryKey b a1 -&gt; f (PrimaryKey b a2)
</span><a href="Hasura.Table.Cache.html#pkColumns"><span class="hs-identifier hs-var">pkColumns</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1475"></span><span>            </span><span class="annot"><span class="annottext">(TableInfo b -&gt; Maybe (NESeq (ColumnInfo b)))
-&gt; MaybeT (SchemaT r m) (TableInfo b)
-&gt; MaybeT (SchemaT r m) (Maybe (NESeq (ColumnInfo b)))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">TableInfo b -&gt; MaybeT (SchemaT r m) (TableInfo b)
forall a. a -&gt; MaybeT (SchemaT r m) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687054362"><span class="hs-identifier hs-var">otherTableInfo</span></a></span><span>
</span><span id="line-1476"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687054433"><span class="annot"><span class="annottext">relConnectionName :: Name
</span><a href="#local-6989586621687054433"><span class="hs-identifier hs-var hs-var">relConnectionName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054365"><span class="hs-identifier hs-var">relFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Name
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#__connection"><span class="hs-identifier hs-var">Name.__connection</span></a></span><span>
</span><span id="line-1477"></span><span>            </span><span id="local-6989586621687054436"><span class="annot"><span class="annottext">relConnectionDesc :: Maybe Description
</span><a href="#local-6989586621687054436"><span class="hs-identifier hs-var hs-var">relConnectionDesc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Description -&gt; Maybe Description)
-&gt; Description -&gt; Maybe Description
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Description
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/graphql-parser-0.2.0.0/opt/doc/html/graphql-parser/src/Language.GraphQL.Draft.Syntax.html#Description"><span class="hs-identifier hs-var">G.Description</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;An array relationship connection&quot;</span></span><span>
</span><span id="line-1478"></span><span>        </span><span class="annot"><span class="annottext">MaybeT
  (SchemaT r m) (Maybe (FieldParser n (ConnectionSelectExp b)))
-&gt; MaybeT
     (MaybeT (SchemaT r m)) (FieldParser n (ConnectionSelectExp b))
forall (m :: * -&gt; *) a. m (Maybe a) -&gt; MaybeT m a
</span><span class="hs-identifier hs-var">MaybeT</span></span><span> </span><span class="annot"><span class="annottext">(MaybeT
   (SchemaT r m) (Maybe (FieldParser n (ConnectionSelectExp b)))
 -&gt; MaybeT
      (MaybeT (SchemaT r m)) (FieldParser n (ConnectionSelectExp b)))
-&gt; MaybeT
     (SchemaT r m) (Maybe (FieldParser n (ConnectionSelectExp b)))
-&gt; MaybeT
     (MaybeT (SchemaT r m)) (FieldParser n (ConnectionSelectExp b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SchemaT r m (Maybe (FieldParser n (ConnectionSelectExp b)))
-&gt; MaybeT
     (SchemaT r m) (Maybe (FieldParser n (ConnectionSelectExp b)))
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; MaybeT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(SchemaT r m (Maybe (FieldParser n (ConnectionSelectExp b)))
 -&gt; MaybeT
      (SchemaT r m) (Maybe (FieldParser n (ConnectionSelectExp b))))
-&gt; SchemaT r m (Maybe (FieldParser n (ConnectionSelectExp b)))
-&gt; MaybeT
     (SchemaT r m) (Maybe (FieldParser n (ConnectionSelectExp b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TableInfo b
-&gt; Name
-&gt; Maybe Description
-&gt; NESeq (ColumnInfo b)
-&gt; SchemaT r m (Maybe (FieldParser n (ConnectionSelectExp b)))
forall (b :: BackendType) r (m :: * -&gt; *) (n :: * -&gt; *).
(MonadBuildSchema b r m n, BackendTableSelectSchema b,
 AggregationPredicatesSchema b) =&gt;
TableInfo b
-&gt; Name
-&gt; Maybe Description
-&gt; PrimaryKeyColumns b
-&gt; SchemaT r m (Maybe (FieldParser n (ConnectionSelectExp b)))
</span><a href="Hasura.GraphQL.Schema.Select.html#selectTableConnection"><span class="hs-identifier hs-var">selectTableConnection</span></a></span><span> </span><span class="annot"><span class="annottext">TableInfo b
</span><a href="#local-6989586621687054362"><span class="hs-identifier hs-var">otherTableInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621687054433"><span class="hs-identifier hs-var">relConnectionName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621687054436"><span class="hs-identifier hs-var">relConnectionDesc</span></a></span><span> </span><span class="annot"><span class="annottext">NESeq (ColumnInfo b)
</span><a href="#local-6989586621687054429"><span class="hs-identifier hs-var">pkeyColumns</span></a></span><span>
</span><span id="line-1479"></span><span>      </span><span class="hs-identifier">pure</span><span>
</span><span id="line-1480"></span><span>        </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">[Maybe (FieldParser n (AnnotatedField b))]
-&gt; [FieldParser n (AnnotatedField b)]
forall a. [Maybe a] -&gt; [a]
forall (f :: * -&gt; *) a. Filterable f =&gt; f (Maybe a) -&gt; f a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/witherable-0.4.2-a40f3f0a2ed7f25145b5b00589bf4ea2486662b1e96b7d29d5e6041625ee4a09/share/doc/html/src/Witherable.html#catMaybes"><span class="hs-identifier hs-var">catMaybes</span></a></span><span>
</span><span id="line-1481"></span><span>          </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FieldParser n (AnnotatedField b)
-&gt; Maybe (FieldParser n (AnnotatedField b))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">FieldParser n (AnnotatedField b)
</span><a href="#local-6989586621687054417"><span class="hs-identifier hs-var">arrayRelField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1482"></span><span>            </span><span class="annot"><span class="annottext">(AggSelectExp b -&gt; AnnotatedField b)
-&gt; FieldParser n (AggSelectExp b)
-&gt; FieldParser n (AnnotatedField b)
forall a b.
(a -&gt; b)
-&gt; FieldParser MetadataObjId n a -&gt; FieldParser MetadataObjId n b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArraySelectG
  b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
-&gt; AnnotatedField b
forall (b :: BackendType) r v.
ArraySelectG b r v -&gt; AnnFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#AFArrayRelation"><span class="hs-identifier hs-var">IR.AFArrayRelation</span></a></span><span> </span><span class="annot"><span class="annottext">(ArraySelectG
   b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
 -&gt; AnnotatedField b)
-&gt; (AggSelectExp b
    -&gt; ArraySelectG
         b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; AggSelectExp b
-&gt; AnnotatedField b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ArrayAggregateSelectG
  b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
-&gt; ArraySelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall (b :: BackendType) r v.
ArrayAggregateSelectG b r v -&gt; ArraySelectG b r v
</span><a href="Hasura.RQL.IR.Select.html#ASAggregate"><span class="hs-identifier hs-var">IR.ASAggregate</span></a></span><span> </span><span class="annot"><span class="annottext">(ArrayAggregateSelectG
   b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
 -&gt; ArraySelectG
      b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; (AggSelectExp b
    -&gt; ArrayAggregateSelectG
         b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; AggSelectExp b
-&gt; ArraySelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">RelName
-&gt; HashMap (Column b) (Column b)
-&gt; Nullable
-&gt; AggSelectExp b
-&gt; ArrayAggregateSelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall (b :: BackendType) a.
RelName
-&gt; HashMap (Column b) (Column b)
-&gt; Nullable
-&gt; a
-&gt; AnnRelationSelectG b a
</span><a href="Hasura.RQL.IR.Select.RelationSelect.html#AnnRelationSelectG"><span class="hs-identifier hs-var">IR.AnnRelationSelectG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelInfo b -&gt; RelName
forall (b :: BackendType). RelInfo b -&gt; RelName
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riName"><span class="hs-identifier hs-var">riName</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054349"><span class="hs-identifier hs-var">ri</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelInfo b -&gt; HashMap (Column b) (Column b)
forall (b :: BackendType).
RelInfo b -&gt; HashMap (Column b) (Column b)
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riMapping"><span class="hs-identifier hs-var">riMapping</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054349"><span class="hs-identifier hs-var">ri</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Nullable
</span><a href="Hasura.RQL.Types.Relationships.Local.html#Nullable"><span class="hs-identifier hs-var">Nullable</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(FieldParser n (AggSelectExp b)
 -&gt; FieldParser n (AnnotatedField b))
-&gt; Maybe (FieldParser n (AggSelectExp b))
-&gt; Maybe (FieldParser n (AnnotatedField b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe (FieldParser n (AggSelectExp b))
</span><a href="#local-6989586621687054425"><span class="hs-identifier hs-var">remoteAggField</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1483"></span><span>            </span><span class="annot"><span class="annottext">(ConnectionSelectExp b -&gt; AnnotatedField b)
-&gt; FieldParser n (ConnectionSelectExp b)
-&gt; FieldParser n (AnnotatedField b)
forall a b.
(a -&gt; b)
-&gt; FieldParser MetadataObjId n a -&gt; FieldParser MetadataObjId n b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArraySelectG
  b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
-&gt; AnnotatedField b
forall (b :: BackendType) r v.
ArraySelectG b r v -&gt; AnnFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#AFArrayRelation"><span class="hs-identifier hs-var">IR.AFArrayRelation</span></a></span><span> </span><span class="annot"><span class="annottext">(ArraySelectG
   b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
 -&gt; AnnotatedField b)
-&gt; (ConnectionSelectExp b
    -&gt; ArraySelectG
         b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; ConnectionSelectExp b
-&gt; AnnotatedField b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ArrayConnectionSelect
  b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
-&gt; ArraySelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall (b :: BackendType) r v.
ArrayConnectionSelect b r v -&gt; ArraySelectG b r v
</span><a href="Hasura.RQL.IR.Select.html#ASConnection"><span class="hs-identifier hs-var">IR.ASConnection</span></a></span><span> </span><span class="annot"><span class="annottext">(ArrayConnectionSelect
   b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
 -&gt; ArraySelectG
      b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; (ConnectionSelectExp b
    -&gt; ArrayConnectionSelect
         b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b))
-&gt; ConnectionSelectExp b
-&gt; ArraySelectG
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">RelName
-&gt; HashMap (Column b) (Column b)
-&gt; Nullable
-&gt; ConnectionSelectExp b
-&gt; ArrayConnectionSelect
     b (RemoteRelationshipField UnpreparedValue) (UnpreparedValue b)
forall (b :: BackendType) a.
RelName
-&gt; HashMap (Column b) (Column b)
-&gt; Nullable
-&gt; a
-&gt; AnnRelationSelectG b a
</span><a href="Hasura.RQL.IR.Select.RelationSelect.html#AnnRelationSelectG"><span class="hs-identifier hs-var">IR.AnnRelationSelectG</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelInfo b -&gt; RelName
forall (b :: BackendType). RelInfo b -&gt; RelName
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riName"><span class="hs-identifier hs-var">riName</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054349"><span class="hs-identifier hs-var">ri</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelInfo b -&gt; HashMap (Column b) (Column b)
forall (b :: BackendType).
RelInfo b -&gt; HashMap (Column b) (Column b)
</span><a href="Hasura.RQL.Types.Relationships.Local.html#riMapping"><span class="hs-identifier hs-var">riMapping</span></a></span><span> </span><span class="annot"><span class="annottext">RelInfo b
</span><a href="#local-6989586621687054349"><span class="hs-identifier hs-var">ri</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Nullable
</span><a href="Hasura.RQL.Types.Relationships.Local.html#Nullable"><span class="hs-identifier hs-var">Nullable</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(FieldParser n (ConnectionSelectExp b)
 -&gt; FieldParser n (AnnotatedField b))
-&gt; Maybe (FieldParser n (ConnectionSelectExp b))
-&gt; Maybe (FieldParser n (AnnotatedField b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe (FieldParser n (ConnectionSelectExp b))
</span><a href="#local-6989586621687054427"><span class="hs-identifier hs-var">remoteConnectionField</span></a></span><span>
</span><span id="line-1484"></span><span>          </span><span class="hs-special">]</span><span>
</span><span id="line-1485"></span><span>
</span><span id="line-1486"></span><span id="local-6989586621687051134"><span class="annot"><a href="Hasura.GraphQL.Schema.Select.html#tablePermissionsInfo"><span class="hs-identifier hs-type">tablePermissionsInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051134"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.Table.Cache.html#SelPermInfo"><span class="hs-identifier hs-type">SelPermInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051134"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html#TablePerms"><span class="hs-identifier hs-type">TablePerms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687051134"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-1487"></span><span id="tablePermissionsInfo"><span class="annot"><span class="annottext">tablePermissionsInfo :: forall (b :: BackendType).
Backend b =&gt;
SelPermInfo b -&gt; TablePerms b
</span><a href="Hasura.GraphQL.Schema.Select.html#tablePermissionsInfo"><span class="hs-identifier hs-var hs-var">tablePermissionsInfo</span></a></span></span><span> </span><span id="local-6989586621687054443"><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687054443"><span class="hs-identifier hs-var">selectPermissions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1488"></span><span>  </span><span class="annot"><a href="Hasura.RQL.IR.Select.TablePerm.html#TablePerm"><span class="hs-identifier hs-type">IR.TablePerm</span></a></span><span>
</span><span id="line-1489"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:_tpFilter:TablePerm :: AnnBoolExp b (UnpreparedValue b)
</span><a href="Hasura.RQL.IR.Select.TablePerm.html#%24sel%3A_tpFilter%3ATablePerm"><span class="hs-identifier hs-var">IR._tpFilter</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PartialSQLExp b -&gt; UnpreparedValue b)
-&gt; AnnBoolExpFld b (PartialSQLExp b)
-&gt; AnnBoolExpFld b (UnpreparedValue b)
forall a b. (a -&gt; b) -&gt; AnnBoolExpFld b a -&gt; AnnBoolExpFld b b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">PartialSQLExp b -&gt; UnpreparedValue b
forall (b :: BackendType). PartialSQLExp b -&gt; UnpreparedValue b
</span><a href="Hasura.GraphQL.Schema.Common.html#partialSQLExpToUnpreparedValue"><span class="hs-identifier hs-var">partialSQLExpToUnpreparedValue</span></a></span><span> </span><span class="annot"><span class="annottext">(AnnBoolExpFld b (PartialSQLExp b)
 -&gt; AnnBoolExpFld b (UnpreparedValue b))
-&gt; GBoolExp b (AnnBoolExpFld b (PartialSQLExp b))
-&gt; AnnBoolExp b (UnpreparedValue b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SelPermInfo b -&gt; GBoolExp b (AnnBoolExpFld b (PartialSQLExp b))
forall (b :: BackendType). SelPermInfo b -&gt; AnnBoolExpPartialSQL b
</span><a href="Hasura.Table.Cache.html#spiFilter"><span class="hs-identifier hs-var">spiFilter</span></a></span><span> </span><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687054443"><span class="hs-identifier hs-var">selectPermissions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1490"></span><span>      </span><span class="annot"><span class="annottext">$sel:_tpLimit:TablePerm :: Maybe Int
</span><a href="Hasura.RQL.IR.Select.TablePerm.html#%24sel%3A_tpLimit%3ATablePerm"><span class="hs-identifier hs-var">IR._tpLimit</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SelPermInfo b -&gt; Maybe Int
forall (b :: BackendType). SelPermInfo b -&gt; Maybe Int
</span><a href="Hasura.Table.Cache.html#spiLimit"><span class="hs-identifier hs-var">spiLimit</span></a></span><span> </span><span class="annot"><span class="annottext">SelPermInfo b
</span><a href="#local-6989586621687054443"><span class="hs-identifier hs-var">selectPermissions</span></a></span><span>
</span><span id="line-1491"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-1492"></span></pre></body></html>